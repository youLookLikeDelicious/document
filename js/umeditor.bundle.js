!function(l){function t(t){for(var e,n,i=t[0],o=t[1],r=t[2],a=0,s=[];a<i.length;a++)n=i[a],Object.prototype.hasOwnProperty.call(d,n)&&d[n]&&s.push(d[n][0]),d[n]=0;for(e in o)Object.prototype.hasOwnProperty.call(o,e)&&(l[e]=o[e]);for(p&&p(t);s.length;)s.shift()();return u.push.apply(u,r||[]),c()}function c(){for(var t,e=0;e<u.length;e++){for(var n=u[e],i=!0,o=1;o<n.length;o++){var r=n[o];0!==d[r]&&(i=!1)}i&&(u.splice(e--,1),t=a(a.s=n[0]))}return t}var n={},d={0:0},u=[];function a(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return l[t].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=l,a.c=n,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var e=window.webpackJsonp=window.webpackJsonp||[],i=e.push.bind(e);e.push=t,e=e.slice();for(var o=0;o<e.length;o++)t(e[o]);var p=i;u.push([128,1]),c()}({127:function(t,e,n){"use strict";e.a='function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\n/**\n * MathQuill v0.10.1               http://mathquill.com\n * by Han, Jeanine, and Mary  maintainers@mathquill.com\n *\n * This Source Code Form is subject to the terms of the\n * Mozilla Public License, v. 2.0. If a copy of the MPL\n * was not distributed with this file, You can obtain\n * one at http://mozilla.org/MPL/2.0/.\n */\nfunction mathquillV10(_window, _document) {\n  _window = _window || window;\n  _document = _document || document;\n\n  function t() {}\n\n  function e(t) {\n    var e = t.length - 1;\n    return function () {\n      var n = kt.call(arguments, 0, e),\n          i = kt.call(arguments, e);\n      return t.apply(this, n.concat([i]));\n    };\n  }\n\n  function n(t) {\n    return e(function (e, n) {\n      "function" != typeof e && (e = jt(e));\n\n      var i = function i(t) {\n        return e.apply(t, [t].concat(n));\n      };\n\n      return t.call(this, i);\n    });\n  }\n\n  function i(t) {\n    var e = kt.call(arguments, 1);\n    return function () {\n      return t.apply(this, e);\n    };\n  }\n\n  function s(t, e) {\n    if (!e) throw new Error("prayer failed: " + t);\n  }\n\n  function r(t) {\n    s("a direction was passed", t === Tt || t === Ct);\n  }\n\n  function o(t, e, n) {\n    s("a parent is always present", t), s("leftward is properly set up", function () {\n      return e ? e[Ct] === n && e.parent === t : t.ends[Tt] === n;\n    }()), s("rightward is properly set up", function () {\n      return n ? n[Tt] === e && n.parent === t : t.ends[Ct] === e;\n    }());\n  }\n\n  function a() {\n    _window.console && console.warn(\'You are using the MathQuill API without specifying an interface version, which will fail in v1.0.0. Easiest fix is to do the following before doing anything else:\\n\\n    MathQuill = MathQuill.getInterface(1);\\n    // now MathQuill.MathField() works like it used to\\n\\nSee also the "`dev` branch (2014–2015) → v0.10.0 Migration Guide" at\\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide\');\n  }\n\n  function l(t) {\n    return a(), bt(t);\n  }\n\n  function c(e) {\n    function n(t) {\n      var e, n;\n      return t && t.nodeType ? (e = _t(t).children(".mq-root-block").attr(xt), n = e && St.byId[e].controller, n ? s[n.KIND_OF_MQ](n) : null) : null;\n    }\n\n    function i(t, e) {\n      var n, i, r;\n      e && e.handlers && (e.handlers = {\n        fns: e.handlers,\n        APIClasses: s\n      });\n\n      for (n in e) {\n        e.hasOwnProperty(n) && (i = e[n], r = Ft[n], t[n] = r ? r(i) : i);\n      }\n    }\n\n    var s, r, o;\n    if (!(e >= g && b >= e)) throw "Only interface versions between " + g + " and " + b + " supported. You specified: " + e;\n    s = {}, n.L = Tt, n.R = Ct, n.config = function (t) {\n      return i(Bt.p, t), this;\n    }, n.registerEmbed = function (t, e) {\n      if (!/^[a-z][a-z0-9]*$/i.test(t)) throw "Embed name must start with letter and be only letters and digits";\n      Nt[t] = e;\n    }, r = s.AbstractMathQuill = Qt($t, function (t) {\n      t.init = function (t) {\n        this.__controller = t, this.__options = t.options, this.id = t.id, this.data = t.data;\n      }, t.__mathquillify = function (t) {\n        var e,\n            n = this.__controller,\n            i = n.root,\n            s = n.container;\n        n.createTextarea(), e = s.addClass(t).contents().detach(), i.jQ = _t(\'<span class="mq-root-block"/>\').attr(xt, i.id).appendTo(s), this.latex(e.text()), this.revert = function () {\n          return s.empty().unbind(".mathquill").removeClass("mq-editable-field mq-math-mode mq-text-mode").append(e);\n        };\n      }, t.config = function (t) {\n        return i(this.__options, t), this;\n      }, t.el = function () {\n        return this.__controller.container[0];\n      }, t.text = function () {\n        return this.__controller.exportText();\n      }, t.latex = function (t) {\n        return arguments.length > 0 ? (this.__controller.renderLatexMath(t), this.__controller.blurred && this.__controller.cursor.hide().parent.blur(), this) : this.__controller.exportLatex();\n      }, t.html = function () {\n        return this.__controller.root.jQ.html().replace(/ mathquill-(?:command|block)-id="?\\d+"?/g, "").replace(/<span class="?mq-cursor( mq-blink)?"?>.?<\\/span>/i, "").replace(/ mq-hasCursor|mq-hasCursor ?/, "").replace(/ class=(""|(?= |>))/g, "");\n      }, t.reflow = function () {\n        return this.__controller.root.postOrder("reflow"), this;\n      };\n    }), n.prototype = r.prototype, s.EditableField = Qt(r, function (e, n) {\n      e.__mathquillify = function () {\n        return n.__mathquillify.apply(this, arguments), this.__controller.editable = !0, this.__controller.delegateMouseEvents(), this.__controller.editablesTextareaEvents(), this;\n      }, e.focus = function () {\n        return this.__controller.textarea.focus(), this;\n      }, e.blur = function () {\n        return this.__controller.textarea.blur(), this;\n      }, e.write = function (t) {\n        return this.__controller.writeLatex(t), this.__controller.scrollHoriz(), this.__controller.blurred && this.__controller.cursor.hide().parent.blur(), this;\n      }, e.cmd = function (t) {\n        var e,\n            n = this.__controller.notify(),\n            i = n.cursor;\n\n        return /^\\\\[a-z]+$/i.test(t) ? (t = t.slice(1), e = Et[t], e && (t = e(t), i.selection && t.replaces(i.replaceSelection()), t.createLeftOf(i.show()), this.__controller.scrollHoriz())) : i.parent.write(i, t), n.blurred && i.hide().parent.blur(), this;\n      }, e.select = function () {\n        var t = this.__controller;\n\n        for (t.notify("move").cursor.insAtRightEnd(t.root); t.cursor[Tt];) {\n          t.selectLeft();\n        }\n\n        return this;\n      }, e.clearSelection = function () {\n        return this.__controller.cursor.clearSelection(), this;\n      }, e.moveToDirEnd = function (t) {\n        return this.__controller.notify("move").cursor.insAtDirEnd(t, this.__controller.root), this;\n      }, e.moveToLeftEnd = function () {\n        return this.moveToDirEnd(Tt);\n      }, e.moveToRightEnd = function () {\n        return this.moveToDirEnd(Ct);\n      }, e.keystroke = function (e) {\n        var n;\n\n        for (e = e.replace(/^\\s+|\\s+$/g, "").split(/\\s+/), n = 0; n < e.length; n += 1) {\n          this.__controller.keystroke(e[n], {\n            preventDefault: t\n          });\n        }\n\n        return this;\n      }, e.typedText = function (t) {\n        for (var e = 0; e < t.length; e += 1) {\n          this.__controller.typedText(t.charAt(e));\n        }\n\n        return this;\n      }, e.dropEmbedded = function (t, e, n) {\n        var i,\n            s = t - _t(_window).scrollLeft(),\n            r = e - _t(_window).scrollTop(),\n            o = _document.elementFromPoint(s, r);\n\n        this.__controller.seek(_t(o), t, e), i = mt().setOptions(n), i.createLeftOf(this.__controller.cursor);\n      }, e.clickAt = function (t, e, n) {\n        n = n || _document.elementFromPoint(t, e);\n        var i = this.__controller,\n            s = i.root;\n        return wt.contains(s.jQ[0], n) || (n = s.jQ[0]), i.seek(_t(n), t + pageXOffset, e + pageYOffset), i.blurred && this.focus(), this;\n      }, e.ignoreNextMousedown = function (t) {\n        return this.__controller.cursor.options.ignoreNextMousedown = t, this;\n      };\n    }), n.EditableField = function () {\n      throw "wtf don\'t call me, I\'m \'abstract\'";\n    }, n.EditableField.prototype = s.EditableField.prototype;\n\n    for (o in Mt) {\n      (function (t, i) {\n        var r = s[t] = i(s);\n        n[t] = function (i, s) {\n          var o,\n              a = n(i);\n          return a instanceof r || !i || !i.nodeType ? a : (o = zt(r.RootBlock(), _t(i), Bt()), o.KIND_OF_MQ = t, r(o).__mathquillify(s, e));\n        }, n[t].prototype = r.prototype;\n      })(o, Mt[o]);\n    }\n\n    return n;\n  }\n\n  function u(t) {\n    var e,\n        n = "moveOutOf deleteOutOf selectOutOf upOutOf downOutOf".split(" ");\n\n    for (e = 0; e < n.length; e += 1) {\n      (function (e) {\n        t[e] = function (t) {\n          this.controller.handle(e, t);\n        };\n      })(n[e]);\n    }\n\n    t.reflow = function () {\n      this.controller.handle("reflow"), this.controller.handle("edited"), this.controller.handle("edit");\n    };\n  }\n\n  function h(t, e, n) {\n    return Qt(_, {\n      ctrlSeq: t,\n      htmlTemplate: "<" + e + " " + n + ">&0</" + e + ">"\n    });\n  }\n\n  function f(t) {\n    var e = this.parent,\n        n = t;\n\n    do {\n      if (n[Ct]) return t.insLeftOf(e);\n      n = n.parent.parent;\n    } while (n !== e);\n\n    t.insRightOf(e);\n  }\n\n  function p(t, e) {\n    t.jQadd = function () {\n      e.jQadd.apply(this, arguments), this.delimjQs = this.jQ.children(":first").add(this.jQ.children(":last")), this.contentjQ = this.jQ.children(":eq(1)");\n    }, t.reflow = function () {\n      var t = this.contentjQ.outerHeight() / parseFloat(this.contentjQ.css("fontSize")); // K(this.delimjQs, yt(1 + .3 * (t - 1), 1.4), 1.2 * t)\n\n      K(this.delimjQs, 1.5, 1.2 * t);\n    };\n  }\n\n  function d(t, e) {\n    var e = e || t,\n        n = ft[t],\n        s = ft[e];\n    At[t] = i(ht, Tt, t, n, e, s), At[n] = i(ht, Ct, t, n, e, s);\n  }\n\n  var m,\n      g,\n      b,\n      v,\n      w,\n      q,\n      x,\n      y,\n      O,\n      k,\n      j,\n      Q,\n      T,\n      C,\n      _,\n      D,\n      S,\n      L,\n      E,\n      A,\n      R,\n      I,\n      z,\n      M,\n      B,\n      F,\n      $,\n      N,\n      P,\n      U,\n      W,\n      H,\n      G,\n      K,\n      Y,\n      X,\n      Z,\n      V,\n      J,\n      tt,\n      et,\n      nt,\n      it,\n      st,\n      rt,\n      ot,\n      at,\n      lt,\n      ct,\n      ut,\n      ht,\n      ft,\n      pt,\n      dt,\n      bt,\n      mt,\n      gt,\n      xy,\n      vt,\n      wt = _window.jQuery,\n      qt = "mathquill-command-id",\n      xt = "mathquill-block-id",\n      yt = Math.min,\n      Ot = Math.max,\n      kt = [].slice,\n      jt = e(function (t, n) {\n    return e(function (e, i) {\n      return t in e ? e[t].apply(e, n.concat(i)) : void 0;\n    });\n  }),\n      Qt = function (t, e, n) {\n    function i(t) {\n      return "object" == _typeof(t);\n    }\n\n    function s(t) {\n      return "function" == typeof t;\n    }\n\n    function r() {}\n\n    return function o(a, l) {\n      function c() {\n        var t = new u();\n        return s(t.init) && t.init.apply(t, arguments), t;\n      }\n\n      function u() {}\n\n      var h, f, p;\n      return l === n && (l = a, a = Object), c.Bare = u, h = r[t] = a[t], f = u[t] = c[t] = c.p = new r(), f.constructor = c, c.extend = function (t) {\n        return o(c, t);\n      }, (c.open = function (t) {\n        if (p = {}, s(t) ? p = t.call(c, f, h, c, a) : i(t) && (p = t), i(p)) for (var n in p) {\n          e.call(p, n) && (f[n] = p[n]);\n        }\n        return s(f.init) || (f.init = a), c;\n      })(l);\n    };\n  }("prototype", {}.hasOwnProperty),\n      Tt = -1,\n      Ct = 1,\n      _t = Qt(wt, function (t) {\n    t.insDirOf = function (t, e) {\n      return t === Tt ? this.insertBefore(e.first()) : this.insertAfter(e.last());\n    }, t.insAtDirEnd = function (t, e) {\n      return t === Tt ? this.prependTo(e) : this.appendTo(e);\n    };\n  }),\n      Dt = Qt(function (t) {\n    t.parent = 0, t[Tt] = 0, t[Ct] = 0, t.init = function (t, e, n) {\n      this.parent = t, this[Tt] = e, this[Ct] = n;\n    }, this.copy = function (t) {\n      return Dt(t.parent, t[Tt], t[Ct]);\n    };\n  }),\n      St = Qt(function (t) {\n    function e() {\n      return i += 1;\n    }\n\n    t[Tt] = 0, t[Ct] = 0, t.parent = 0;\n    var i = 0;\n    this.byId = {}, t.init = function () {\n      this.id = e(), St.byId[this.id] = this, this.ends = {}, this.ends[Tt] = 0, this.ends[Ct] = 0;\n    }, t.dispose = function () {\n      delete St.byId[this.id];\n    }, t.toString = function () {\n      return "{{ MathQuill Node #" + this.id + " }}";\n    }, t.jQ = _t(), t.jQadd = function (t) {\n      return this.jQ = this.jQ.add(t);\n    }, t.jQize = function (t) {\n      function e(t) {\n        var n, i;\n\n        for (t.getAttribute && (n = t.getAttribute("mathquill-command-id"), i = t.getAttribute("mathquill-block-id"), n && St.byId[n].jQadd(t), i && St.byId[i].jQadd(t)), t = t.firstChild; t; t = t.nextSibling) {\n          e(t);\n        }\n      }\n\n      var n;\n\n      for (t = _t(t || this.html()), n = 0; n < t.length; n += 1) {\n        e(t[n]);\n      }\n\n      return t;\n    }, t.createDir = function (t, e) {\n      r(t);\n      var n = this;\n      return n.jQize(), n.jQ.insDirOf(t, e.jQ), e[t] = n.adopt(e.parent, e[Tt], e[Ct]), n;\n    }, t.createLeftOf = function (t) {\n      return this.createDir(Tt, t);\n    }, t.selectChildren = function (t, e) {\n      return It(t, e);\n    }, t.bubble = n(function (t) {\n      var e, n;\n\n      for (e = this; e && (n = t(e), n !== !1); e = e.parent) {\n        ;\n      }\n\n      return this;\n    }), t.postOrder = n(function (t) {\n      return function e(n) {\n        n.eachChild(e), t(n);\n      }(this), this;\n    }), t.isEmpty = function () {\n      return 0 === this.ends[Tt] && 0 === this.ends[Ct];\n    }, t.children = function () {\n      return Lt(this.ends[Tt], this.ends[Ct]);\n    }, t.eachChild = function () {\n      var t = this.children();\n      return t.each.apply(t, arguments), this;\n    }, t.foldChildren = function (t, e) {\n      return this.children().fold(t, e);\n    }, t.withDirAdopt = function (t, e, n, i) {\n      return Lt(this, this).withDirAdopt(t, e, n, i), this;\n    }, t.adopt = function (t, e, n) {\n      return Lt(this, this).adopt(t, e, n), this;\n    }, t.disown = function () {\n      return Lt(this, this).disown(), this;\n    }, t.remove = function () {\n      return this.jQ.remove(), this.postOrder("dispose"), this.disown();\n    };\n  }),\n      Lt = Qt(function (t) {\n    t.init = function (t, e, n) {\n      if (n === m && (n = Tt), r(n), s("no half-empty fragments", !t == !e), this.ends = {}, t) {\n        s("withDir is passed to Fragment", t instanceof St), s("oppDir is passed to Fragment", e instanceof St), s("withDir and oppDir have the same parent", t.parent === e.parent), this.ends[n] = t, this.ends[-n] = e;\n        var i = this.fold([], function (t, e) {\n          return t.push.apply(t, e.jQ.get()), t;\n        });\n        this.jQ = this.jQ.add(i);\n      }\n    }, t.jQ = _t(), t.withDirAdopt = function (t, e, n, i) {\n      return t === Tt ? this.adopt(e, n, i) : this.adopt(e, i, n);\n    }, t.adopt = function (t, e, n) {\n      var i, s, r;\n      return o(t, e, n), i = this, i.disowned = !1, (s = i.ends[Tt]) ? (r = i.ends[Ct], e || (t.ends[Tt] = s), n ? n[Tt] = r : t.ends[Ct] = r, i.ends[Ct][Ct] = n, i.each(function (n) {\n        n[Tt] = e, n.parent = t, e && (e[Ct] = n), e = n;\n      }), i) : this;\n    }, t.disown = function () {\n      var t,\n          e,\n          n = this,\n          i = n.ends[Tt];\n      return !i || n.disowned ? n : (n.disowned = !0, t = n.ends[Ct], e = i.parent, o(e, i[Tt], i), o(e, t, t[Ct]), i[Tt] ? i[Tt][Ct] = t[Ct] : e.ends[Tt] = t[Ct], t[Ct] ? t[Ct][Tt] = i[Tt] : e.ends[Ct] = i[Tt], n);\n    }, t.remove = function () {\n      return this.jQ.remove(), this.each("postOrder", "dispose"), this.disown();\n    }, t.each = n(function (t) {\n      var e,\n          n = this,\n          i = n.ends[Tt];\n      if (!i) return n;\n\n      for (; i !== n.ends[Ct][Ct] && (e = t(i), e !== !1); i = i[Ct]) {\n        ;\n      }\n\n      return n;\n    }), t.fold = function (t, e) {\n      return this.each(function (n) {\n        t = e.call(this, t, n);\n      }), t;\n    };\n  }),\n      Et = {},\n      At = {},\n      Rt = Qt(Dt, function (t) {\n    t.init = function (t, e) {\n      this.parent = t, this.options = e;\n\n      var n = this.jQ = this._jQ = _t(\'<span class="mq-cursor">&#8203;</span>\');\n\n      this.blink = function () {\n        n.toggleClass("mq-blink");\n      }, this.upDownCache = {};\n    }, t.show = function () {\n      return this.jQ = this._jQ.removeClass("mq-blink"), "intervalId" in this ? clearInterval(this.intervalId) : (this[Ct] ? this.selection && this.selection.ends[Tt][Tt] === this[Tt] ? this.jQ.insertBefore(this.selection.jQ) : this.jQ.insertBefore(this[Ct].jQ.first()) : this.jQ.appendTo(this.parent.jQ), this.parent.focus()), this.intervalId = setInterval(this.blink, 500), this;\n    }, t.hide = function () {\n      return "intervalId" in this && clearInterval(this.intervalId), delete this.intervalId, this.jQ.detach(), this.jQ = _t(), this;\n    }, t.withDirInsertAt = function (t, e, n, i) {\n      var s = this.parent;\n      this.parent = e, this[t] = n, this[-t] = i, s !== e && s.blur && s.blur(this);\n    }, t.insDirOf = function (t, e) {\n      return r(t), this.jQ.insDirOf(t, e.jQ), this.withDirInsertAt(t, e.parent, e[t], e), this.parent.jQ.addClass("mq-hasCursor"), this;\n    }, t.insLeftOf = function (t) {\n      return this.insDirOf(Tt, t);\n    }, t.insRightOf = function (t) {\n      return this.insDirOf(Ct, t);\n    }, t.insAtDirEnd = function (t, e) {\n      return r(t), this.jQ.insAtDirEnd(t, e.jQ), this.withDirInsertAt(t, e, 0, e.ends[t]), e.focus(), this;\n    }, t.insAtLeftEnd = function (t) {\n      return this.insAtDirEnd(Tt, t);\n    }, t.insAtRightEnd = function (t) {\n      return this.insAtDirEnd(Ct, t);\n    }, t.jumpUpDown = function (t, e) {\n      var n,\n          i,\n          s = this;\n      s.upDownCache[t.id] = Dt.copy(s), n = s.upDownCache[e.id], n ? n[Ct] ? s.insLeftOf(n[Ct]) : s.insAtRightEnd(n.parent) : (i = s.offset().left, e.seek(i, s));\n    }, t.offset = function () {\n      var t = this,\n          e = t.jQ.removeClass("mq-cursor").offset();\n      return t.jQ.addClass("mq-cursor"), e;\n    }, t.unwrapGramp = function () {\n      var t = this.parent.parent,\n          e = t.parent,\n          n = t[Ct],\n          i = this,\n          s = t[Tt];\n      if (t.disown().eachChild(function (i) {\n        i.isEmpty() || (i.children().adopt(e, s, n).each(function (e) {\n          e.jQ.insertBefore(t.jQ.first());\n        }), s = i.ends[Ct]);\n      }), !this[Ct]) if (this[Tt]) this[Ct] = this[Tt][Ct];else for (; !this[Ct];) {\n        if (this.parent = this.parent[Ct], !this.parent) {\n          this[Ct] = t[Ct], this.parent = e;\n          break;\n        }\n\n        this[Ct] = this.parent.ends[Tt];\n      }\n      this[Ct] ? this.insLeftOf(this[Ct]) : this.insAtRightEnd(e), t.jQ.remove(), t[Tt].siblingDeleted && t[Tt].siblingDeleted(i.options, Ct), t[Ct].siblingDeleted && t[Ct].siblingDeleted(i.options, Tt);\n    }, t.startSelection = function () {\n      var t,\n          e = this.anticursor = Dt.copy(this),\n          n = e.ancestors = {};\n\n      for (t = e; t.parent; t = t.parent) {\n        n[t.parent.id] = t;\n      }\n    }, t.endSelection = function () {\n      delete this.anticursor;\n    }, t.select = function () {\n      var t,\n          e,\n          n,\n          i,\n          r,\n          o,\n          a,\n          l = this.anticursor;\n      if (this[Tt] === l[Tt] && this.parent === l.parent) return !1;\n\n      for (t = this; t.parent; t = t.parent) {\n        if (t.parent.id in l.ancestors) {\n          e = t.parent;\n          break;\n        }\n      }\n\n      if (s("cursor and anticursor in the same tree", e), n = l.ancestors[e.id], o = Ct, t[Tt] !== n) for (a = t; a; a = a[Ct]) {\n        if (a[Ct] === n[Ct]) {\n          o = Tt, i = t, r = n;\n          break;\n        }\n      }\n      return o === Ct && (i = n, r = t), i instanceof Dt && (i = i[Ct]), r instanceof Dt && (r = r[Tt]), this.hide().selection = e.selectChildren(i, r), this.insDirOf(o, this.selection.ends[o]), this.selectionChanged(), !0;\n    }, t.clearSelection = function () {\n      return this.selection && (this.selection.clear(), delete this.selection, this.selectionChanged()), this;\n    }, t.deleteSelection = function () {\n      this.selection && (this[Tt] = this.selection.ends[Tt][Tt], this[Ct] = this.selection.ends[Ct][Ct], this.selection.remove(), this.selectionChanged(), delete this.selection);\n    }, t.replaceSelection = function () {\n      var t = this.selection;\n      return t && (this[Tt] = t.ends[Tt][Tt], this[Ct] = t.ends[Ct][Ct], delete this.selection), t;\n    };\n  }),\n      It = Qt(Lt, function (t, e) {\n    t.init = function () {\n      e.init.apply(this, arguments), this.jQ = this.jQ.wrapAll(\'<span class="mq-selection"></span>\').parent();\n    }, t.adopt = function () {\n      return this.jQ.replaceWith(this.jQ = this.jQ.children()), e.adopt.apply(this, arguments);\n    }, t.clear = function () {\n      return this.jQ.replaceWith(this.jQ[0].childNodes), this;\n    }, t.join = function (t) {\n      return this.fold("", function (e, n) {\n        return e + n[t]();\n      });\n    };\n  }),\n      zt = Qt(function (t) {\n    t.init = function (t, e, n) {\n      this.id = t.id, this.data = {}, this.root = t, this.container = e, this.options = n, t.controller = this, this.cursor = t.cursor = Rt(t, n);\n    }, t.handle = function (t, e) {\n      var n,\n          i = this.options.handlers;\n      i && i.fns[t] && (n = i.APIClasses[this.KIND_OF_MQ](this), e === Tt || e === Ct ? i.fns[t](e, n) : i.fns[t](n));\n    };\n    var e = [];\n    this.onNotify = function (t) {\n      e.push(t);\n    }, t.notify = function () {\n      for (var t = 0; t < e.length; t += 1) {\n        e[t].apply(this.cursor, arguments);\n      }\n\n      return this;\n    };\n  }),\n      Mt = {},\n      Bt = Qt(),\n      Ft = {},\n      $t = Qt(),\n      Nt = {};\n\n  l.prototype = $t.p, l.interfaceVersion = function (t) {\n    if (1 !== t) throw "Only interface version 1 supported. You specified: " + t;\n    return a = function a() {\n      _window.console && _window.console.warn(\'You called MathQuill.interfaceVersion(1); to specify the interface version, which will fail in v1.0.0. You can fix this easily by doing this before doing anything else:\\n\\n    MathQuill = MathQuill.getInterface(1);\\n    // now MathQuill.MathField() works like it used to\\n\\nSee also the "`dev` branch (2014–2015) → v0.10.0 Migration Guide" at\\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide\');\n    }, a(), l;\n  }, l.getInterface = c, g = c.MIN = 1, b = c.MAX = 2, l.noConflict = function () {\n    return _window.MathQuill = v, l;\n  }, v = _window.MathQuill, _window.MathQuill = l, w = Qt(function (t, e, n) {\n    function i(t, e) {\n      throw t = t ? "\'" + t + "\'" : "EOF", "Parse Error: " + e + " at " + t;\n    }\n\n    var r, o, a, l, c, u, h, f, p, d, m, g, b;\n    t.init = function (t) {\n      this._ = t;\n    }, t.parse = function (t) {\n      function e(t, e) {\n        return e;\n      }\n\n      return this.skip(b)._("" + t, e, i);\n    }, t.or = function (t) {\n      s("or is passed a parser", t instanceof n);\n      var e = this;\n      return n(function (n, i, s) {\n        function r(e) {\n          return t._(n, i, s);\n        }\n\n        return e._(n, i, r);\n      });\n    }, t.then = function (t) {\n      var e = this;\n      return n(function (i, r, o) {\n        function a(e, i) {\n          var a = t instanceof n ? t : t(i);\n          return s("a parser is returned", a instanceof n), a._(e, r, o);\n        }\n\n        return e._(i, a, o);\n      });\n    }, t.many = function () {\n      var t = this;\n      return n(function (e, n, i) {\n        function s(t, n) {\n          return e = t, o.push(n), !0;\n        }\n\n        function r() {\n          return !1;\n        }\n\n        for (var o = []; t._(e, s, r);) {\n          ;\n        }\n\n        return n(e, o);\n      });\n    }, t.times = function (t, e) {\n      arguments.length < 2 && (e = t);\n      var i = this;\n      return n(function (n, s, r) {\n        function o(t, e) {\n          return h.push(e), n = t, !0;\n        }\n\n        function a(t, e) {\n          return c = e, n = t, !1;\n        }\n\n        function l(t, e) {\n          return !1;\n        }\n\n        var c,\n            u,\n            h = [],\n            f = !0;\n\n        for (u = 0; t > u; u += 1) {\n          if (f = i._(n, o, a), !f) return r(n, c);\n        }\n\n        for (; e > u && f; u += 1) {\n          f = i._(n, o, l);\n        }\n\n        return s(n, h);\n      });\n    }, t.result = function (t) {\n      return this.then(a(t));\n    }, t.atMost = function (t) {\n      return this.times(0, t);\n    }, t.atLeast = function (t) {\n      var e = this;\n      return e.times(t).then(function (t) {\n        return e.many().map(function (e) {\n          return t.concat(e);\n        });\n      });\n    }, t.map = function (t) {\n      return this.then(function (e) {\n        return a(t(e));\n      });\n    }, t.skip = function (t) {\n      return this.then(function (e) {\n        return t.result(e);\n      });\n    }, r = this.string = function (t) {\n      var e = t.length,\n          i = "expected \'" + t + "\'";\n      return n(function (n, s, r) {\n        var o = n.slice(0, e);\n        return o === t ? s(n.slice(e), o) : r(n, i);\n      });\n    }, o = this.regex = function (t) {\n      s("regexp parser is anchored", "^" === t.toString().charAt(1));\n      var e = "expected " + t;\n      return n(function (n, i, s) {\n        var r,\n            o = t.exec(n);\n        return o ? (r = o[0], i(n.slice(r.length), r)) : s(n, e);\n      });\n    }, a = n.succeed = function (t) {\n      return n(function (e, n) {\n        return n(e, t);\n      });\n    }, l = n.fail = function (t) {\n      return n(function (e, n, i) {\n        return i(e, t);\n      });\n    }, c = n.letter = o(/^[a-z]/i), u = n.letters = o(/^[a-z]*/i), h = n.digit = o(/^[0-9]/), f = n.digits = o(/^[0-9]*/), p = n.whitespace = o(/^\\s+/), d = n.optWhitespace = o(/^\\s*/), m = n.any = n(function (t, e, n) {\n      return t ? e(t.slice(1), t.charAt(0)) : n(t, "expected any character");\n    }), g = n.all = n(function (t, e, n) {\n      return e("", t);\n    }), b = n.eof = n(function (t, e, n) {\n      return t ? n(t, "expected EOF") : e(t, t);\n    });\n  }), q = function () {\n    function e(t) {\n      var e,\n          i = t.which || t.keyCode,\n          s = n[i],\n          r = [];\n      return t.ctrlKey && r.push("Ctrl"), t.originalEvent && t.originalEvent.metaKey && r.push("Meta"), t.altKey && r.push("Alt"), t.shiftKey && r.push("Shift"), e = s || String.fromCharCode(i), r.length || s ? (r.push(e), r.join("-")) : e;\n    }\n\n    var n = {\n      8: "Backspace",\n      9: "Tab",\n      10: "Enter",\n      13: "Enter",\n      16: "Shift",\n      17: "Control",\n      18: "Alt",\n      20: "CapsLock",\n      27: "Esc",\n      32: "Spacebar",\n      33: "PageUp",\n      34: "PageDown",\n      35: "End",\n      36: "Home",\n      37: "Left",\n      38: "Up",\n      39: "Right",\n      40: "Down",\n      45: "Insert",\n      46: "Del",\n      144: "NumLock"\n    };\n    return function (n, i) {\n      function s(t) {\n        q = t, clearTimeout(d), d = setTimeout(t);\n      }\n\n      function r(e) {\n        q(), q = t, clearTimeout(d), v.val(e), e && v[0].select && v[0].select(), m = !!e;\n      }\n\n      function o() {\n        var t = v[0];\n        return "selectionStart" in t ? t.selectionStart !== t.selectionEnd : !1;\n      }\n\n      function a() {\n        i.keystroke(e(g), g);\n      }\n\n      function l(e) {\n        g = e, b = null, m && s(function (e) {\n          e && "focusout" === e.type || !v[0].select || v[0].select(), q = t, clearTimeout(d);\n        }), a();\n      }\n\n      function c(t) {\n        g && b && a(), b = t, s(u);\n      }\n\n      function u() {\n        if (!o()) {\n          var t = v.val();\n          1 === t.length ? (v.val(""), i.typedText(t)) : t && v[0].select && v[0].select();\n        }\n      }\n\n      function h() {\n        g = b = null;\n      }\n\n      function f(t) {\n        v.focus(), s(p);\n      }\n\n      function p() {\n        var t = v.val();\n        v.val(""), t && i.paste(t);\n      }\n\n      var d,\n          m,\n          g = null,\n          b = null,\n          v = wt(n),\n          w = wt(i.container || v),\n          q = t;\n      return w.bind("keydown keypress input keyup focusout paste", function (t) {\n        q(t);\n      }), m = !1, w.bind({\n        keydown: l,\n        keypress: c,\n        focusout: h,\n        paste: f\n      }), {\n        select: r\n      };\n    };\n  }(), zt.open(function (t, e) {\n    t.exportText = function () {\n      return this.root.foldChildren("", function (t, e) {\n        return t + e.text();\n      });\n    };\n  }), zt.open(function (t) {\n    t.focusBlurEvents = function () {\n      function t() {\n        clearTimeout(n), r.selection && r.selection.jQ.addClass("mq-blur"), e();\n      }\n\n      function e() {\n        r.hide().parent.blur(), i.container.removeClass("mq-focused"), _t(_window).off("blur", t);\n      }\n\n      var n,\n          i = this,\n          s = i.root,\n          r = i.cursor;\n      i.textarea.focus(function () {\n        i.blurred = !1, clearTimeout(n), i.container.addClass("mq-focused"), r.parent || r.insAtRightEnd(s), r.selection ? (r.selection.jQ.removeClass("mq-blur"), i.selectionChanged()) : r.show();\n      }).blur(function () {\n        i.blurred = !0, n = setTimeout(function () {\n          s.postOrder("intentionalBlur"), r.clearSelection().endSelection(), e();\n        }), _t(_window).on("blur", t);\n      }), i.blurred = !0, r.hide().parent.blur();\n    };\n  }), zt.open(function (t) {\n    t.keystroke = function (t, e) {\n      this.cursor.parent.keystroke(t, e, this);\n    };\n  }), St.open(function (t) {\n    t.keystroke = function (t, e, n) {\n      var i = n.cursor;\n\n      switch (t) {\n        case "Ctrl-Shift-Backspace":\n        case "Ctrl-Backspace":\n          n.ctrlDeleteDir(Tt);\n          break;\n\n        case "Shift-Backspace":\n        case "Backspace":\n          n.backspace();\n          break;\n\n        case "Esc":\n        case "Tab":\n          return void n.escapeDir(Ct, t, e);\n\n        case "Shift-Tab":\n        case "Shift-Esc":\n          return void n.escapeDir(Tt, t, e);\n\n        case "End":\n          n.notify("move").cursor.insAtRightEnd(i.parent);\n          break;\n\n        case "Ctrl-End":\n          n.notify("move").cursor.insAtRightEnd(n.root);\n          break;\n\n        case "Shift-End":\n          for (; i[Ct];) {\n            n.selectRight();\n          }\n\n          break;\n\n        case "Ctrl-Shift-End":\n          for (; i[Ct] || i.parent !== n.root;) {\n            n.selectRight();\n          }\n\n          break;\n\n        case "Home":\n          n.notify("move").cursor.insAtLeftEnd(i.parent);\n          break;\n\n        case "Ctrl-Home":\n          n.notify("move").cursor.insAtLeftEnd(n.root);\n          break;\n\n        case "Shift-Home":\n          for (; i[Tt];) {\n            n.selectLeft();\n          }\n\n          break;\n\n        case "Ctrl-Shift-Home":\n          for (; i[Tt] || i.parent !== n.root;) {\n            n.selectLeft();\n          }\n\n          break;\n\n        case "Left":\n          n.moveLeft();\n          break;\n\n        case "Shift-Left":\n          n.selectLeft();\n          break;\n\n        case "Ctrl-Left":\n          break;\n\n        case "Right":\n          n.moveRight();\n          break;\n\n        case "Shift-Right":\n          n.selectRight();\n          break;\n\n        case "Ctrl-Right":\n          break;\n\n        case "Up":\n          n.moveUp();\n          break;\n\n        case "Down":\n          n.moveDown();\n          break;\n\n        case "Shift-Up":\n          if (i[Tt]) for (; i[Tt];) {\n            n.selectLeft();\n          } else n.selectLeft();\n\n        case "Shift-Down":\n          if (i[Ct]) for (; i[Ct];) {\n            n.selectRight();\n          } else n.selectRight();\n\n        case "Ctrl-Up":\n          break;\n\n        case "Ctrl-Down":\n          break;\n\n        case "Ctrl-Shift-Del":\n        case "Ctrl-Del":\n          n.ctrlDeleteDir(Ct);\n          break;\n\n        case "Shift-Del":\n        case "Del":\n          n.deleteForward();\n          break;\n\n        case "Meta-A":\n        case "Ctrl-A":\n          for (n.notify("move").cursor.insAtRightEnd(n.root); i[Tt];) {\n            n.selectLeft();\n          }\n\n          break;\n\n        default:\n          return;\n      }\n\n      e.preventDefault(), n.scrollHoriz();\n    }, t.moveOutOf = t.moveTowards = t.deleteOutOf = t.deleteTowards = t.unselectInto = t.selectOutOf = t.selectTowards = function () {\n      s("overridden or never called on this node");\n    };\n  }), zt.open(function (t) {\n    function e(t, e) {\n      var n = t.notify("upDown").cursor,\n          i = e + "Into",\n          s = e + "OutOf";\n      return n[Ct][i] ? n.insAtLeftEnd(n[Ct][i]) : n[Tt][i] ? n.insAtRightEnd(n[Tt][i]) : n.parent.bubble(function (t) {\n        var e = t[s];\n        return e && ("function" == typeof e && (e = t[s](n)), e instanceof St && n.jumpUpDown(t, e), e !== !0) ? !1 : void 0;\n      }), t;\n    }\n\n    this.onNotify(function (t) {\n      "move" !== t && "upDown" !== t || this.show().clearSelection();\n    }), t.escapeDir = function (t, e, n) {\n      r(t);\n      var i = this.cursor;\n      return i.parent !== this.root && n.preventDefault(), i.parent !== this.root ? (i.parent.moveOutOf(t, i), this.notify("move")) : void 0;\n    }, Ft.leftRightIntoCmdGoes = function (t) {\n      if (t && "up" !== t && "down" !== t) throw \'"up" or "down" required for leftRightIntoCmdGoes option, got "\' + t + \'"\';\n      return t;\n    }, t.moveDir = function (t) {\n      r(t);\n      var e = this.cursor,\n          n = e.options.leftRightIntoCmdGoes;\n      return e.selection ? e.insDirOf(t, e.selection.ends[t]) : e[t] ? e[t].moveTowards(t, e, n) : e.parent.moveOutOf(t, e, n), this.notify("move");\n    }, t.moveLeft = function () {\n      return this.moveDir(Tt);\n    }, t.moveRight = function () {\n      return this.moveDir(Ct);\n    }, t.moveUp = function () {\n      return e(this, "up");\n    }, t.moveDown = function () {\n      return e(this, "down");\n    }, this.onNotify(function (t) {\n      "upDown" !== t && (this.upDownCache = {});\n    }), this.onNotify(function (t) {\n      "edit" === t && this.show().deleteSelection();\n    }), t.deleteDir = function (t) {\n      var e, n;\n      return r(t), e = this.cursor, n = e.selection, this.notify("edit"), n || (e[t] ? e[t].deleteTowards(t, e) : e.parent.deleteOutOf(t, e)), e[Tt].siblingDeleted && e[Tt].siblingDeleted(e.options, Ct), e[Ct].siblingDeleted && e[Ct].siblingDeleted(e.options, Tt), e.parent.bubble("reflow"), this;\n    }, t.ctrlDeleteDir = function (t) {\n      r(t);\n      var e = this.cursor;\n      return !e[Tt] || e.selection ? ctrlr.deleteDir() : (this.notify("edit"), Lt(e.parent.ends[Tt], e[Tt]).remove(), e.insAtDirEnd(Tt, e.parent), e[Tt].siblingDeleted && e[Tt].siblingDeleted(e.options, Ct), e[Ct].siblingDeleted && e[Ct].siblingDeleted(e.options, Tt), e.parent.bubble("reflow"), this);\n    }, t.backspace = function () {\n      return this.deleteDir(Tt);\n    }, t.deleteForward = function () {\n      return this.deleteDir(Ct);\n    }, this.onNotify(function (t) {\n      "select" !== t && this.endSelection();\n    }), t.selectDir = function (t) {\n      var e,\n          n = this.notify("select").cursor,\n          i = n.selection;\n      r(t), n.anticursor || n.startSelection(), e = n[t], e ? i && i.ends[t] === e && n.anticursor[-t] !== e ? e.unselectInto(t, n) : e.selectTowards(t, n) : n.parent.selectOutOf(t, n), n.clearSelection(), n.select() || n.show();\n    }, t.selectLeft = function () {\n      return this.selectDir(Tt);\n    }, t.selectRight = function () {\n      return this.selectDir(Ct);\n    };\n  }), x = function () {\n    function t(t) {\n      var e = T();\n      return t.adopt(e, 0, 0), e;\n    }\n\n    function e(t) {\n      var e,\n          n = t[0] || T();\n\n      for (e = 1; e < t.length; e += 1) {\n        t[e].children().adopt(n, n.ends[Ct], 0);\n      }\n\n      return n;\n    }\n\n    var n = w.string,\n        i = w.regex,\n        s = w.letter,\n        r = w.any,\n        o = w.optWhitespace,\n        a = w.succeed,\n        l = w.fail,\n        c = s.map(function (t) {\n      return R(t);\n    }),\n        u = i(/^[^${}\\\\_^]/).map(function (t) {\n      return j(t);\n    }),\n        h = i(/^[^\\\\a-eg-zA-Z]/).or(n("\\\\").then(i(/^[a-z]+/i).or(i(/^\\s+/).result(" ")).or(r))).then(function (t) {\n      var e = Et[t];\n      return e ? e(t).parser() : l("unknown command: \\\\" + t);\n    }),\n        f = h.or(c).or(u),\n        p = n("{").then(function () {\n      return m;\n    }).skip(n("}")),\n        d = o.then(p.or(f.map(t))),\n        m = d.many().map(e).skip(o),\n        g = n("[").then(d.then(function (t) {\n      return "]" !== t.join("latex") ? a(t) : l();\n    }).many().map(e).skip(o)).skip(n("]")),\n        b = m;\n    return b.block = d, b.optBlock = g, b;\n  }(), zt.open(function (t, e) {\n    t.exportLatex = function () {\n      return this.root.latex().replace(/(\\\\[a-z]+) (?![a-z])/gi, "$1");\n    }, t.writeLatex = function (t) {\n      var e,\n          n = this.notify("edit").cursor,\n          i = w.all,\n          s = w.eof,\n          r = x.skip(s).or(i.result(!1)).parse(t);\n      return r && !r.isEmpty() && (r.children().adopt(n.parent, n[Tt], n[Ct]), e = r.jQize(), e.insertBefore(n.jQ), n[Tt] = r.ends[Ct], r.finalizeInsert(n.options, n), r.ends[Ct][Ct].siblingCreated && r.ends[Ct][Ct].siblingCreated(n.options, Tt), r.ends[Tt][Tt].siblingCreated && r.ends[Tt][Tt].siblingCreated(n.options, Ct), n.parent.bubble("reflow")), this;\n    }, t.renderLatexMath = function (t) {\n      var e,\n          n,\n          i = this.root,\n          s = this.cursor,\n          r = w.all,\n          o = w.eof,\n          a = x.skip(o).or(r.result(!1)).parse(t);\n      i.eachChild("postOrder", "dispose"), i.ends[Tt] = i.ends[Ct] = 0, a && a.children().adopt(i, 0, 0), e = i.jQ, a ? (n = a.join("html"), e.html(n), i.jQize(e.children()), i.finalizeInsert(s.options)) : e.empty(), delete s.selection, s.insAtRightEnd(i);\n    }, t.renderLatexText = function (t) {\n      var e,\n          n,\n          i,\n          s,\n          r,\n          o,\n          a,\n          l,\n          c,\n          u,\n          h = this.root,\n          f = this.cursor;\n\n      if (h.jQ.children().slice(1).remove(), h.eachChild("postOrder", "dispose"), h.ends[Tt] = h.ends[Ct] = 0, delete f.selection, f.show().insAtRightEnd(h), e = w.regex, n = w.string, i = w.eof, s = w.all, r = n("$").then(x).skip(n("$").or(i)).map(function (t) {\n        var e,\n            n = S(f);\n        return n.createBlocks(), e = n.ends[Tt], t.children().adopt(e, 0, 0), n;\n      }), o = n("\\\\$").result("$"), a = o.or(e(/^[^$]/)).map(j), l = r.or(a).many(), c = l.skip(i).or(s.result(!1)).parse(t)) {\n        for (u = 0; u < c.length; u += 1) {\n          c[u].adopt(h, h.ends[Ct], 0);\n        }\n\n        h.jQize().appendTo(h.jQ), h.finalizeInsert(f.options);\n      }\n    };\n  }), zt.open(function (e) {\n    Bt.p.ignoreNextMousedown = t, e.delegateMouseEvents = function () {\n      var e = this.root.jQ;\n      this.container.bind("mousedown.mathquill", function (n) {\n        function i(t) {\n          o = _t(t.target);\n        }\n\n        function s(t) {\n          u.anticursor || u.startSelection(), c.seek(o, t.pageX, t.pageY).cursor.select(), o = m;\n        }\n\n        function r(t) {\n          u.blink = h, u.selection || (c.editable ? u.show() : f.detach()), a.unbind("mousemove", i), _t(t.target.ownerDocument).unbind("mousemove", s).unbind("mouseup", r);\n        }\n\n        var o,\n            a = _t(n.target).closest(".mq-root-block"),\n            l = St.byId[a.attr(xt) || e.attr(xt)],\n            c = l.controller,\n            u = c.cursor,\n            h = u.blink,\n            f = c.textareaSpan,\n            p = c.textarea;\n\n        n.preventDefault(), n.target.unselectable = !0, u.options.ignoreNextMousedown(n) || (u.options.ignoreNextMousedown = t, c.blurred && (c.editable || a.prepend(f), p.focus()), u.blink = t, c.seek(_t(n.target), n.pageX, n.pageY).cursor.startSelection(), a.mousemove(i), _t(n.target.ownerDocument).mousemove(s).mouseup(r));\n      });\n    };\n  }), zt.open(function (t) {\n    t.seek = function (t, e, n) {\n      var i,\n          r,\n          o,\n          a = this.notify("select").cursor;\n      return t && (i = t.attr(xt) || t.attr(qt), i || (r = t.parent(), i = r.attr(xt) || r.attr(qt))), o = i ? St.byId[i] : this.root, s("nodeId is the id of some Node that exists", o), a.clearSelection().show(), o.seek(e, a), this.scrollHoriz(), this;\n    };\n  }), zt.open(function (t) {\n    t.scrollHoriz = function () {\n      var t,\n          e,\n          n,\n          i,\n          s,\n          r = this.cursor,\n          o = r.selection,\n          a = this.root.jQ[0].getBoundingClientRect();\n      if (o) {\n        if (n = o.jQ[0].getBoundingClientRect(), i = n.left - (a.left + 20), s = n.right - (a.right - 20), o.ends[Tt] === r[Ct]) {\n          if (0 > i) e = i;else {\n            if (!(s > 0)) return;\n            e = n.left - s < a.left + 20 ? i : s;\n          }\n        } else if (s > 0) e = s;else {\n          if (!(0 > i)) return;\n          e = n.right - i > a.right - 20 ? s : i;\n        }\n      } else if (t = r.jQ[0].getBoundingClientRect().left, t > a.right - 20) e = t - (a.right - 20);else {\n        if (!(t < a.left + 20)) return;\n        e = t - (a.left + 20);\n      }\n      this.root.jQ.stop().animate({\n        scrollLeft: "+=" + e\n      }, 100);\n    };\n  }), zt.open(function (t) {\n    Bt.p.substituteTextarea = function () {\n      return _t("<textarea autocapitalize=off autocomplete=off autocorrect=off spellcheck=false x-palm-disable-ste-all=true />")[0];\n    }, t.createTextarea = function () {\n      var t,\n          e = this.textareaSpan = _t(\'<span class="mq-textarea"></span>\'),\n          n = this.options.substituteTextarea();\n\n      if (!n.nodeType) throw "substituteTextarea() must return a DOM element, got " + n;\n      n = this.textarea = _t(n).appendTo(e), t = this, t.cursor.selectionChanged = function () {\n        t.selectionChanged();\n      }, t.container.bind("copy", function () {\n        t.setTextareaSelection();\n      });\n    }, t.selectionChanged = function () {\n      var t = this;\n      Y(t.container[0]), t.textareaSelectionTimeout === m && (t.textareaSelectionTimeout = setTimeout(function () {\n        t.setTextareaSelection();\n      }));\n    }, t.setTextareaSelection = function () {\n      this.textareaSelectionTimeout = m;\n      var t = "";\n      this.cursor.selection && (t = this.cursor.selection.join("latex"), this.options.statelessClipboard && (t = "$" + t + "$")), this.selectFn(t);\n    }, t.staticMathTextareaEvents = function () {\n      function t() {\n        s.detach(), e.blurred = !0;\n      }\n\n      var e = this,\n          n = (e.root, e.cursor),\n          i = e.textarea,\n          s = e.textareaSpan;\n      this.container.prepend(\'<span class="mq-selectable">$\' + e.exportLatex() + "$</span>"), e.blurred = !0, i.bind("cut paste", !1).focus(function () {\n        e.blurred = !1;\n      }).blur(function () {\n        n.selection && n.selection.clear(), setTimeout(t);\n      }), e.selectFn = function (t) {\n        i.val(t), t && i.select();\n      };\n    }, t.editablesTextareaEvents = function () {\n      var t = this,\n          e = (t.root, t.cursor),\n          n = t.textarea,\n          i = t.textareaSpan,\n          s = q(n, this);\n      this.selectFn = function (t) {\n        s.select(t);\n      }, this.container.prepend(i).on("cut", function (n) {\n        e.selection && setTimeout(function () {\n          t.notify("edit"), e.parent.bubble("reflow");\n        });\n      }), this.focusBlurEvents();\n    }, t.typedText = function (t) {\n      if ("\\n" === t) return this.handle("enter");\n      var e = this.notify().cursor;\n      e.parent.write(e, t), this.scrollHoriz();\n    }, t.paste = function (t) {\n      this.options.statelessClipboard && (t = "$" === t.slice(0, 1) && "$" === t.slice(-1) ? t.slice(1, -1) : "\\\\text{" + t + "}"), this.writeLatex(t).cursor.show();\n    };\n  }), y = Qt(St, function (t, e) {\n    t.finalizeInsert = function (t, e) {\n      var n = this;\n      n.postOrder("finalizeTree", t), n.postOrder("contactWeld", e), n.postOrder("blur"), n.postOrder("reflow"), n[Ct].siblingCreated && n[Ct].siblingCreated(t, Tt), n[Tt].siblingCreated && n[Tt].siblingCreated(t, Ct), n.bubble("reflow");\n    };\n  }), O = Qt(y, function (t, e) {\n    t.init = function (t, n, i) {\n      var s = this;\n      e.init.call(s), s.ctrlSeq || (s.ctrlSeq = t), n && (s.htmlTemplate = n), i && (s.textTemplate = i);\n    }, t.replaces = function (t) {\n      t.disown(), this.replacedFragment = t;\n    }, t.isEmpty = function () {\n      return this.foldChildren(!0, function (t, e) {\n        return t && e.isEmpty();\n      });\n    }, t.parser = function () {\n      var t = x.block,\n          e = this;\n      return t.times(e.numBlocks()).map(function (t) {\n        e.blocks = t;\n\n        for (var n = 0; n < t.length; n += 1) {\n          t[n].adopt(e, e.ends[Ct], 0);\n        }\n\n        return e;\n      });\n    }, t.createLeftOf = function (t) {\n      var n = this,\n          i = n.replacedFragment;\n      n.createBlocks(), e.createLeftOf.call(n, t), i && (i.adopt(n.ends[Tt], 0, 0), i.jQ.appendTo(n.ends[Tt].jQ)), n.finalizeInsert(t.options), n.placeCursor(t);\n    }, t.createBlocks = function () {\n      var t,\n          e,\n          n = this,\n          i = n.numBlocks(),\n          s = n.blocks = Array(i);\n\n      for (t = 0; i > t; t += 1) {\n        e = s[t] = T(), e.adopt(n, n.ends[Ct], 0);\n      }\n    }, t.placeCursor = function (t) {\n      t.insAtRightEnd(this.foldChildren(this.ends[Tt], function (t, e) {\n        return t.isEmpty() ? t : e;\n      }));\n    }, t.moveTowards = function (t, e, n) {\n      var i = n && this[n + "Into"];\n      e.insAtDirEnd(-t, i || this.ends[-t]);\n    }, t.deleteTowards = function (t, e) {\n      this.isEmpty() ? e[t] = this.remove()[t] : this.moveTowards(t, e, null);\n    }, t.selectTowards = function (t, e) {\n      e[-t] = this, e[t] = this[t];\n    }, t.selectChildren = function () {\n      return It(this, this);\n    }, t.unselectInto = function (t, e) {\n      e.insAtDirEnd(-t, e.anticursor.ancestors[this.id]);\n    }, t.seek = function (t, e) {\n      function n(t) {\n        var e = {};\n        return e[Tt] = t.jQ.offset().left, e[Ct] = e[Tt] + t.jQ.outerWidth(), e;\n      }\n\n      var i,\n          s = this,\n          r = n(s);\n      return t < r[Tt] ? e.insLeftOf(s) : t > r[Ct] ? e.insRightOf(s) : (i = r[Tt], void s.eachChild(function (o) {\n        var a = n(o);\n        return t < a[Tt] ? (t - i < a[Tt] - t ? o[Tt] ? e.insAtRightEnd(o[Tt]) : e.insLeftOf(s) : e.insAtLeftEnd(o), !1) : t > a[Ct] ? void (o[Ct] ? i = a[Ct] : r[Ct] - t < t - a[Ct] ? e.insRightOf(s) : e.insAtRightEnd(o)) : (o.seek(t, e), !1);\n      }));\n    }, t.numBlocks = function () {\n      var t = this.htmlTemplate.match(/&\\d+/g);\n      return t ? t.length : 0;\n    }, t.html = function () {\n      var t,\n          e,\n          n,\n          i = this,\n          r = i.blocks,\n          o = " mathquill-command-id=" + i.id,\n          a = i.htmlTemplate.match(/<[^<>]+>|[^<>]+/g);\n\n      for (s("no unmatched angle brackets", a.join("") === this.htmlTemplate), t = 0, e = a[0]; e; t += 1, e = a[t]) {\n        if ("/>" === e.slice(-2)) a[t] = e.slice(0, -2) + o + "/>";else if ("<" === e.charAt(0)) {\n          s("not an unmatched top-level close tag", "/" !== e.charAt(1)), a[t] = e.slice(0, -1) + o + ">", n = 1;\n\n          do {\n            t += 1, e = a[t], s("no missing close tags", e), "</" === e.slice(0, 2) ? n -= 1 : "<" === e.charAt(0) && "/>" !== e.slice(-2) && (n += 1);\n          } while (n > 0);\n        }\n      }\n\n      return a.join("").replace(/>&(\\d+)/g, function (t, e) {\n        return " mathquill-block-id=" + r[e].id + ">" + r[e].join("html");\n      });\n    }, t.latex = function () {\n      return this.foldChildren(this.ctrlSeq, function (t, e) {\n        return t + "{" + (e.latex() || " ") + "}";\n      });\n    }, t.textTemplate = [""], t.text = function () {\n      var t = this,\n          e = 0;\n      return t.foldChildren(t.textTemplate[e], function (n, i) {\n        e += 1;\n        var s = i.text();\n        return n && "(" === t.textTemplate[e] && "(" === s[0] && ")" === s.slice(-1) ? n + s.slice(1, -1) + t.textTemplate[e] : n + i.text() + (t.textTemplate[e] || "");\n      });\n    };\n  }), k = Qt(O, function (e, n) {\n    e.init = function (t, e, i) {\n      i || (i = t && t.length > 1 ? t.slice(1) : t), n.init.call(this, t, e, [i]);\n    }, e.parser = function () {\n      return w.succeed(this);\n    }, e.numBlocks = function () {\n      return 0;\n    }, e.replaces = function (t) {\n      t.remove();\n    }, e.createBlocks = t, e.moveTowards = function (t, e) {\n      e.jQ.insDirOf(t, this.jQ), e[-t] = this, e[t] = this[t];\n    }, e.deleteTowards = function (t, e) {\n      e[t] = this.remove()[t];\n    }, e.seek = function (t, e) {\n      t - this.jQ.offset().left < this.jQ.outerWidth() / 2 ? e.insLeftOf(this) : e.insRightOf(this);\n    }, e.latex = function () {\n      return this.ctrlSeq;\n    }, e.text = function () {\n      return this.textTemplate;\n    }, e.placeCursor = t, e.isEmpty = function () {\n      return !0;\n    };\n  }), j = Qt(k, function (t, e) {\n    t.init = function (t, n) {\n      e.init.call(this, t, "<span>" + (n || t) + "</span>");\n    };\n  }), Q = Qt(k, function (t, e) {\n    t.init = function (t, n, i) {\n      e.init.call(this, t, \'<span class="mq-binary-operator">\' + n + "</span>", i);\n    };\n  }), T = Qt(y, function (t, e) {\n    t.join = function (t) {\n      return this.foldChildren("", function (e, n) {\n        return e + n[t]();\n      });\n    }, t.html = function () {\n      return this.join("html");\n    }, t.latex = function () {\n      return this.join("latex");\n    }, t.text = function () {\n      return this.ends[Tt] === this.ends[Ct] && 0 !== this.ends[Tt] ? this.ends[Tt].text() : this.join("text");\n    }, t.keystroke = function (t, n, i) {\n      return !i.options.spaceBehavesLikeTab || "Spacebar" !== t && "Shift-Spacebar" !== t ? e.keystroke.apply(this, arguments) : (n.preventDefault(), void i.escapeDir("Shift-Spacebar" === t ? Tt : Ct, t, n));\n    }, t.moveOutOf = function (t, e, n) {\n      var i = n && this.parent[n + "Into"];\n      !i && this[t] ? e.insAtDirEnd(-t, this[t]) : e.insDirOf(t, this.parent);\n    }, t.selectOutOf = function (t, e) {\n      e.insDirOf(t, this.parent);\n    }, t.deleteOutOf = function (t, e) {\n      e.unwrapGramp();\n    }, t.seek = function (t, e) {\n      var n = this.ends[Ct];\n      if (!n || n.jQ.offset().left + n.jQ.outerWidth() < t) return e.insAtRightEnd(this);\n      if (t < this.ends[Tt].jQ.offset().left) return e.insAtLeftEnd(this);\n\n      for (; t < n.jQ.offset().left;) {\n        n = n[Tt];\n      }\n\n      return n.seek(t, e);\n    }, t.chToCmd = function (t) {\n      var e;\n      return t.match(/^[a-eg-zA-Z]$/) ? R(t) : /^\\d$/.test(t) ? E(t) : (e = At[t] || Et[t]) ? e(t) : j(t);\n    }, t.write = function (t, e) {\n      var n = this.chToCmd(e);\n      t.selection && n.replaces(t.replaceSelection()), n.createLeftOf(t.show());\n    }, t.focus = function () {\n      return this.jQ.addClass("mq-hasCursor"), this.jQ.removeClass("mq-empty"), this;\n    }, t.blur = function () {\n      return this.jQ.removeClass("mq-hasCursor"), this.isEmpty() && this.jQ.addClass("mq-empty"), this;\n    };\n  }), Mt.StaticMath = function (t) {\n    return Qt(t.AbstractMathQuill, function (e, n) {\n      this.RootBlock = T, e.__mathquillify = function () {\n        return n.__mathquillify.call(this, "mq-math-mode"), this.__controller.delegateMouseEvents(), this.__controller.staticMathTextareaEvents(), this;\n      }, e.init = function () {\n        n.init.apply(this, arguments), this.__controller.root.postOrder("registerInnerField", this.innerFields = [], t.MathField);\n      }, e.latex = function () {\n        var e = n.latex.apply(this, arguments);\n        return arguments.length > 0 && this.__controller.root.postOrder("registerInnerField", this.innerFields = [], t.MathField), e;\n      };\n    });\n  }, C = Qt(T, u), Mt.MathField = function (e) {\n    return Qt(e.EditableField, function (e, n) {\n      this.RootBlock = C, e.__mathquillify = function (e, i) {\n        return this.config(e), i > 1 && (this.__controller.root.reflow = t), n.__mathquillify.call(this, "mq-editable-field mq-math-mode"), delete this.__controller.root.reflow, this;\n      };\n    });\n  }, _ = Qt(St, function (t, e) {\n    function n(t) {\n      var e, n;\n      return t.jQ[0].normalize(), (e = t.jQ[0].firstChild) ? (s("only node in TextBlock span is Text node", 3 === e.nodeType), n = D(e.data), n.jQadd(e), t.children().disown(), n.adopt(t, 0, 0)) : void 0;\n    }\n\n    t.ctrlSeq = "\\\\text", t.replaces = function (t) {\n      t instanceof Lt ? this.replacedText = t.remove().jQ.text() : "string" == typeof t && (this.replacedText = t);\n    }, t.jQadd = function (t) {\n      e.jQadd.call(this, t), this.ends[Tt] && this.ends[Tt].jQadd(this.jQ[0].firstChild);\n    }, t.createLeftOf = function (t) {\n      var n,\n          i = this;\n      if (e.createLeftOf.call(this, t), i[Ct].siblingCreated && i[Ct].siblingCreated(t.options, Tt), i[Tt].siblingCreated && i[Tt].siblingCreated(t.options, Ct), i.bubble("reflow"), t.insAtRightEnd(i), i.replacedText) for (n = 0; n < i.replacedText.length; n += 1) {\n        i.write(t, i.replacedText.charAt(n));\n      }\n    }, t.parser = function () {\n      var t = this,\n          e = w.string,\n          n = w.regex,\n          i = w.optWhitespace;\n      return i.then(e("{")).then(n(/^[^}]*/)).skip(e("}")).map(function (e) {\n        return 0 === e.length ? Lt() : (D(e).adopt(t, 0, 0), t);\n      });\n    }, t.textContents = function () {\n      return this.foldChildren("", function (t, e) {\n        return t + e.text;\n      });\n    }, t.text = function () {\n      return \'"\' + this.textContents() + \'"\';\n    }, t.latex = function () {\n      var t = this.textContents();\n      return 0 === t.length ? "" : "\\\\text{" + t + "}";\n    }, t.html = function () {\n      return \'<span class="mq-text-mode" mathquill-command-id=\' + this.id + ">" + this.textContents() + "</span>";\n    }, t.moveTowards = function (t, e) {\n      e.insAtDirEnd(-t, this);\n    }, t.moveOutOf = function (t, e) {\n      e.insDirOf(t, this);\n    }, t.unselectInto = t.moveTowards, t.selectTowards = O.prototype.selectTowards, t.deleteTowards = O.prototype.deleteTowards, t.selectOutOf = function (t, e) {\n      e.insDirOf(t, this);\n    }, t.deleteOutOf = function (t, e) {\n      this.isEmpty() && e.insRightOf(this);\n    }, t.write = function (t, n) {\n      var i, s;\n      t.show().deleteSelection(), "$" !== n ? t[Tt] ? t[Tt].appendText(n) : D(n).createLeftOf(t) : this.isEmpty() ? (t.insRightOf(this), j("\\\\$", "$").createLeftOf(t)) : t[Ct] ? t[Tt] ? (i = _(), s = this.ends[Tt], s.disown().jQ.detach(), s.adopt(i, 0, 0), t.insLeftOf(this), e.createLeftOf.call(i, t)) : t.insLeftOf(this) : t.insRightOf(this);\n    }, t.seek = function (t, e) {\n      var i, s, r, o, a, l, c, u;\n\n      for (e.hide(), i = n(this), s = this.jQ.width() / this.text.length, r = Math.round((t - this.jQ.offset().left) / s), 0 >= r ? e.insAtLeftEnd(this) : r >= i.text.length ? e.insAtRightEnd(this) : e.insLeftOf(i.splitRight(r)), o = t - e.show().offset().left, a = o && 0 > o ? Tt : Ct, l = a; e[a] && o * l > 0;) {\n        e[a].moveTowards(a, e), l = o, o = t - e.offset().left;\n      }\n\n      -a * l > a * o && e[-a].moveTowards(-a, e), e.anticursor ? e.anticursor.parent === this && (c = e[Tt] && e[Tt].text.length, this.anticursorPosition === c ? e.anticursor = Dt.copy(e) : (this.anticursorPosition < c ? (u = e[Tt].splitRight(this.anticursorPosition), e[Tt] = u) : u = e[Ct].splitRight(this.anticursorPosition - c), e.anticursor = Dt(this, u[Tt], u))) : this.anticursorPosition = e[Tt] && e[Tt].text.length;\n    }, t.blur = function (t) {\n      T.prototype.blur.call(this), t && ("" === this.textContents() ? (this.remove(), t[Tt] === this ? t[Tt] = this[Tt] : t[Ct] === this && (t[Ct] = this[Ct])) : n(this));\n    }, t.focus = T.prototype.focus;\n  }), D = Qt(St, function (t, e) {\n    function n(t, e) {\n      return e.charAt(t === Tt ? 0 : -1 + e.length);\n    }\n\n    t.init = function (t) {\n      e.init.call(this), this.text = t;\n    }, t.jQadd = function (t) {\n      this.dom = t, this.jQ = _t(t);\n    }, t.jQize = function () {\n      return this.jQadd(_document.createTextNode(this.text));\n    }, t.appendText = function (t) {\n      this.text += t, this.dom.appendData(t);\n    }, t.prependText = function (t) {\n      this.text = t + this.text, this.dom.insertData(0, t);\n    }, t.insTextAtDirEnd = function (t, e) {\n      r(e), e === Ct ? this.appendText(t) : this.prependText(t);\n    }, t.splitRight = function (t) {\n      var e = D(this.text.slice(t)).adopt(this.parent, this, this[Ct]);\n      return e.jQadd(this.dom.splitText(t)), this.text = this.text.slice(0, t), e;\n    }, t.moveTowards = function (t, e) {\n      var i, s;\n      return r(t), i = n(-t, this.text), s = this[-t], s ? s.insTextAtDirEnd(i, t) : D(i).createDir(-t, e), this.deleteTowards(t, e);\n    }, t.latex = function () {\n      return this.text;\n    }, t.deleteTowards = function (t, e) {\n      this.text.length > 1 ? t === Ct ? (this.dom.deleteData(0, 1), this.text = this.text.slice(1)) : (this.dom.deleteData(-1 + this.text.length, 1), this.text = this.text.slice(0, -1)) : (this.remove(), this.jQ.remove(), e[t] = this[t]);\n    }, t.selectTowards = function (t, e) {\n      var i, s, o, a;\n      return r(t), i = e.anticursor, s = n(-t, this.text), i[t] === this ? (o = D(s).createDir(t, e), i[t] = o, e.insDirOf(t, o)) : (a = this[-t], a ? a.insTextAtDirEnd(s, t) : (o = D(s).createDir(-t, e), o.jQ.insDirOf(-t, e.selection.jQ)), 1 === this.text.length && i[-t] === this && (i[-t] = this[-t])), this.deleteTowards(t, e);\n    };\n  }), At.$ = Et.text = Et.textnormal = Et.textrm = Et.textup = Et.textmd = _, Et.em = Et.italic = Et.italics = Et.emph = Et.textit = Et.textsl = h("\\\\textit", "i", \'class="mq-text-mode"\'), Et.strong = Et.bold = Et.textbf = h("\\\\textbf", "b", \'class="mq-text-mode"\'), Et.sf = Et.textsf = h("\\\\textsf", "span", \'class="mq-sans-serif mq-text-mode"\'), Et.tt = Et.texttt = h("\\\\texttt", "span", \'class="mq-monospace mq-text-mode"\'), Et.textsc = h("\\\\textsc", "span", \'style="font-variant:small-caps" class="mq-text-mode"\'), Et.uppercase = h("\\\\uppercase", "span", \'style="text-transform:uppercase" class="mq-text-mode"\'), Et.lowercase = h("\\\\lowercase", "span", \'style="text-transform:lowercase" class="mq-text-mode"\'), S = Qt(O, function (t, e) {\n    t.init = function (t) {\n      e.init.call(this, "$"), this.cursor = t;\n    }, t.htmlTemplate = \'<span class="mq-math-mode">&0</span>\', t.createBlocks = function () {\n      e.createBlocks.call(this), this.ends[Tt].cursor = this.cursor, this.ends[Tt].write = function (t, e) {\n        "$" !== e ? T.prototype.write.call(this, t, e) : this.isEmpty() ? (t.insRightOf(this.parent), this.parent.deleteTowards(dir, t), j("\\\\$", "$").createLeftOf(t.show())) : t[Ct] ? t[Tt] ? T.prototype.write.call(this, t, e) : t.insLeftOf(this.parent) : t.insRightOf(this.parent);\n      };\n    }, t.latex = function () {\n      return "$" + this.ends[Tt].latex() + "$";\n    };\n  }), L = Qt(C, function (t, e) {\n    t.keystroke = function (t) {\n      return "Spacebar" !== t && "Shift-Spacebar" !== t ? e.keystroke.apply(this, arguments) : void 0;\n    }, t.write = function (t, e) {\n      if (t.show().deleteSelection(), "$" === e) S(t).createLeftOf(t);else {\n        var n;\n        "<" === e ? n = "&lt;" : ">" === e && (n = "&gt;"), j(e, n).createLeftOf(t);\n      }\n    };\n  }), Mt.TextField = function (t) {\n    return Qt(t.EditableField, function (t, e) {\n      this.RootBlock = L, t.__mathquillify = function () {\n        return e.__mathquillify.call(this, "mq-editable-field mq-text-mode");\n      }, t.latex = function (t) {\n        return arguments.length > 0 ? (this.__controller.renderLatexText(t), this.__controller.blurred && this.__controller.cursor.hide().parent.blur(), this) : this.__controller.exportLatex();\n      };\n    });\n  }, Et.notin = Et.cong = Et.equiv = Et.oplus = Et.otimes = Qt(Q, function (t, e) {\n    t.init = function (t) {\n      e.init.call(this, "\\\\" + t + " ", "&" + t + ";");\n    };\n  }), Et["≠"] = Et.ne = Et.neq = i(Q, "\\\\ne ", "&ne;"), Et.ast = Et.star = Et.loast = Et.lowast = i(Q, "\\\\ast ", "&lowast;"), Et.therefor = Et.therefore = i(Q, "\\\\therefore ", "&there4;"), Et.cuz = Et.because = i(Q, "\\\\because ", "&#8757;"), Et.prop = Et.propto = i(Q, "\\\\propto ", "&prop;"), Et["≈"] = Et.asymp = Et.approx = i(Q, "\\\\approx ", "&asymp;"), Et.isin = Et["in"] = i(Q, "\\\\in ", "&isin;"), Et.ni = Et.contains = i(Q, "\\\\ni ", "&ni;"), Et.notni = Et.niton = Et.notcontains = Et.doesnotcontain = i(Q, "\\\\not\\\\ni ", "&#8716;"), Et.sub = Et.subset = i(Q, "\\\\subset ", "&sub;"), Et.sup = Et.supset = Et.superset = i(Q, "\\\\supset ", "&sup;"), Et.nsub = Et.notsub = Et.nsubset = Et.notsubset = i(Q, "\\\\not\\\\subset ", "&#8836;"), Et.nsup = Et.notsup = Et.nsupset = Et.notsupset = Et.nsuperset = Et.notsuperset = i(Q, "\\\\not\\\\supset ", "&#8837;"), Et.sube = Et.subeq = Et.subsete = Et.subseteq = i(Q, "\\\\subseteq ", "&sube;"), Et.supe = Et.supeq = Et.supsete = Et.supseteq = Et.supersete = Et.superseteq = i(Q, "\\\\supseteq ", "&supe;"), Et.nsube = Et.nsubeq = Et.notsube = Et.notsubeq = Et.nsubsete = Et.nsubseteq = Et.notsubsete = Et.notsubseteq = i(Q, "\\\\not\\\\subseteq ", "&#8840;"), Et.nsupe = Et.nsupeq = Et.notsupe = Et.notsupeq = Et.nsupsete = Et.nsupseteq = Et.notsupsete = Et.notsupseteq = Et.nsupersete = Et.nsuperseteq = Et.notsupersete = Et.notsuperseteq = i(Q, "\\\\not\\\\supseteq ", "&#8841;"), Et.N = Et.naturals = Et.Naturals = i(j, "\\\\mathbb{N}", "&#8469;"), Et.P = Et.primes = Et.Primes = Et.projective = Et.Projective = Et.probability = Et.Probability = i(j, "\\\\mathbb{P}", "&#8473;"), Et.Z = Et.integers = Et.Integers = i(j, "\\\\mathbb{Z}", "&#8484;"), Et.Q = Et.rationals = Et.Rationals = i(j, "\\\\mathbb{Q}", "&#8474;"), Et.R = Et.reals = Et.Reals = i(j, "\\\\mathbb{R}", "&#8477;"), Et.C = Et.complex = Et.Complex = Et.complexes = Et.Complexes = Et.complexplane = Et.Complexplane = Et.ComplexPlane = i(j, "\\\\mathbb{C}", "&#8450;"), Et.H = Et.Hamiltonian = Et.quaternions = Et.Quaternions = i(j, "\\\\mathbb{H}", "&#8461;"), Et.quad = Et.emsp = i(j, "\\\\quad ", "    "), Et.qquad = i(j, "\\\\qquad ", "        "), Et.diamond = i(j, "\\\\diamond ", "&#9671;"), Et.bigtriangleup = i(j, "\\\\bigtriangleup ", "&#9651;"), Et.ominus = i(j, "\\\\ominus ", "&#8854;"), Et.uplus = i(j, "\\\\uplus ", "&#8846;"), Et.bigtriangledown = i(j, "\\\\bigtriangledown ", "&#9661;"), Et.sqcap = i(j, "\\\\sqcap ", "&#8851;"), Et.triangleleft = i(j, "\\\\triangleleft ", "&#8882;"), Et.sqcup = i(j, "\\\\sqcup ", "&#8852;"), Et.triangleright = i(j, "\\\\triangleright ", "&#8883;"), Et.odot = Et.circledot = i(j, "\\\\odot ", "&#8857;"), Et.bigcirc = i(j, "\\\\bigcirc ", "&#9711;"), Et.dagger = i(j, "\\\\dagger ", "&#0134;"), Et.ddagger = i(j, "\\\\ddagger ", "&#135;"), Et.wr = i(j, "\\\\wr ", "&#8768;"), Et.amalg = i(j, "\\\\amalg ", "&#8720;"), Et.models = i(j, "\\\\models ", "&#8872;"), Et.prec = i(j, "\\\\prec ", "&#8826;"), Et.succ = i(j, "\\\\succ ", "&#8827;"), Et.preceq = i(j, "\\\\preceq ", "&#8828;"), Et.succeq = i(j, "\\\\succeq ", "&#8829;"), Et.simeq = i(j, "\\\\simeq ", "&#8771;"), Et.mid = i(j, "\\\\mid ", "&#8739;"), Et.ll = i(j, "\\\\ll ", "&#8810;"), Et.gg = i(j, "\\\\gg ", "&#8811;"), Et.parallel = i(j, "\\\\parallel ", "&#8741;"), Et.nparallel = i(j, "\\\\nparallel ", "&#8742;"), Et.bowtie = i(j, "\\\\bowtie ", "&#8904;"), Et.sqsubset = i(j, "\\\\sqsubset ", "&#8847;"), Et.sqsupset = i(j, "\\\\sqsupset ", "&#8848;"), Et.smile = i(j, "\\\\smile ", "&#8995;"), Et.sqsubseteq = i(j, "\\\\sqsubseteq ", "&#8849;"), Et.sqsupseteq = i(j, "\\\\sqsupseteq ", "&#8850;"), Et.doteq = i(j, "\\\\doteq ", "&#8784;"), Et.frown = i(j, "\\\\frown ", "&#8994;"), Et.vdash = i(j, "\\\\vdash ", "&#8870;"), Et.dashv = i(j, "\\\\dashv ", "&#8867;"), Et.nless = i(j, "\\\\nless ", "&#8814;"), Et.ngtr = i(j, "\\\\ngtr ", "&#8815;"), Et.longleftarrow = i(j, "\\\\longleftarrow ", "&#8592;"), Et.longrightarrow = i(j, "\\\\longrightarrow ", "&#8594;"), Et.Longleftarrow = i(j, "\\\\Longleftarrow ", "&#8656;"), Et.Longrightarrow = i(j, "\\\\Longrightarrow ", "&#8658;"), Et.longleftrightarrow = i(j, "\\\\longleftrightarrow ", "&#8596;"), Et.updownarrow = i(j, "\\\\updownarrow ", "&#8597;"), Et.Longleftrightarrow = i(j, "\\\\Longleftrightarrow ", "&#8660;"), Et.Updownarrow = i(j, "\\\\Updownarrow ", "&#8661;"), Et.mapsto = i(j, "\\\\mapsto ", "&#8614;"), Et.nearrow = i(j, "\\\\nearrow ", "&#8599;"), Et.hookleftarrow = i(j, "\\\\hookleftarrow ", "&#8617;"), Et.hookrightarrow = i(j, "\\\\hookrightarrow ", "&#8618;"), Et.searrow = i(j, "\\\\searrow ", "&#8600;"), Et.leftharpoonup = i(j, "\\\\leftharpoonup ", "&#8636;"), Et.rightharpoonup = i(j, "\\\\rightharpoonup ", "&#8640;"), Et.swarrow = i(j, "\\\\swarrow ", "&#8601;"), Et.leftharpoondown = i(j, "\\\\leftharpoondown ", "&#8637;"), Et.rightharpoondown = i(j, "\\\\rightharpoondown ", "&#8641;"), Et.nwarrow = i(j, "\\\\nwarrow ", "&#8598;"), Et.ldots = i(j, "\\\\ldots ", "&#8230;"), Et.cdots = i(j, "\\\\cdots ", "&#8943;"), Et.vdots = i(j, "\\\\vdots ", "&#8942;"), Et.ddots = i(j, "\\\\ddots ", "&#8945;"), Et.surd = i(j, "\\\\surd ", "&#8730;"), Et.triangle = i(j, "\\\\triangle ", "&#9651;"), Et.ell = i(j, "\\\\ell ", "&#8467;"), Et.top = i(j, "\\\\top ", "&#8868;"), Et.flat = i(j, "\\\\flat ", "&#9837;"), Et.natural = i(j, "\\\\natural ", "&#9838;"), Et.sharp = i(j, "\\\\sharp ", "&#9839;"), Et.wp = i(j, "\\\\wp ", "&#8472;"), Et.bot = i(j, "\\\\bot ", "&#8869;"), Et.clubsuit = i(j, "\\\\clubsuit ", "&#9827;"), Et.diamondsuit = i(j, "\\\\diamondsuit ", "&#9826;"), Et.heartsuit = i(j, "\\\\heartsuit ", "&#9825;"), Et.spadesuit = i(j, "\\\\spadesuit ", "&#9824;"), Et.parallelogram = i(j, "\\\\parallelogram ", "&#9649;"), Et.square = i(j, "\\\\square ", "&#11036;"), Et.oint = i(j, "\\\\oint ", "&#8750;"), Et.bigcap = i(j, "\\\\bigcap ", "&#8745;"), Et.bigcup = i(j, "\\\\bigcup ", "&#8746;"), Et.bigsqcup = i(j, "\\\\bigsqcup ", "&#8852;"), Et.bigvee = i(j, "\\\\bigvee ", "&#8744;"), Et.bigwedge = i(j, "\\\\bigwedge ", "&#8743;"), Et.bigodot = i(j, "\\\\bigodot ", "&#8857;"), Et.bigotimes = i(j, "\\\\bigotimes ", "&#8855;"), Et.bigoplus = i(j, "\\\\bigoplus ", "&#8853;"), Et.biguplus = i(j, "\\\\biguplus ", "&#8846;"), Et.lfloor = i(j, "\\\\lfloor ", "&#8970;"), Et.rfloor = i(j, "\\\\rfloor ", "&#8971;"), Et.lceil = i(j, "\\\\lceil ", "&#8968;"), Et.rceil = i(j, "\\\\rceil ", "&#8969;"), Et.opencurlybrace = Et.lbrace = i(j, "\\\\lbrace ", "{"), Et.closecurlybrace = Et.rbrace = i(j, "\\\\rbrace ", "}"), Et.lbrack = i(j, "["), Et.rbrack = i(j, "]"), Et.slash = i(j, "/"), Et.vert = i(j, "|"), Et.perp = Et.perpendicular = i(j, "\\\\perp ", "&perp;"), Et.nabla = Et.del = i(j, "\\\\nabla ", "&nabla;"), Et.hbar = i(j, "\\\\hbar ", "&#8463;"), Et.AA = Et.Angstrom = Et.angstrom = i(j, "\\\\text\\\\AA ", "&#8491;"), Et.ring = Et.circ = Et.circle = i(j, "\\\\circ ", "&#8728;"), Et.bull = Et.bullet = i(j, "\\\\bullet ", "&bull;"), Et.setminus = Et.smallsetminus = i(j, "\\\\setminus ", "&#8726;"), Et.not = Et["¬"] = Et.neg = i(j, "\\\\neg ", "&not;"), Et["…"] = Et.dots = Et.ellip = Et.hellip = Et.ellipsis = Et.hellipsis = i(j, "\\\\dots ", "&hellip;"), Et.converges = Et.darr = Et.dnarr = Et.dnarrow = Et.downarrow = i(j, "\\\\downarrow ", "&darr;"), Et.dArr = Et.dnArr = Et.dnArrow = Et.Downarrow = i(j, "\\\\Downarrow ", "&dArr;"), Et.diverges = Et.uarr = Et.uparrow = i(j, "\\\\uparrow ", "&uarr;"), Et.uArr = Et.Uparrow = i(j, "\\\\Uparrow ", "&uArr;"), Et.to = i(Q, "\\\\to ", "&rarr;"), Et.rarr = Et.rightarrow = i(j, "\\\\rightarrow ", "&rarr;"), Et.implies = i(Q, "\\\\Rightarrow ", "&rArr;"), Et.rArr = Et.Rightarrow = i(j, "\\\\Rightarrow ", "&rArr;"), Et.gets = i(Q, "\\\\gets ", "&larr;"), Et.larr = Et.leftarrow = i(j, "\\\\leftarrow ", "&larr;"), Et.impliedby = i(Q, "\\\\Leftarrow ", "&lArr;"), Et.lArr = Et.Leftarrow = i(j, "\\\\Leftarrow ", "&lArr;"), Et.harr = Et.lrarr = Et.leftrightarrow = i(j, "\\\\leftrightarrow ", "&harr;"), Et.iff = i(Q, "\\\\Leftrightarrow ", "&hArr;"), Et.hArr = Et.lrArr = Et.Leftrightarrow = i(j, "\\\\Leftrightarrow ", "&hArr;"), Et.Re = Et.Real = Et.real = i(j, "\\\\Re ", "&real;"), Et.Im = Et.imag = Et.image = Et.imagin = Et.imaginary = Et.Imaginary = i(j, "\\\\Im ", "&image;"), Et.part = Et.partial = i(j, "\\\\partial ", "&part;"), Et.infty = Et.infin = Et.infinity = i(j, "\\\\infty ", "&infin;"), Et.alef = Et.alefsym = Et.aleph = Et.alephsym = i(j, "\\\\aleph ", "&alefsym;"), Et.xist = Et.xists = Et.exist = Et.exists = i(j, "\\\\exists ", "&exist;"), Et.nexists = Et.nexist = i(j, "\\\\nexists ", "&#8708;"), Et.and = Et.land = Et.wedge = i(j, "\\\\wedge ", "&and;"), Et.or = Et.lor = Et.vee = i(j, "\\\\vee ", "&or;"), Et.o = Et.O = Et.empty = Et.emptyset = Et.oslash = Et.Oslash = Et.nothing = Et.varnothing = i(Q, "\\\\varnothing ", "&empty;"), Et.cup = Et.union = i(Q, "\\\\cup ", "&cup;"), Et.cap = Et.intersect = Et.intersection = i(Q, "\\\\cap ", "&cap;"), Et.deg = Et.degree = i(j, "\\\\degree ", "&deg;"), Et.ang = Et.angle = i(j, "\\\\angle ", "&ang;"), Et.measuredangle = i(j, "\\\\measuredangle ", "&#8737;"), E = Qt(j, function (t, e) {\n    t.createLeftOf = function (t) {\n      t.options.autoSubscriptNumerals && t.parent !== t.parent.parent.sub && (t[Tt] instanceof A && t[Tt].isItalic !== !1 || t[Tt] instanceof st && t[Tt][Tt] instanceof A && t[Tt][Tt].isItalic !== !1) ? (Et._().createLeftOf(t), e.createLeftOf.call(this, t), t.insRightOf(t.parent.parent)) : e.createLeftOf.call(this, t);\n    };\n  }), A = Qt(k, function (t, e) {\n    t.init = function (t, n) {\n      e.init.call(this, t, "<var>" + (n || t) + "</var>");\n    }, t.text = function () {\n      var t = this.ctrlSeq;\n      return !this[Tt] || this[Tt] instanceof A || this[Tt] instanceof Q || "\\\\ " === this[Tt].ctrlSeq || (t = "*" + t), !this[Ct] || this[Ct] instanceof Q || this[Ct] instanceof st || (t += "*"), t;\n    };\n  }), Bt.p.autoCommands = {\n    _maxLength: 0\n  }, Ft.autoCommands = function (t) {\n    var e, n, i, s, r;\n    if (!/^[a-z]+(?: [a-z]+)*$/i.test(t)) throw \'"\' + t + \'" not a space-delimited list of only letters\';\n\n    for (e = t.split(" "), n = {}, i = 0, s = 0; s < e.length; s += 1) {\n      if (r = e[s], r.length < 2) throw \'autocommand "\' + r + \'" not minimum length of 2\';\n      if (Et[r] === B) throw \'"\' + r + \'" is a built-in operator name\';\n      n[r] = 1, i = Ot(i, r.length);\n    }\n\n    return n._maxLength = i, n;\n  }, R = Qt(A, function (t, e) {\n    function n(t) {\n      return !t || t instanceof Q || t instanceof rt;\n    }\n\n    t.init = function (t) {\n      return e.init.call(this, this.letter = t);\n    }, t.createLeftOf = function (t) {\n      var n, i, s, r, o;\n\n      if (e.createLeftOf.apply(this, arguments), n = t.options.autoCommands, i = n._maxLength, i > 0) {\n        for (s = "", r = this, o = 0; r instanceof R && r.ctrlSeq === r.letter && i > o;) {\n          s = r.letter + s, r = r[Tt], o += 1;\n        }\n\n        for (; s.length;) {\n          if (n.hasOwnProperty(s)) {\n            for (o = 1, r = this; o < s.length; o += 1, r = r[Tt]) {\n              ;\n            }\n\n            return Lt(r, this).remove(), t[Tt] = r[Tt], Et[s](s).createLeftOf(t);\n          }\n\n          s = s.slice(1);\n        }\n      }\n    }, t.italicize = function (t) {\n      return this.isItalic = t, this.jQ.toggleClass("mq-operator-name", !t), this;\n    }, t.finalizeTree = t.siblingDeleted = t.siblingCreated = function (t, e) {\n      e !== Tt && this[Ct] instanceof R || this.autoUnItalicize(t);\n    }, t.autoUnItalicize = function (t) {\n      var e,\n          i,\n          s,\n          r,\n          o,\n          a,\n          l,\n          c,\n          u,\n          h,\n          f,\n          p,\n          d,\n          m = t.autoOperatorNames;\n\n      if (0 !== m._maxLength) {\n        for (e = this.letter, i = this[Tt]; i instanceof R; i = i[Tt]) {\n          e = i.letter + e;\n        }\n\n        for (s = this[Ct]; s instanceof R; s = s[Ct]) {\n          e += s.letter;\n        }\n\n        Lt(i[Ct] || this.parent.ends[Tt], s[Tt] || this.parent.ends[Ct]).each(function (t) {\n          t.italicize(!0).jQ.removeClass("mq-first mq-last mq-followed-by-supsub"), t.ctrlSeq = t.letter;\n        });\n\n        t: for (r = 0, o = i[Ct] || this.parent.ends[Tt]; r < e.length; r += 1, o = o[Ct]) {\n          for (a = yt(m._maxLength, e.length - r); a > 0; a -= 1) {\n            if (l = e.slice(r, r + a), m.hasOwnProperty(l)) {\n              for (c = 0, u = o; a > c; c += 1, u = u[Ct]) {\n                u.italicize(!1), h = u;\n              }\n\n              f = I.hasOwnProperty(l), o.ctrlSeq = (f ? "\\\\" : "\\\\operatorname{") + o.ctrlSeq, h.ctrlSeq += f ? " " : "}", M.hasOwnProperty(l) && h[Tt][Tt][Tt].jQ.addClass("mq-last"), n(o[Tt]) || o.jQ.addClass("mq-first"), n(h[Ct]) || (h[Ct] instanceof st ? (p = h[Ct], (d = p.siblingCreated = p.siblingDeleted = function () {\n                p.jQ.toggleClass("mq-after-operator-name", !(p[Ct] instanceof ht));\n              })()) : h.jQ.toggleClass("mq-last", !(h[Ct] instanceof ht))), r += a - 1, o = h;\n              continue t;\n            }\n          }\n        }\n      }\n    };\n  }), I = {}, z = Bt.p.autoOperatorNames = {\n    _maxLength: 9\n  }, M = {\n    limsup: 1,\n    liminf: 1,\n    projlim: 1,\n    injlim: 1\n  }, function () {\n    var t,\n        e,\n        n,\n        i,\n        s = "arg deg det dim exp gcd hom inf ker lg lim ln log max min sup limsup liminf injlim projlim Pr".split(" ");\n\n    for (t = 0; t < s.length; t += 1) {\n      I[s[t]] = z[s[t]] = 1;\n    }\n\n    for (e = "sin cos tan arcsin arccos arctan sinh cosh tanh sec csc cot coth".split(" "), t = 0; t < e.length; t += 1) {\n      I[e[t]] = 1;\n    }\n\n    for (n = "sin cos tan sec cosec csc cotan cot ctg".split(" "), t = 0; t < n.length; t += 1) {\n      z[n[t]] = z["arc" + n[t]] = z[n[t] + "h"] = z["ar" + n[t] + "h"] = z["arc" + n[t] + "h"] = 1;\n    }\n\n    for (i = "gcf hcf lcm proj span".split(" "), t = 0; t < i.length; t += 1) {\n      z[i[t]] = 1;\n    }\n  }(), Ft.autoOperatorNames = function (t) {\n    var e, n, i, s, r;\n    if (!/^[a-z]+(?: [a-z]+)*$/i.test(t)) throw \'"\' + t + \'" not a space-delimited list of only letters\';\n\n    for (e = t.split(" "), n = {}, i = 0, s = 0; s < e.length; s += 1) {\n      if (r = e[s], r.length < 2) throw \'"\' + r + \'" not minimum length of 2\';\n      n[r] = 1, i = Ot(i, r.length);\n    }\n\n    return n._maxLength = i, n;\n  }, B = Qt(k, function (t, e) {\n    t.init = function (t) {\n      this.ctrlSeq = t;\n    }, t.createLeftOf = function (t) {\n      var e,\n          n = this.ctrlSeq;\n\n      for (e = 0; e < n.length; e += 1) {\n        R(n.charAt(e)).createLeftOf(t);\n      }\n    }, t.parser = function () {\n      var t,\n          e = this.ctrlSeq,\n          n = T();\n\n      for (t = 0; t < e.length; t += 1) {\n        R(e.charAt(t)).adopt(n, n.ends[Ct], 0);\n      }\n\n      return w.succeed(n.children());\n    };\n  });\n\n  for (F in z) {\n    z.hasOwnProperty(F) && (Et[F] = B);\n  }\n\n  Et.operatorname = Qt(O, function (e) {\n    e.createLeftOf = t, e.numBlocks = function () {\n      return 1;\n    }, e.parser = function () {\n      return x.block.map(function (t) {\n        return t.children();\n      });\n    };\n  }), Et.f = Qt(R, function (t, e) {\n    t.init = function () {\n      k.p.init.call(this, this.letter = "f", \'<var class="mq-f">f</var>\');\n    }, t.italicize = function (t) {\n      return this.jQ.html("f").toggleClass("mq-f", t), e.italicize.apply(this, arguments);\n    };\n  }), Et[" "] = Et.space = i(j, "\\\\ ", "&nbsp;"), Et["\'"] = Et.prime = i(j, "\'", "&prime;"), Et.backslash = i(j, "\\\\backslash ", "\\\\"), At["\\\\"] || (At["\\\\"] = Et.backslash), Et.$ = i(j, "\\\\$", "$"), $ = Qt(k, function (t, e) {\n    t.init = function (t, n) {\n      e.init.call(this, t, \'<span class="mq-nonSymbola">\' + (n || t) + "</span>");\n    };\n  }), Et["@"] = $, Et["&"] = i($, "\\\\&", "&amp;"), Et["%"] = i($, "\\\\%", "%"), Et.alpha = Et.beta = Et.gamma = Et.delta = Et.zeta = Et.eta = Et.theta = Et.iota = Et.kappa = Et.mu = Et.nu = Et.xi = Et.rho = Et.sigma = Et.tau = Et.chi = Et.psi = Et.omega = Qt(A, function (t, e) {\n    t.init = function (t) {\n      e.init.call(this, "\\\\" + t + " ", "&" + t + ";");\n    };\n  }), Et.phi = i(A, "\\\\phi ", "&#981;"), Et.phiv = Et.varphi = i(A, "\\\\varphi ", "&phi;"), Et.epsilon = i(A, "\\\\epsilon ", "&#1013;"), Et.epsiv = Et.varepsilon = i(A, "\\\\varepsilon ", "&epsilon;"), Et.piv = Et.varpi = i(A, "\\\\varpi ", "&piv;"), Et.sigmaf = Et.sigmav = Et.varsigma = i(A, "\\\\varsigma ", "&sigmaf;"), Et.thetav = Et.vartheta = Et.thetasym = i(A, "\\\\vartheta ", "&thetasym;"), Et.upsilon = Et.upsi = i(A, "\\\\upsilon ", "&upsilon;"), Et.gammad = Et.Gammad = Et.digamma = i(A, "\\\\digamma ", "&#989;"), Et.kappav = Et.varkappa = i(A, "\\\\varkappa ", "&#1008;"), Et.rhov = Et.varrho = i(A, "\\\\varrho ", "&#1009;"), Et.pi = Et["π"] = i($, "\\\\pi ", "&pi;"), Et.lambda = i($, "\\\\lambda ", "&lambda;"), Et.Upsilon = Et.Upsi = Et.upsih = Et.Upsih = i(k, "\\\\Upsilon ", \'<var style="font-family: serif">&upsih;</var>\'), Et.Gamma = Et.Delta = Et.Theta = Et.Lambda = Et.Xi = Et.Pi = Et.Sigma = Et.Phi = Et.Psi = Et.Omega = Et.forall = Qt(j, function (t, e) {\n    t.init = function (t) {\n      e.init.call(this, "\\\\" + t + " ", "&" + t + ";");\n    };\n  }), N = Qt(O, function (t) {\n    t.init = function (t) {\n      this.latex = t;\n    }, t.createLeftOf = function (t) {\n      var e = x.parse(this.latex);\n      e.children().adopt(t.parent, t[Tt], t[Ct]), t[Tt] = e.ends[Ct], e.jQize().insertBefore(t.jQ), e.finalizeInsert(t.options, t), e.ends[Ct][Ct].siblingCreated && e.ends[Ct][Ct].siblingCreated(t.options, Tt), e.ends[Tt][Tt].siblingCreated && e.ends[Tt][Tt].siblingCreated(t.options, Ct), t.parent.bubble("reflow");\n    }, t.parser = function () {\n      var t = x.parse(this.latex).children();\n      return w.succeed(t);\n    };\n  }), Et["¹"] = i(N, "^1"), Et["²"] = i(N, "^2"), Et["³"] = i(N, "^3"), Et["¼"] = i(N, "\\\\frac14"), Et["½"] = i(N, "\\\\frac12"), Et["¾"] = i(N, "\\\\frac34"), P = Qt(Q, function (t) {\n    t.init = j.prototype.init, t.contactWeld = t.siblingCreated = t.siblingDeleted = function (t, e) {\n      return e !== Ct ? (this.jQ[0].className = !this[Tt] || this[Tt] instanceof Q || /^[,;:\\(\\[]$/.test(this[Tt].ctrlSeq) ? "" : "mq-binary-operator", this) : void 0;\n    };\n  }), Et["+"] = i(P, "+", "+"), Et["–"] = Et["-"] = i(P, "-", "&minus;"), Et["±"] = Et.pm = Et.plusmn = Et.plusminus = i(P, "\\\\pm ", "&plusmn;"), Et.mp = Et.mnplus = Et.minusplus = i(P, "\\\\mp ", "&#8723;"), At["*"] = Et.sdot = Et.cdot = i(Q, "\\\\cdot ", "&middot;", "*"), U = Qt(Q, function (t, e) {\n    t.init = function (t, n) {\n      this.data = t, this.strict = n;\n      var i = n ? "Strict" : "";\n      e.init.call(this, t["ctrlSeq" + i], t["html" + i], t["text" + i]);\n    }, t.swap = function (t) {\n      this.strict = t;\n      var e = t ? "Strict" : "";\n      this.ctrlSeq = this.data["ctrlSeq" + e], this.jQ.html(this.data["html" + e]), this.textTemplate = [this.data["text" + e]];\n    }, t.deleteTowards = function (t, n) {\n      return t !== Tt || this.strict ? void e.deleteTowards.apply(this, arguments) : (this.swap(!0), void this.bubble("reflow"));\n    };\n  }), W = {\n    ctrlSeq: "\\\\le ",\n    html: "&le;",\n    text: "≤",\n    ctrlSeqStrict: "<",\n    htmlStrict: "&lt;",\n    textStrict: "<"\n  }, H = {\n    ctrlSeq: "\\\\ge ",\n    html: "&ge;",\n    text: "≥",\n    ctrlSeqStrict: ">",\n    htmlStrict: "&gt;",\n    textStrict: ">"\n  }, Et["<"] = Et.lt = i(U, W, !0), Et[">"] = Et.gt = i(U, H, !0), Et["≤"] = Et.le = Et.leq = i(U, W, !1), Et["≥"] = Et.ge = Et.geq = i(U, H, !1), G = Qt(Q, function (t, e) {\n    t.init = function () {\n      e.init.call(this, "=", "=");\n    }, t.createLeftOf = function (t) {\n      return t[Tt] instanceof U && t[Tt].strict ? (t[Tt].swap(!1), void t[Tt].bubble("reflow")) : void e.createLeftOf.apply(this, arguments);\n    };\n  }), Et["="] = G, Et["×"] = Et.times = i(Q, "\\\\times ", "&times;", "[x]"), Et["÷"] = Et.div = Et.divide = Et.divides = i(Q, "\\\\div ", "&divide;", "[/]"), At["~"] = Et.sim = i(Q, "\\\\sim ", "~", "~"), Y = t, X = _document.createElement("div"), Z = X.style, V = {\n    transform: 1,\n    WebkitTransform: 1,\n    MozTransform: 1,\n    OTransform: 1,\n    msTransform: 1\n  };\n\n  for (tt in V) {\n    if (tt in Z) {\n      J = tt;\n      break;\n    }\n  }\n\n  J ? K = function K(t, e, n) {\n    console.log(n);\n    t.css(J, "scale(" + e + "," + (n + 0.3) + ")");\n  } : "filter" in Z ? (Y = function Y(t) {\n    t.className = t.className;\n  }, K = function K(t, e, n) {\n    function i() {\n      t.css("marginRight", (s.width() - 1) * (e - 1) / e + "px");\n    }\n\n    var s, r;\n    e /= 1 + (n - 1) / 2, t.css("fontSize", n + "em"), t.hasClass("mq-matrixed-container") || t.addClass("mq-matrixed-container").wrapInner(\'<span class="mq-matrixed"></span>\'), s = t.children().css("filter", "progid:DXImageTransform.Microsoft.Matrix(M11=" + e + ",SizingMethod=\'auto expand\')"), i(), r = setInterval(i), _t(_window).load(function () {\n      clearTimeout(r), i();\n    });\n  }) : K = function K(t, e, n) {\n    t.css("fontSize", n + "em");\n  }, et = Qt(O, function (t, e) {\n    t.init = function (t, n, i) {\n      e.init.call(this, t, "<" + n + " " + i + ">&0</" + n + ">");\n    };\n  }), Et.mathrm = i(et, "\\\\mathrm", "span", \'class="mq-roman mq-font"\'), Et.mathit = i(et, "\\\\mathit", "i", \'class="mq-font"\'), Et.mathbf = i(et, "\\\\mathbf", "b", \'class="mq-font"\'), Et.mathsf = i(et, "\\\\mathsf", "span", \'class="mq-sans-serif mq-font"\'), Et.mathtt = i(et, "\\\\mathtt", "span", \'class="mq-monospace mq-font"\'), Et.underline = i(et, "\\\\underline", "span", \'class="mq-non-leaf mq-underline"\'), Et.overline = Et.bar = i(et, "\\\\overline", "span", \'class="mq-non-leaf mq-overline"\'), Et.overrightarrow = i(et, "\\\\overrightarrow", "span", \'class="mq-non-leaf mq-overarrow mq-arrow-right"\'), Et.overleftarrow = i(et, "\\\\overleftarrow", "span", \'class="mq-non-leaf mq-overarrow mq-arrow-left"\'), nt = Et.textcolor = Qt(O, function (t, e) {\n    t.setColor = function (t) {\n      this.color = t, this.htmlTemplate = \'<span class="mq-textcolor" style="color:\' + t + \'">&0</span>\';\n    }, t.latex = function () {\n      return "\\\\textcolor{" + this.color + "}{" + this.blocks[0].latex() + "}";\n    }, t.parser = function () {\n      var t = this,\n          n = w.optWhitespace,\n          i = w.string,\n          s = w.regex;\n      return n.then(i("{")).then(s(/^[#\\w\\s.,()%-]*/)).skip(i("}")).then(function (n) {\n        return t.setColor(n), e.parser.call(t);\n      });\n    };\n  }), it = Et["class"] = Qt(O, function (t, e) {\n    t.parser = function () {\n      var t = this,\n          n = w.string,\n          i = w.regex;\n      return w.optWhitespace.then(n("{")).then(i(/^[-\\w\\s\\\\\\xA0-\\xFF]*/)).skip(n("}")).then(function (n) {\n        return t.htmlTemplate = \'<span class="mq-class \' + n + \'">&0</span>\', e.parser.call(t);\n      });\n    };\n  }), st = Qt(O, function (t, e) {\n    t.ctrlSeq = "_{...}^{...}", t.createLeftOf = function (t) {\n      return t[Tt] || !t.options.supSubsRequireOperand ? e.createLeftOf.apply(this, arguments) : void 0;\n    }, t.contactWeld = function (t) {\n      var e, n, i, s, r, o;\n\n      for (e = Tt; e; e = e === Tt ? Ct : !1) {\n        if (this[e] instanceof st) {\n          for (n = "sub"; n; n = "sub" === n ? "sup" : !1) {\n            i = this[n], s = this[e][n], i && (s ? i.isEmpty() ? o = Dt(s, 0, s.ends[Tt]) : (i.jQ.children().insAtDirEnd(-e, s.jQ), r = i.children().disown(), o = Dt(s, r.ends[Ct], s.ends[Tt]), e === Tt ? r.adopt(s, s.ends[Ct], 0) : r.adopt(s, 0, s.ends[Tt])) : this[e].addBlock(i.disown()), this.placeCursor = function (t, n) {\n              return function (i) {\n                i.insAtDirEnd(-e, t || n);\n              };\n            }(s, i));\n          }\n\n          this.remove(), t && t[Tt] === this && (e === Ct && o ? o[Tt] ? t.insRightOf(o[Tt]) : t.insAtLeftEnd(o.parent) : t.insRightOf(this[e]));\n          break;\n        }\n      }\n    }, Bt.p.charsThatBreakOutOfSupSub = "", t.finalizeTree = function () {\n      this.ends[Tt].write = function (t, e) {\n        if (t.options.autoSubscriptNumerals && this === this.parent.sub) {\n          if ("_" === e) return;\n          var n = this.chToCmd(e);\n          return n instanceof k ? t.deleteSelection() : t.clearSelection().insRightOf(this.parent), n.createLeftOf(t.show());\n        }\n\n        t[Tt] && !t[Ct] && !t.selection && t.options.charsThatBreakOutOfSupSub.indexOf(e) > -1 && t.insRightOf(this.parent), T.p.write.apply(this, arguments);\n      };\n    }, t.moveTowards = function (t, n, i) {\n      n.options.autoSubscriptNumerals && !this.sup ? n.insDirOf(t, this) : e.moveTowards.apply(this, arguments);\n    }, t.deleteTowards = function (t, n) {\n      if (n.options.autoSubscriptNumerals && this.sub) {\n        var i = this.sub.ends[-t];\n        i instanceof k ? i.remove() : i && i.deleteTowards(t, n.insAtDirEnd(-t, this.sub)), this.sub.isEmpty() && (this.sub.deleteOutOf(Tt, n.insAtLeftEnd(this.sub)), this.sup && n.insDirOf(-t, this));\n      } else e.deleteTowards.apply(this, arguments);\n    }, t.latex = function () {\n      function t(t, e) {\n        var n = e && e.latex();\n        return e ? t + (1 === n.length ? n : "{" + (n || " ") + "}") : "";\n      }\n\n      return t("_", this.sub) + t("^", this.sup);\n    }, t.addBlock = function (t) {\n      "sub" === this.supsub ? (this.sup = this.upInto = this.sub.upOutOf = t, t.adopt(this, this.sub, 0).downOutOf = this.sub, t.jQ = _t(\'<span class="mq-sup"/>\').append(t.jQ.children()).attr(xt, t.id).prependTo(this.jQ)) : (this.sub = this.downInto = this.sup.downOutOf = t, t.adopt(this, 0, this.sup).upOutOf = this.sup, t.jQ = _t(\'<span class="mq-sub"></span>\').append(t.jQ.children()).attr(xt, t.id).appendTo(this.jQ.removeClass("mq-sup-only")), this.jQ.append(\'<span style="display:inline-block;width:0">&#8203;</span>\'));\n\n      for (var e = 0; 2 > e; e += 1) {\n        (function (t, e, n, i) {\n          t[e].deleteOutOf = function (s, r) {\n            if (r.insDirOf(this[s] ? -s : s, this.parent), !this.isEmpty()) {\n              var o = this.ends[s];\n              this.children().disown().withDirAdopt(s, r.parent, r[s], r[-s]).jQ.insDirOf(-s, r.jQ), r[-s] = o;\n            }\n\n            t.supsub = n, delete t[e], delete t[i + "Into"], t[n][i + "OutOf"] = f, delete t[n].deleteOutOf, "sub" === e && _t(t.jQ.addClass("mq-sup-only")[0].lastChild).remove(), this.remove();\n          };\n        })(this, "sub sup".split(" ")[e], "sup sub".split(" ")[e], "down up".split(" ")[e]);\n      }\n    };\n  }), Et.subscript = Et._ = Qt(st, function (t, e) {\n    t.supsub = "sub", t.htmlTemplate = \'<span class="mq-supsub mq-non-leaf"><span class="mq-sub">&0</span><span style="display:inline-block;width:0">&#8203;</span></span>\', t.textTemplate = ["_"], t.finalizeTree = function () {\n      this.downInto = this.sub = this.ends[Tt], this.sub.upOutOf = f, e.finalizeTree.call(this);\n    };\n  }), Et.superscript = Et.supscript = Et["^"] = Qt(st, function (t, e) {\n    t.supsub = "sup", t.htmlTemplate = \'<span class="mq-supsub mq-non-leaf mq-sup-only"><span class="mq-sup">&0</span></span>\', t.textTemplate = ["^"], t.finalizeTree = function () {\n      this.upInto = this.sup = this.ends[Ct], this.sup.downOutOf = f, e.finalizeTree.call(this);\n    };\n  }), rt = Qt(O, function (t, e) {\n    t.init = function (t, e) {\n      var n = \'<span class="mq-large-operator mq-non-leaf"><span class="mq-to"><span>&1</span></span><big>\' + e + \'</big><span class="mq-from"><span>&0</span></span></span>\';\n      k.prototype.init.call(this, t, n);\n    }, t.createLeftOf = function (t) {\n      e.createLeftOf.apply(this, arguments), t.options.sumStartsWithNEquals && (R("n").createLeftOf(t), G().createLeftOf(t));\n    }, t.latex = function () {\n      function t(t) {\n        return 1 === t.length ? t : "{" + (t || " ") + "}";\n      }\n\n      return this.ctrlSeq + "_" + t(this.ends[Tt].latex()) + "^" + t(this.ends[Ct].latex());\n    }, t.parser = function () {\n      var t,\n          e = w.string,\n          n = w.optWhitespace,\n          i = w.succeed,\n          s = x.block,\n          r = this,\n          o = r.blocks = [T(), T()];\n\n      for (t = 0; t < o.length; t += 1) {\n        o[t].adopt(r, r.ends[Ct], 0);\n      }\n\n      return n.then(e("_").or(e("^"))).then(function (t) {\n        var e = o["_" === t ? 0 : 1];\n        return s.then(function (t) {\n          return t.children().adopt(e, e.ends[Ct], 0), i(r);\n        });\n      }).many().result(r);\n    }, t.finalizeTree = function () {\n      this.downInto = this.ends[Tt], this.upInto = this.ends[Ct], this.ends[Tt].upOutOf = this.ends[Ct], this.ends[Ct].downOutOf = this.ends[Tt];\n    };\n  }), Et["∑"] = Et.sum = Et.summation = i(rt, "\\\\sum ", "&sum;"), Et["∏"] = Et.prod = Et.product = i(rt, "\\\\prod ", "&prod;"), Et.coprod = Et.coproduct = i(rt, "\\\\coprod ", "&#8720;"), Et["∫"] = Et["int"] = Et.integral = Qt(rt, function (t, e) {\n    t.init = function () {\n      var t = \'<span class="mq-int mq-non-leaf"><big>&int;</big><span class="mq-supsub mq-non-leaf"><span class="mq-sup"><span class="mq-sup-inner">&1</span></span><span class="mq-sub">&0</span><span style="display:inline-block;width:0">&#8203</span></span></span>\';\n      k.prototype.init.call(this, "\\\\int ", t);\n    }, t.createLeftOf = O.p.createLeftOf;\n  }), ot = Et.frac = Et.dfrac = Et.cfrac = Et.fraction = Qt(O, function (t, e) {\n    t.ctrlSeq = "\\\\frac", t.htmlTemplate = \'<span class="mq-fraction mq-non-leaf"><span class="mq-numerator">&0</span><span class="mq-denominator">&1</span><span style="display:inline-block;width:0">&#8203;</span></span>\', t.textTemplate = ["(", ")/(", ")"], t.finalizeTree = function () {\n      this.upInto = this.ends[Ct].upOutOf = this.ends[Tt], this.downInto = this.ends[Tt].downOutOf = this.ends[Ct];\n    };\n  }), at = Et.over = At["/"] = Qt(ot, function (e, n) {\n    e.createLeftOf = function (e) {\n      if (!this.replacedFragment) {\n        for (var i = e[Tt]; i && !(i instanceof Q || i instanceof (Et.text || t) || i instanceof rt || "\\\\ " === i.ctrlSeq || /^[,;:]$/.test(i.ctrlSeq));) {\n          i = i[Tt];\n        }\n\n        i instanceof rt && i[Ct] instanceof st && (i = i[Ct], i[Ct] instanceof st && i[Ct].ctrlSeq != i.ctrlSeq && (i = i[Ct])), i !== e[Tt] && (this.replaces(Lt(i[Ct] || e.parent.ends[Tt], e[Tt])), e[Tt] = i);\n      }\n\n      n.createLeftOf.call(this, e);\n    };\n  }), lt = Et.sqrt = Et["√"] = Qt(O, function (t, e) {\n    t.ctrlSeq = "\\\\sqrt", t.htmlTemplate = \'<span class="mq-non-leaf"><span class="mq-scaled mq-sqrt-prefix">&radic;</span><span class="mq-non-leaf mq-sqrt-stem">&0</span></span>\', t.textTemplate = ["sqrt(", ")"], t.parser = function () {\n      return x.optBlock.then(function (t) {\n        return x.block.map(function (e) {\n          var n = ut();\n          return n.blocks = [t, e], t.adopt(n, 0, 0), e.adopt(n, t, 0), n;\n        });\n      }).or(e.parser.call(this));\n    }, t.reflow = function () {\n      var t = this.ends[Ct].jQ;\n      K(t.prev(), 1, t.innerHeight() / +t.css("fontSize").slice(0, -2) - .1);\n    };\n  }), ct = Et.vec = Qt(O, function (t, e) {\n    t.ctrlSeq = "\\\\vec", t.htmlTemplate = \'<span class="mq-non-leaf"><span class="mq-vector-prefix">&rarr;</span><span class="mq-vector-stem">&0</span></span>\', t.textTemplate = ["vec(", ")"];\n  }), ut = Et.nthroot = Qt(lt, function (t, e) {\n    t.htmlTemplate = \'<sup class="mq-nthroot mq-non-leaf">&0</sup><span class="mq-scaled"><span class="mq-sqrt-prefix mq-scaled">&radic;</span><span class="mq-sqrt-stem mq-non-leaf">&1</span></span>\', t.textTemplate = ["sqrt[", "](", ")"], t.latex = function () {\n      return "\\\\sqrt[" + this.ends[Tt].latex() + "]{" + this.ends[Ct].latex() + "}";\n    };\n  }), ht = Qt(Qt(O, p), function (e, n) {\n    e.init = function (t, e, i, s, r) {\n      n.init.call(this, "\\\\left" + s, m, [e, i]), this.side = t, this.sides = {}, this.sides[Tt] = {\n        ch: e,\n        ctrlSeq: s\n      }, this.sides[Ct] = {\n        ch: i,\n        ctrlSeq: r\n      };\n    }, e.numBlocks = function () {\n      return 1;\n    }, e.html = function () {\n      return this.htmlTemplate = \'<span class="mq-non-leaf"><span class="mq-scaled mq-paren\' + (this.side === Ct ? " mq-ghost" : "") + \'">\' + this.sides[Tt].ch + \'</span><span class="mq-non-leaf">&0</span><span class="mq-scaled mq-paren\' + (this.side === Tt ? " mq-ghost" : "") + \'">\' + this.sides[Ct].ch + "</span></span>", n.html.call(this);\n    }, e.latex = function () {\n      return "\\\\left" + this.sides[Tt].ctrlSeq + this.ends[Tt].latex() + "\\\\right" + this.sides[Ct].ctrlSeq;\n    }, e.oppBrack = function (t, e, n) {\n      return e instanceof ht && e.side && e.side !== -n && ("|" === this.sides[this.side].ch || e.side === -this.side) && (!t.restrictMismatchedBrackets || ft[this.sides[this.side].ch] === e.sides[e.side].ch || {\n        "(": "]",\n        "[": ")"\n      }[this.sides[Tt].ch] === e.sides[Ct].ch) && e;\n    }, e.closeOpposing = function (t) {\n      t.side = 0, t.sides[this.side] = this.sides[this.side], t.delimjQs.eq(this.side === Tt ? 0 : 1).removeClass("mq-ghost").html(this.sides[this.side].ch);\n    }, e.createLeftOf = function (t) {\n      var e, i, s;\n      this.replacedFragment || (e = t.options, i = this.oppBrack(e, t[Tt], Tt) || this.oppBrack(e, t[Ct], Ct) || this.oppBrack(e, t.parent.parent)), i ? (s = this.side = -i.side, this.closeOpposing(i), i === t.parent.parent && t[s] && (Lt(t[s], t.parent.ends[s], -s).disown().withDirAdopt(-s, i.parent, i, i[s]).jQ.insDirOf(s, i.jQ), i.bubble("reflow"))) : (i = this, s = i.side, i.replacedFragment ? i.side = 0 : t[-s] && (i.replaces(Lt(t[-s], t.parent.ends[-s], s)), t[-s] = 0), n.createLeftOf.call(i, t)), s === Tt ? t.insAtLeftEnd(i.ends[Tt]) : t.insRightOf(i);\n    }, e.placeCursor = t, e.unwrap = function () {\n      this.ends[Tt].children().disown().adopt(this.parent, this, this[Ct]).jQ.insertAfter(this.jQ), this.remove();\n    }, e.deleteSide = function (t, e, n) {\n      var i,\n          s,\n          r,\n          o = this.parent,\n          a = this[t],\n          l = o.ends[t];\n      if (t === this.side) return this.unwrap(), void (a ? n.insDirOf(-t, a) : n.insAtDirEnd(t, o));\n      if (i = n.options, s = !this.side, this.side = -t, this.oppBrack(i, this.ends[Tt].ends[this.side], t)) this.closeOpposing(this.ends[Tt].ends[this.side]), r = this.ends[Tt].ends[t], this.unwrap(), r.siblingCreated && r.siblingCreated(n.options, t), a ? n.insDirOf(-t, a) : n.insAtDirEnd(t, o);else {\n        if (this.oppBrack(i, this.parent.parent, t)) this.parent.parent.closeOpposing(this), this.parent.parent.unwrap();else {\n          if (e && s) return this.unwrap(), void (a ? n.insDirOf(-t, a) : n.insAtDirEnd(t, o));\n          this.sides[t] = {\n            ch: ft[this.sides[this.side].ch],\n            ctrlSeq: ft[this.sides[this.side].ctrlSeq]\n          }, this.delimjQs.removeClass("mq-ghost").eq(t === Tt ? 0 : 1).addClass("mq-ghost").html(this.sides[t].ch);\n        }\n        a ? (r = this.ends[Tt].ends[t], Lt(a, l, -t).disown().withDirAdopt(-t, this.ends[Tt], r, 0).jQ.insAtDirEnd(t, this.ends[Tt].jQ.removeClass("mq-empty")), r.siblingCreated && r.siblingCreated(n.options, t), n.insDirOf(-t, a)) : e ? n.insDirOf(t, this) : n.insAtDirEnd(t, this.ends[Tt]);\n      }\n    }, e.deleteTowards = function (t, e) {\n      this.deleteSide(-t, !1, e);\n    }, e.finalizeTree = function () {\n      this.ends[Tt].deleteOutOf = function (t, e) {\n        this.parent.deleteSide(t, !0, e);\n      }, this.finalizeTree = this.intentionalBlur = function () {\n        this.delimjQs.eq(this.side === Tt ? 1 : 0).removeClass("mq-ghost"), this.side = 0;\n      };\n    }, e.siblingCreated = function (t, e) {\n      e === -this.side && this.finalizeTree();\n    };\n  }), ft = {\n    "(": ")",\n    ")": "(",\n    "[": "]",\n    "]": "[",\n    "{": "}",\n    "}": "{",\n    "\\\\{": "\\\\}",\n    "\\\\}": "\\\\{",\n    "&lang;": "&rang;",\n    "&rang;": "&lang;",\n    "\\\\langle ": "\\\\rangle ",\n    "\\\\rangle ": "\\\\langle ",\n    "|": "|"\n  }, d("("), d("["), d("{", "\\\\{"), Et.langle = i(ht, Tt, "&lang;", "&rang;", "\\\\langle ", "\\\\rangle "), Et.rangle = i(ht, Ct, "&lang;", "&rang;", "\\\\langle ", "\\\\rangle "), At["|"] = i(ht, Tt, "|", "|", "|", "|"), Et.left = Qt(O, function (t) {\n    t.parser = function () {\n      var t = w.regex,\n          e = w.string,\n          n = (w.succeed, w.optWhitespace);\n      return n.then(t(/^(?:[([|]|\\\\\\{)/)).then(function (i) {\n        var s = "\\\\" === i.charAt(0) ? i.slice(1) : i;\n        return x.then(function (r) {\n          return e("\\\\right").skip(n).then(t(/^(?:[\\])|]|\\\\\\})/)).map(function (t) {\n            var e = "\\\\" === t.charAt(0) ? t.slice(1) : t,\n                n = ht(0, s, e, i, t);\n            return n.blocks = [r], r.adopt(n, 0, 0), n;\n          });\n        });\n      });\n    };\n  }), Et.right = Qt(O, function (t) {\n    t.parser = function () {\n      return w.fail("unmatched \\\\right");\n    };\n  }), pt = Et.binom = Et.binomial = Qt(Qt(O, p), function (t, e) {\n    t.ctrlSeq = "\\\\binom", t.htmlTemplate = \'<span class="mq-non-leaf"><span class="mq-paren mq-scaled">(</span><span class="mq-non-leaf"><span class="mq-array mq-non-leaf"><span>&0</span><span>&1</span><span>&2</span></span></span><span class="mq-paren mq-scaled">)</span></span>\', t.textTemplate = ["choose(", ",", ")"];\n  }), dt = Et.choose = Qt(pt, function (t) {\n    t.createLeftOf = at.prototype.createLeftOf;\n  }), pt = Et.matrix = Qt(Qt(O, p), function (t, e) {\n    t.ctrlSeq = "\\\\matrix", t.htmlTemplate = \'<span class="mq-non-leaf"><span class="mq-paren mq-scaled">[</span><span class="mq-non-leaf"><span class="mq-array mq-non-leaf"><span>&0</span><span>&1</span><span>&2</span></span></span><span class="mq-paren mq-scaled">]</span></span>\', t.textTemplate = ["choose(", ",", ")"];\n  }), xy = Et.choose = Qt(pt, function (t) {\n    t.createLeftOf = at.prototype.createLeftOf;\n  }), pt = Et.matrixTwo = Qt(Qt(O, p), function (t, e) {\n    t.ctrlSeq = "\\\\matrixTwo", t.htmlTemplate = \'<span class="mq-non-leaf"><span class="mq-paren mq-scaled">[</span><span class="mq-non-leaf"><span class="mq-array mq-non-leaf"><span>&0</span><span>&1</span></span></span><span class="mq-paren mq-scaled">]</span></span>\', t.textTemplate = ["choose(", ",", ")"];\n  }), xy = Et.choose = Qt(pt, function (t) {\n    t.createLeftOf = at.prototype.createLeftOf;\n  }), pt = Et.matrixFour = Qt(Qt(O, p), function (t, e) {\n    t.ctrlSeq = "\\\\matrixFour", t.htmlTemplate = \'<span class="mq-non-leaf"><span class="mq-paren mq-scaled">[</span><span class="mq-non-leaf"><span class="mq-array mq-non-leaf"><span>&0</span><span>&1</span><span>&2</span><span>&3</span></span></span><span class="mq-paren mq-scaled">]</span></span>\', t.textTemplate = ["choose(", ",", ")"];\n  }), pt = Et.matrixFive = Qt(Qt(O, p), function (t, e) {\n    t.ctrlSeq = "\\\\matrixFive", t.htmlTemplate = \'<span class="mq-non-leaf"><span class="mq-paren mq-scaled">[</span><span class="mq-non-leaf"><span class="mq-array mq-non-leaf"><span>&0</span><span>&1</span><span>&2</span><span>&3</span><span>&4</span></span></span><span class="mq-paren mq-scaled">]</span></span>\', t.textTemplate = ["choose(", ",", ")"];\n  }), pt = Et.matrixSix = Qt(Qt(O, p), function (t, e) {\n    t.ctrlSeq = "\\\\matrixSix", t.htmlTemplate = \'<span class="mq-non-leaf"><span class="mq-paren mq-scaled">[</span><span class="mq-non-leaf"><span class="mq-array mq-non-leaf"><span>&0</span><span>&1</span><span>&2</span><span>&3</span><span>&4</span><span>&5</span></span></span><span class="mq-paren mq-scaled">]</span></span>\', t.textTemplate = ["choose(", ",", ")"];\n  }), pt = Et.matrixSeven = Qt(Qt(O, p), function (t, e) {\n    t.ctrlSeq = "\\\\matrixSeven", t.htmlTemplate = \'<span class="mq-non-leaf"><span class="mq-paren mq-scaled">[</span><span class="mq-non-leaf"><span class="mq-array mq-non-leaf"><span>&0</span><span>&1</span><span>&2</span><span>&3</span><span>&4</span><span>&5</span><span>&6</span></span></span><span class="mq-paren mq-scaled">]</span></span>\', t.textTemplate = ["choose(", ",", ")"];\n  }), xy = Et.choose = Qt(pt, function (t) {\n    t.createLeftOf = at.prototype.createLeftOf;\n  }), xy = Et.choose = Qt(pt, function (t) {\n    t.createLeftOf = at.prototype.createLeftOf;\n  }), xy = Et.choose = Qt(pt, function (t) {\n    t.createLeftOf = at.prototype.createLeftOf;\n  }), xy = Et.choose = Qt(pt, function (t) {\n    t.createLeftOf = at.prototype.createLeftOf;\n  }), Et.editable = Et.MathQuillMathField = Qt(O, function (t, e) {\n    t.ctrlSeq = "\\\\MathQuillMathField", t.htmlTemplate = \'<span class="mq-editable-field"><span class="mq-root-block">&0</span></span>\', t.parser = function () {\n      var t = this,\n          n = w.string,\n          i = w.regex,\n          s = w.succeed;\n      return n("[").then(i(/^[a-z][a-z0-9]*/i)).skip(n("]")).map(function (e) {\n        t.name = e;\n      }).or(s()).then(e.parser.call(t));\n    }, t.finalizeTree = function () {\n      var t = zt(this.ends[Tt], this.jQ, Bt());\n      t.KIND_OF_MQ = "MathField", t.editable = !0, t.createTextarea(), t.editablesTextareaEvents(), t.cursor.insAtRightEnd(t.root), u(t.root);\n    }, t.registerInnerField = function (t, e) {\n      t.push(t[this.name] = e(this.ends[Tt].controller));\n    }, t.latex = function () {\n      return this.ends[Tt].latex();\n    }, t.text = function () {\n      return this.ends[Tt].text();\n    };\n  }), mt = Et.embed = Qt(k, function (t, e) {\n    t.setOptions = function (t) {\n      function e() {\n        return "";\n      }\n\n      return this.text = t.text || e, this.htmlTemplate = t.htmlString || "", this.latex = t.latex || e, this;\n    }, t.parser = function () {\n      var t = this;\n      return string = w.string, regex = w.regex, succeed = w.succeed, string("{").then(regex(/^[a-z][a-z0-9]*/i)).skip(string("}")).then(function (e) {\n        return string("[").then(regex(/^[-\\w\\s]*/)).skip(string("]")).or(succeed()).map(function (n) {\n          return t.setOptions(Nt[e](n));\n        });\n      });\n    };\n  }), gt = At["\\\\"] = Qt(O, function (t, e) {\n    t.ctrlSeq = "\\\\", t.replaces = function (t) {\n      this._replacedFragment = t.disown(), this.isEmpty = function () {\n        return !1;\n      };\n    }, t.htmlTemplate = \'<span class="mq-latex-command-input mq-non-leaf">\\\\<span>&0</span></span>\', t.textTemplate = ["\\\\"], t.createBlocks = function () {\n      e.createBlocks.call(this), this.ends[Tt].focus = function () {\n        return this.parent.jQ.addClass("mq-hasCursor"), this.isEmpty() && this.parent.jQ.removeClass("mq-empty"), this;\n      }, this.ends[Tt].blur = function () {\n        return this.parent.jQ.removeClass("mq-hasCursor"), this.isEmpty() && this.parent.jQ.addClass("mq-empty"), this;\n      }, this.ends[Tt].write = function (t, e) {\n        t.show().deleteSelection(), e.match(/[a-z]/i) ? j(e).createLeftOf(t) : (this.parent.renderCommand(t), "\\\\" === e && this.isEmpty() || this.parent.parent.write(t, e));\n      }, this.ends[Tt].keystroke = function (t, n, i) {\n        return "Tab" === t || "Enter" === t || "Spacebar" === t ? (this.parent.renderCommand(i.cursor), void n.preventDefault()) : e.keystroke.apply(this, arguments);\n      };\n    }, t.createLeftOf = function (t) {\n      if (e.createLeftOf.call(this, t), this._replacedFragment) {\n        var n = this.jQ[0];\n        this.jQ = this._replacedFragment.jQ.addClass("mq-blur").bind("mousedown mousemove", function (t) {\n          return _t(t.target = n).trigger(t), !1;\n        }).insertBefore(this.jQ).add(this.jQ);\n      }\n    }, t.latex = function () {\n      return "\\\\" + this.ends[Tt].latex() + " ";\n    }, t.renderCommand = function (t) {\n      var e, n;\n      this.jQ = this.jQ.last(), this.remove(), this[Ct] ? t.insLeftOf(this[Ct]) : t.insAtRightEnd(this.parent), e = this.ends[Tt].latex(), e || (e = " "), n = Et[e], n ? (n = n(e), this._replacedFragment && n.replaces(this._replacedFragment), n.createLeftOf(t)) : (n = _(), n.replaces(e), n.createLeftOf(t), t.insRightOf(n), this._replacedFragment && this._replacedFragment.remove());\n    };\n  }), bt = c(1);\n\n  for (vt in bt) {\n    (function (t, e) {\n      "function" == typeof e ? (l[t] = function () {\n        return a(), e.apply(this, arguments);\n      }, l[t].prototype = e.prototype) : l[t] = e;\n    })(vt, bt[vt]);\n  }\n}\n\nmathquillV10();'},128:function(t,e,n){n(129),t.exports=n(92)},315:function(t,e,n){var i=n(316);"string"==typeof i&&(i=[[t.i,i,""]]);var o={attributes:{class:"webpack-style"},insert:"head",singleton:!1};n(29)(i,o);i.locals&&(t.exports=i.locals)},316:function(t,e,n){e=t.exports=n(28)(!1);var i=n(62),o=i(n(317)),r=i(n(318)),a=i(n(319)),s=i(n(320));e.push([t.i,".edui-container{position:relative;border:1px solid #d4d4d4;background-color:#fff}.edui-container .edui-toolbar{position:relative;width:auto;border-bottom:1px solid #e1e1e1;background-color:#fafafa;z-index:99999}.edui-toolbar .edui-btn-toolbar{position:relative;padding:5px}.edui-container .edui-editor-body{background-color:#fff;overflow:hidden}.edui-editor-body .edui-body-container{width:99% !important;margin:0 auto}.edui-editor-body .edui-body-container p{margin:5px 0}.edui-editor-body .edui-body-container{border:0;outline:none;cursor:text;padding:0 10px 0;overflow:auto;display:block;word-wrap:break-word;font-size:16px;font-family:sans-serif}.edui-editor-body.focus{border:1px solid #5c9dff}.edui-editor-body table{margin:10px 0 10px;border-collapse:collapse;display:table}.edui-editor-body td{padding:5px 10px;border:1px solid #DDD}.edui-editor-body iframe.mathquill-embedded-latex{border:0px;padding:0px;display:inline-block;margin:0px;background:none;vertical-align:middle;width:120px;height:120px;overflow:hidden}.edui-btn-toolbar .edui-btn{position:relative;display:inline-block;vertical-align:top;*display:inline;*zoom:1;width:auto;margin:0 1px;padding:1px;border:none;background:none}.edui-btn-toolbar .edui-btn .edui-icon{width:20px;height:20px;margin:0;padding:0;text-align:center;line-height:20px;cursor:pointer}.edui-btn-toolbar .edui-btn.edui-hover,.edui-btn-toolbar .edui-btn.edui-active{background-color:#d5e1f2;padding:0;border:1px solid #a3bde3;color:#676767;z-index:1}.edui-btn-toolbar .edui-btn{font-family:IcoFont !important;text-align:center;color:#555}.edui-btn-toolbar .edui-btn.edui-disabled{opacity:0.3;filter:alpha(opacity=30)}.edui-btn-toolbar .edui-btn .edui-icon-source:before{content:'\\ede6'}.edui-btn-toolbar .edui-btn .edui-icon-undo:before{content:'\\ee0b'}.edui-btn-toolbar .edui-btn .edui-icon-redo:before{content:'\\edfe'}.edui-btn-toolbar .edui-btn .edui-icon-bold:before{content:'\\ede3'}.edui-btn-toolbar .edui-btn .edui-icon-italic:before{content:'\\edf2'}.edui-btn-toolbar .edui-btn .edui-icon-underline:before{content:'\\ee0a'}.edui-btn-toolbar .edui-btn .edui-icon-strikethrough:before{content:'\\ee02'}.edui-btn-toolbar .edui-btn .edui-icon-superscript:before{content:'\\ee05'}.edui-btn-toolbar .edui-btn .edui-icon-subscript:before{content:'\\ee04'}.edui-btn-toolbar .edui-btn .edui-icon-font:before,.edui-btn-toolbar .edui-btn .edui-icon-forecolor:before{content:\"\\edef\"}.edui-btn-toolbar .edui-btn .edui-icon-backcolor:before{content:'\\ede4'}.edui-btn-toolbar .edui-btn .edui-icon-insertorderedlist:before{content:'\\ef76'}.edui-btn-toolbar .edui-btn .edui-icon-insertunorderedlist:before{content:'\\ef74'}.edui-btn-toolbar .edui-btn .edui-icon-selectall:before{content:'\\ede5'}.edui-btn-toolbar .edui-btn .edui-icon-cleardoc:before{content:'\\eb12'}.edui-btn-toolbar .edui-btn .edui-icon-paragraph{background-position:-140px 0}.edui-btn-toolbar .edui-btn .edui-icon-fontfamily:before{content:'\\edef'}.edui-btn-toolbar .edui-btn .edui-icon-fontsize{background-position:-140px 0}.edui-btn-toolbar .edui-btn .edui-icon-justifyleft:before{content:'\\ede0'}.edui-btn-toolbar .edui-btn .edui-icon-justifycenter:before{content:'\\eddf'}.edui-btn-toolbar .edui-btn .edui-icon-justifyright:before{content:\"\\ede1\"}.edui-btn-toolbar .edui-btn .edui-icon-justifyjustify{background-position:-440px 0}.edui-btn-toolbar .edui-btn .edui-icon-link:before{content:\"\\edfa\"}.edui-btn-toolbar .edui-btn .edui-icon-unlink:before{content:\"\\edf8\"}.edui-btn-toolbar .edui-btn .edui-icon-image:before{content:\"\\efbc\"}.edui-btn-toolbar .edui-btn .edui-icon-emotion:before{content:\"\\eafc\"}.edui-btn-toolbar .edui-btn .edui-icon-video:before{content:\"\\ec92\"}.edui-btn-toolbar .edui-btn .edui-icon-code:before{content:\"\\eeea\"}.edui-btn-toolbar .edui-btn .edui-icon-map:before{content:\"\\edfc\"}.edui-btn-toolbar .edui-btn .edui-icon-gmap{background-position:-260px -40px}.edui-btn-toolbar .edui-btn .edui-icon-horizontal:before{content:'—'}.edui-btn-toolbar .edui-btn .edui-icon-print:before{content:\"\\efc6\"}.edui-btn-toolbar .edui-btn .edui-icon-preview:before{content:\"\\e985\"}.edui-btn-toolbar .edui-btn .edui-icon-fullscreen:before{content:\"\\eeee\"}.edui-btn-toolbar .edui-btn .edui-icon-removeformat:before{content:\"\\edee\"}.edui-btn-toolbar .edui-btn .edui-icon-drafts:before{content:\"\\ee00\"}.edui-btn-toolbar .edui-btn .edui-icon-formula:before{content:\"\\ec04\"}.edui-btn-toolbar .edui-splitbutton{position:relative;display:inline-block;vertical-align:top;*display:inline;*zoom:1;margin:0 2px}.edui-splitbutton .edui-btn{margin:0}.edui-splitbutton .edui-caret{position:relative;display:inline-block;vertical-align:top;*display:inline;*zoom:1;width:8px;height:20px}.edui-btn-toolbar .edui-splitbutton,.edui-btn-toolbar .edui-splitbutton{_border:none}.edui-btn-toolbar .edui-splitbutton.edui-hover .edui-btn{background-color:#d5e1f2}.edui-btn-toolbar .edui-splitbutton.edui-disabled{opacity:0.3;filter:alpha(opacity=30)}.edui-btn-toolbar .edui-splitbutton.edui-disabled .edui-caret{opacity:0.3 \\0;filter:alpha(opacity=30) \\0}.edui-btn-toolbar .edui-combobox{border:1px solid #CCC;padding:0;margin:0 2px;line-height:20px}.edui-combobox .edui-button-label{position:relative;display:inline-block;vertical-align:top;*display:inline;*zoom:1;width:60px;height:20px;line-height:20px;padding:2px;margin:0;font-size:12px;text-align:center;cursor:default}.edui-combobox .edui-button-spacing{position:relative;display:inline-block;vertical-align:top;*display:inline;*zoom:1;height:20px;margin:0;padding:0 3px}.edui-combobox .edui-caret{position:relative;display:inline-block;vertical-align:top;*display:inline;*zoom:1;height:20px;width:12px;margin:0;padding:0}.edui-btn-toolbar .edui-combobox.edui-disabled{opacity:0.2;filter:alpha(opacity=20)}.edui-btn-toolbar .edui-combobox.edui-disabled .edui-button-label,.edui-btn-toolbar .edui-combobox.edui-disabled .edui-caret{opacity:0.2 \\0;filter:alpha(opacity=20) \\0}.edui-combobox-menu{position:absolute;top:100%;left:0;display:none;list-style:none;text-decoration:none;margin:0;padding:5px;background-color:#ffffff;border:1px solid #ccc;font-size:12px;-webkit-box-shadow:2px 2px 5px #d3d6da;box-shadow:2px 2px 5px #d3d6da;min-width:160px;_width:160px}.edui-combobox-menu .edui-combobox-item{display:block;border:1px solid white}.edui-combobox-menu .edui-combobox-item-label{height:25px;line-height:25px;display:inline-block;_display:inline;_zoom:1;margin-left:10px}.edui-combobox-menu .edui-combobox-item:hover,.edui-combobox-menu .edui-combobox-stack-item:hover,.edui-combobox-menu .edui-combobox-item-hover{background-color:#d5e1f2;padding:0;border:1px solid #a3bde3}.edui-combobox-menu .edui-combobox-item .edui-combobox-icon{display:inline-block;*zoom:1;*display:inline;width:24px;height:25px;background:red;vertical-align:bottom;background:url("+o+") no-repeat 1000px 1000px}.edui-combobox-menu .edui-combobox-checked .edui-combobox-icon{background-position:10px 7px}.edui-combobox-menu .edui-combobox-item-separator{min-width:160px;height:1px;line-height:1px;overflow:hidden;background:#d3d3d3;margin:5px 0;*margin-top:-8px}.edui-combobox-fontsize .edui-combobox-item-0.edui-combobox-checked .edui-combobox-icon{background-position:10px 7px}.edui-combobox-fontsize .edui-combobox-item-1.edui-combobox-checked .edui-combobox-icon{background-position:10px 7px}.edui-combobox-fontsize .edui-combobox-item-2.edui-combobox-checked .edui-combobox-icon{background-position:10px 7px}.edui-combobox-fontsize .edui-combobox-item-3.edui-combobox-checked .edui-combobox-icon{background-position:10px 7px}.edui-combobox-fontsize .edui-combobox-item-4 .edui-combobox-item-label{height:27px;line-height:27px}.edui-combobox-fontsize .edui-combobox-item-4.edui-combobox-checked .edui-combobox-icon{background-position:10px 5px}.edui-combobox-fontsize .edui-combobox-item-5 .edui-combobox-item-label{height:31px;line-height:31px}.edui-combobox-fontsize .edui-combobox-item-5.edui-combobox-checked .edui-combobox-icon{background-position:10px 4px}.edui-combobox-fontsize .edui-combobox-item-6 .edui-combobox-item-label{height:47px;line-height:47px}.edui-combobox-paragraph .edui-combobox-item-1 .edui-combobox-item-label{font-size:32px;height:36px;line-height:36px}.edui-combobox-paragraph .edui-combobox-item-1 .edui-combobox-icon{height:25px;margin-bottom:5px}.edui-combobox-paragraph .edui-combobox-item-1.edui-combobox-checked .edui-combobox-icon{background-position:10px 7px}.edui-combobox-paragraph .edui-combobox-item-2 .edui-combobox-item-label{font-size:28px;height:27px;line-height:27px}.edui-combobox-paragraph .edui-combobox-item-2 .edui-combobox-icon{margin-bottom:5px}.edui-combobox-paragraph .edui-combobox-item-2.edui-combobox-checked .edui-combobox-icon{background-position:10px 10px}.edui-combobox-paragraph .edui-combobox-item-3 .edui-combobox-item-label{font-size:24px;height:25px;line-height:25px}.edui-combobox-paragraph .edui-combobox-item-3 .edui-combobox-icon{height:25px;margin-bottom:5px}.edui-combobox-paragraph .edui-combobox-item-3.edui-combobox-checked .edui-combobox-icon{background-position:10px 11px}.edui-combobox-paragraph .edui-combobox-item-4 .edui-combobox-item-label{font-size:18px;height:25px;line-height:25px}.edui-combobox-paragraph .edui-combobox-item-4.edui-combobox-checked .edui-combobox-icon{background-position:10px 6px}.edui-combobox-paragraph .edui-combobox-item-5 .edui-combobox-item-label{font-size:16px}.edui-combobox-paragraph .edui-combobox-item-6 .edui-combobox-item-label{font-size:12px}.edui-modal{position:fixed;_position:absolute;top:10%;left:50%;border:1px solid #acacac;-webkit-box-shadow:2px 2px 5px #d3d6da;box-shadow:2px 2px 5px #d3d6da;background-color:#ffffff;outline:0}.edui-modal-header{padding:5px 10px;border-bottom:1px solid #eee}.edui-modal-header .edui-close{float:right;width:20px;height:20px;margin-top:2px;padding:1px;border:0;background:url("+r+") no-repeat center center;cursor:pointer}.edui-modal-header .edui-close.edui-hover{background-color:#d5e1f2;padding:0;border:1px solid #a3bde3}.edui-modal-header .edui-title{margin:0;line-height:25px;font-size:20px}.edui-modal-body{position:relative;max-height:400px;font-size:12px;overflow-y:auto}.edui-modal-footer{float:right;padding:5px 15px 15px;overflow:hidden}.edui-modal-footer .edui-btn{float:left;height:24px;width:96px;margin:0 10px;background-color:#ffffff;padding:0;border:1px solid #ababab;font-size:12px;line-height:24px;text-align:center;cursor:pointer}.edui-modal-footer .edui-btn.edui-hover{background-color:#d5e1f2;border:1px solid #a3bde3}.edui-modal-backdrop{opacity:0.5;filter:alpha(opacity=50);position:fixed;top:0;right:0;bottom:0;left:0;background-color:#c6c6c6}.edui-modal .edui-modal-tip{color:red;position:absolute;bottom:10px;left:10px;height:30px;line-height:30px;display:none}.edui-dialog-image-body{width:700px;height:400px}.edui-dialog-video-body{width:600px;height:350px}.edui-dialog-gmap-body{width:550px;height:400px}.edui-dialog-map-body{width:580px;height:400px;overflow:hidden}.edui-map-dynamic-label input{width:24px !important}.edui-dialog-map-body td{padding-right:3px !important;vertical-align:middle !important}.edui-dialog-link-body{width:400px;height:200px}.edui-popup{display:none;background:url("+a+") repeat #fff;padding:2px}.edui-popup .edui-popup-body{border:1px solid #bfbfbf;background-color:#fff}.edui-popup .edui-popup-caret{width:21px;height:11px}.edui-popup .edui-popup-caret.up{background:url("+s+") no-repeat 0 0}.edui-popup .edui-popup-caret.down{background:url("+s+") no-repeat 0 0}.edui-tab-nav{margin:0 !important;padding:0 !important;border-bottom:1px solid #ddd;list-style:none !important;height:30px}.edui-tab-nav .edui-tab-item{float:left;margin-bottom:-1px;margin-top:1px;margin-top:0\\9}.edui-tab-nav .edui-tab-item .edui-tab-text{display:block;padding:8px 12px;border:1px solid transparent;color:#0088cc;text-decoration:none;outline:0;_border:1px solid #fff;cursor:pointer}.edui-tab-nav .edui-tab-item .edui-tab-text:FOCUS{outline:none}.edui-tab-nav .edui-tab-item.edui-active .edui-tab-text{border:1px solid #ddd;border-bottom-color:transparent;background-color:#fff;padding:8px 12px;color:#555555;cursor:default}.edui-tab-content .edui-tab-pane{padding:1px;position:relative;display:none;background-color:#fff;clear:both}.edui-tab-content .edui-tab-pane.edui-active{display:block}.edui-btn-toolbar .edui-tooltip{position:absolute;padding:5px 0;display:none;z-index:99999}.edui-tooltip .edui-tooltip-arrow{position:absolute;top:0;_top:-2px;left:50%;width:0;height:0;padding:0;font-size:0;margin-left:-5px;border-color:transparent;border-style:dashed dashed solid dashed;border-bottom-color:#000000;border-width:0 5px 5px;background:transparent}.edui-tooltip .edui-tooltip-inner{padding:6px;color:#ffffff;text-align:center;text-decoration:none;font-size:10px;background-color:#000000;white-space:nowrap;line-height:12px}.edui-splitbutton-color-label{width:16px;height:3px;position:absolute;bottom:2px;left:50%;margin-left:-8px;overflow:hidden;line-height:3px}.edui-popup .edui-colorpicker{margin:10px;font-size:12px}.edui-colorpicker .edui-colorpicker-topbar{height:27px;width:200px;overflow:hidden}.edui-colorpicker .edui-colorpicker-topbar .edui-colorpicker-preview{height:20px;border:1px inset black;margin-left:1px;width:128px;float:left}.edui-colorpicker .edui-colorpicker-topbar .edui-colorpicker-nocolor{float:right;margin-right:1px;font-size:12px;line-height:14px;height:14px;border:1px solid #333;padding:3px 5px;cursor:pointer}.edui-colorpicker table{border-collapse:collapse;border-spacing:2px}.edui-colorpicker tr.edui-colorpicker-firstrow{height:30px}.edui-colorpicker table td{padding:0 2px}.edui-colorpicker table td .edui-colorpicker-colorcell{display:block;text-decoration:none;color:black;width:14px;height:14px;margin:0;cursor:pointer}.edui-toolbar .edui-separator{width:2px;height:20px;padding:1px 2px;display:inline-block;vertical-align:top;*display:inline;*zoom:1;border:none}\n",""])},317:function(t,e,n){t.exports="/img/ok.gif"},318:function(t,e,n){t.exports="/img/close.png"},319:function(t,e,n){t.exports="/img/pop-bg.png"},320:function(t,e,n){t.exports="/img/caret.png"},321:function(t,e){function i(t,e,n){this.input=t,this.imgUrl=null,this.fileList=null,this.asynCallback=null,this.asyn=void 0===n||n,this.callback=void 0!==e&&"function"==typeof e?e:null,this.init()}var n;void 0!==window.createObjectURL?i.prototype.createObjectURL=window.createObjectURL:window.URL&&window.URL.createObjectURL?i.prototype.createObjectURL=window.URL.createObjectURL:void 0!==window.webkitURL&&(i.prototype.createObjectURL=window.webkitURL.createObjectURL),i.prototype.supportPreview=((n=document.createElement("div")).innerHTML='<input type="file"/>',null!=n.firstChild.files&&null!=i.prototype.createObjectURL),i.prototype.init=i.prototype.supportPreview?function(){var t=this;$(this.input).on("change",function(){t.getImgUrl(),t.callback(t.imgUrl)})}:function(){$(this.input).on("change",function(){this.parentNode.submit()}),this.asynCallback=function(t){"SUCCESS"===t.state?this.callback(t.url[0]):alert(t.state)}},i.prototype.pattern=/jpg$|jpeg$|png$|svg$|gif$|bmp$/i,i.prototype.getImgUrl=function(){var t=this.input,e=t.files,n=0,i=e.length,o=[],r=[];if(this.pattern.test(this.input.value)&&(this.imgUrl=this.createObjectURL(e[n]),this.fileList=e[n]),1!=i){for(++n;n<i;n++)this.pattern.test(t.value)&&(o.push(this.createObjectURL(e[n])),r.push(e[n]));this.imgUrl=o,this.fileList=r}},i.prototype.supportPreview||$(document).ready(function(){var t,e;(e=document.createElement("div")).id="preViewHidForm",e.innerHTML='<iframe name="up" style="display:none"></iframe>',document.body.appendChild(e),(t=document.frames.up).src="",t.target="blank",void 0===t.contentWindow?t.document:t.contentWindow.document}),window.ImgPreview=function(t,e,n){return new i(t,e,n)},window.ImgPreview.prototype=i.prototype},322:function(t,$,H){(function(z){var F,U;function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){function o(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function p(){this.raw=[],this.length=0}function e(){return"___"+T++}function i(t,e){var n=t.prototype,i=new Function;i.prototype=e.prototype,t.prototype=new i,o((t.prototype.constructor=t).prototype,n)}function n(t){return j[t]}function v(t){return'"'+t.replace(/\x5C/g,"\\\\").replace(/"/g,'\\"').replace(/\x0A/g,"\\n").replace(/\x09/g,"\\t").replace(/\x0D/g,"\\r")+'"'}function r(t){return t.replace(/[\^\[\]\$\(\)\{\}\?\*\.\+]/g,function(t){return"\\"+t})}function y(t){var n=arguments;return t.replace(/\{([0-9]+)\}/g,function(t,e){return n[e-0+1]})}function x(t,e,n,i,o,r){for(var a=n.length,s=t.split(e),l=0,c=[],d=0,u=s.length;d<u;d++){var p=s[d];if(d){var h=1;for(l++;;){var f=p.indexOf(n);if(f<0){c.push(1<l&&h?e:"",p);break}if(l=i?l-1:0,c.push(0<l&&h?e:"",p.slice(0,f),0<l?n:""),p=p.slice(f+a),(h=0)===l)break}0===l&&(o(c.join("")),r(p),c=[])}else p&&r(p)}0<l&&0<c.length&&(r(e),r(c.join("")))}function w(t,d,u){var p,h=[],e=d.options,f="",m="",g="",b="";return u&&(f="ts(",m=")",g=S,b=N,p=e.defaultFilter),x(t,e.variableOpen,e.variableClose,1,function(t){u&&t.indexOf("|")<0&&p&&(t+="|"+p);var e=t.indexOf("|"),n=(0<e?t.slice(0,e):t).replace(/^\s+/,"").replace(/\s+$/,""),i=0<e?t.slice(e+1):"",o=0===n.indexOf("*"),r=[o?"":f,function(t){return y('gv({0},["{1}"])',v(t=t.replace(/^\s*\*/,"")),t.replace(/\[['"]?([^'"]+)['"]?\]/g,function(t,e){return"."+e}).split(".").join('","'))}(n),o?"":m];if(i)for(var a=(i=w(i,d)).split("|"),s=0,l=a.length;s<l;s++){var c=a[s].match(/^\s*([a-z0-9_-]+)(\((.*)\))?\s*$/i);c&&(r.unshift('fs["'+c[1]+'"]('),c[3]&&r.push(",",c[3]),r.push(")"))}h.push(g,r.join(""),b)},function(t){h.push(g,u?v(t):t,b)}),h.join("")}function h(t,e){this.value=t,this.engine=e}function f(t,e){this.value=t,this.engine=e,this.children=[],this.cloneProps=[]}function m(t,e){var n=t.stack,i=e?n.find(function(t){return t instanceof e}):n.bottom();if(i){for(var o;(o=n.top())!==i;){if(!o.autoClose)throw new Error(o.type+" must be closed manually: "+o.value);o.autoClose(t)}i.close(t)}return i}function a(t,e){var n=t.match(/^\s*([a-z0-9\/\._-]+)\s*(\(\s*master\s*=\s*([a-z0-9\/\._-]+)\s*\))?\s*/i);if(!n)throw new Error("Invalid "+this.type+" syntax: "+t);this.master=n[3],this.name=n[1],f.call(this,t,e),this.blocks={}}function s(t,e){var n=t.match(/^\s*([a-z0-9\/\._-]+)\s*$/i);if(!n)throw new Error("Invalid "+this.type+" syntax: "+t);this.name=n[1],f.call(this,t,e),this.cloneProps=["name"]}function c(t,e){var n=t.match(/^\s*([a-z0-9\/\._-]+)\s*$/i);if(!n)throw new Error("Invalid "+this.type+" syntax: "+t);this.name=n[1],f.call(this,t,e),this.cloneProps=["name","state","blocks","target"],this.blocks={}}function l(t,e){var n=t.match(/^\s*([a-z0-9_]+)\s*=([\s\S]*)$/i);if(!n)throw new Error("Invalid "+this.type+" syntax: "+t);this.name=n[1],this.expr=n[2],f.call(this,t,e),this.cloneProps=["name","expr"]}function d(t,e){var n=t.match(/^\s*([a-z0-9_-]+)\s*(\(([\s\S]*)\))?\s*$/i);if(!n)throw new Error("Invalid "+this.type+" syntax: "+t);this.name=n[1],this.args=n[3],f.call(this,t,e),this.cloneProps=["name","args"]}function u(t,e){var n=t.match(/^\s*([a-z0-9\/\._-]+)\s*(\(([\s\S]*)\))?\s*$/i);if(!n)throw new Error("Invalid "+this.type+" syntax: "+t);this.name=n[1],this.args=n[3],f.call(this,t,e),this.cloneProps=["name","args"]}function g(t,e){var n=new RegExp(y("^\\s*({0}[\\s\\S]+{1})\\s+as\\s+{0}([0-9a-z_]+){1}\\s*(,\\s*{0}([0-9a-z_]+){1})?\\s*$",r(e.options.variableOpen),r(e.options.variableClose)),"i"),i=t.match(n);if(!i)throw new Error("Invalid "+this.type+" syntax: "+t);this.list=i[1],this.item=i[2],this.index=i[4],f.call(this,t,e),this.cloneProps=["list","item","index"]}function b(t,e){f.call(this,t,e)}function k(t,e){b.call(this,t,e)}function C(t,e){f.call(this,t,e)}function q(t,e,n){(t.commandTypes[e]=n).prototype.type=e}function t(t){this.options={commandOpen:"\x3c!--",commandClose:"--\x3e",commandSyntax:/^\s*(\/)?([a-z]*)\s*(?::([\s\S]*))?$/,variableOpen:"${",variableClose:"}",defaultFilter:"html"},this.commandTypes={},q(this,"target",a),q(this,"block",s),q(this,"import",c),q(this,"use",u),q(this,"var",l),q(this,"for",g),q(this,"if",b),q(this,"elif",k),q(this,"else",C),q(this,"filter",d),this.config(t),this.targets={},this.filters=o({},A)}function E(t,o){function r(){var t;if(0<u.length&&(t=u.join(""))){var e=new h(t,o);e.beforeAdd(d),n.top().addChild(e),u=[],o.options.strip&&d.current instanceof f&&(e.value=t.replace(/^[\x20\t\r]*\n/,"")),d.current=e}}var a,s=o.options.commandOpen,l=o.options.commandClose,c=o.options.commandSyntax,n=new p,d={engine:o,targets:[],stack:n,target:null,deps:{}},u=[];x(t,s,l,0,function(t){var e,n=c.exec(t);if(n&&(e=n[2]||"target")&&(a=o.commandTypes[e.toLowerCase()])&&"function"==typeof a){r();var i=d.current;o.options.strip&&i instanceof h&&(i.value=i.value.replace(/\r?\n[\x20\t]*$/,"\n")),n[1]?i=m(d,a):("function"==typeof(i=new a(n[3],o)).init&&i.init(d),i.beforeOpen(d),i.open(d)),d.current=i}else/^\s*\/\//.test(t)||u.push(s,t,l);a=null},function(t){u.push(t)}),r(),m(d);var e=[];for(var i in d.deps)e.push(i);return{targets:d.targets,deps:e}}p.prototype={push:function(t){this.raw[this.length++]=t},pop:function(){if(0<this.length){var t=this.raw[--this.length];return this.raw.length=this.length,t}},top:function(){return this.raw[this.length-1]},bottom:function(){return this.raw[0]},find:function(t){for(var e=this.length;e--;){var n=this.raw[e];if(t(n))return n}}};var T=178245,j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},A={html:function(t){return t.replace(/[&<>"']/g,n)},url:encodeURIComponent,raw:function(t){return t}},O='var r="";',S="r+=",N=";",_="return r;",M="undefined"!=typeof navigator&&navigator.userAgent.match(/msie\s*([0-9]+)/i);M&&M[1]-0<8&&(O="var r=[],ri=0;",S="r[ri++]=",_='return r.join("");'),h.prototype={getRendererBody:function(){var t=this.value,e=this.engine.options;return!t||e.strip&&/^\s*$/.test(t)?"":w(t,this.engine,1)},clone:function(){return this}},f.prototype={addChild:function(t){this.children.push(t)},open:function(t){var e=t.stack.top();e&&e.addChild(this),t.stack.push(this)},close:function(t){t.stack.top()===this&&t.stack.pop()},getRendererBody:function(){for(var t=[],e=this.children,n=0;n<e.length;n++)t.push(e[n].getRendererBody());return t.join("")},clone:function(){for(var t=new this.constructor(this.value,this.engine),e=0,n=this.children.length;e<n;e++)t.addChild(this.children[e].clone());for(e=0,n=this.cloneProps.length;e<n;e++){var i=this.cloneProps[e];t[i]=this[i]}return t}};var L='data=data||{};var v={},fs=engine.filters,hg=typeof data.get=="function",gv=function(n,ps){var p=ps[0],d=v[p];if(d==null){if(hg){return data.get(n);}d=data[p];}for(var i=1,l=ps.length;i<l;i++)if(d!=null)d = d[ps[i]];return d;},ts=function(s){if(typeof s==="string"){return s;}if(s==null){s="";}return ""+s;};';i(a,f),i(s,f),i(c,f),i(l,f),i(d,f),i(u,f),i(g,f),i(b,f),i(k,b),i(C,b),a.prototype.init=function(t){this.master&&(t.deps[this.master]=!0)},u.prototype.init=c.prototype.init=function(t){t.deps[this.name]=!0};var D=1,I=2,R=3,Q=4;c.prototype.applyMaster=a.prototype.applyMaster=function(t){if(this.state>=R)return 1;var a=this.blocks,e=this.engine.targets[t];if(e){if(e.applyMaster(e.master))return this.children=e.clone().children,function t(e){var n=e.children;if(n instanceof Array)for(var i=0,o=n.length;i<o;i++){var r=n[i];r instanceof s&&a[r.name]&&(r=n[i]=a[r.name]),t(r)}}(this),this.state=R,1}else if("error"===this.engine.options.missTarget)throw new Error("[ETPL_MISS_TARGET]"+t+", when extended by "+(this.target?this.target.name:this.name))},a.prototype.isReady=function(){if(this.state>=Q)return 1;var a=this.engine,s=this.name,l=1;return this.applyMaster(this.master)?(function t(e){for(var n=0,i=e.children.length;n<i;n++){var o=e.children[n];if(o instanceof c){var r=a.targets[o.name];if(!r&&"error"===a.options.missTarget)throw new Error("[ETPL_MISS_TARGET]"+o.name+", when imported by "+s);l=l&&r&&r.isReady(a)}else o instanceof f&&t(o)}}(this),l&&(this.state=Q),l):void 0},a.prototype.getRenderer=function(){if(this.renderer)return this.renderer;if(this.isReady()){var e=new Function("data","engine",[L,O,this.getRendererBody(),_].join("\n")),n=this.engine;return this.renderer=function(t){return e(t,n)},this.renderer}return null},a.prototype.open=function(t){m(t),f.prototype.open.call(this,t),this.state=D,function(t,e){e.target=t;var n=e.engine,i=t.name;if(n.targets[i])switch(n.options.namingConflict){case"override":n.targets[i]=t,e.targets.push(i);case"ignore":break;default:throw new Error("[ETPL_TARGET_EXISTS]"+i)}else n.targets[i]=t,e.targets.push(i)}(this,t)},l.prototype.open=u.prototype.open=function(t){t.stack.top().addChild(this)},s.prototype.open=function(t){f.prototype.open.call(this,t),t.stack.find(function(t){return t.blocks}).blocks[this.name]=this},k.prototype.open=function(t){(new C).open(t),m(t,b).addChild(this),t.stack.push(this)},C.prototype.open=function(t){m(t,b).addChild(this),t.stack.push(this)},c.prototype.open=function(t){this.parent=t.stack.top(),this.target=t.target,f.prototype.open.call(this,t),this.state=D},u.prototype.close=l.prototype.close=function(){},c.prototype.close=function(t){f.prototype.close.call(this,t),this.state=I},a.prototype.close=function(t){f.prototype.close.call(this,t),this.state=this.master?I:R,t.target=null},c.prototype.autoClose=function(t){var e=this.parent.children;for(var n in e.push.apply(e,this.children),this.children.length=0,this.blocks)this.target.blocks[n]=this.blocks[n];this.blocks={},this.close(t)},f.prototype.beforeOpen=h.prototype.beforeAdd=function(t){t.stack.bottom()||new a(e(),t.engine).open(t)},a.prototype.beforeOpen=function(){},c.prototype.getRendererBody=function(){return this.applyMaster(this.name),f.prototype.getRendererBody.call(this)},u.prototype.getRendererBody=function(){return y("{0}engine.render({2},{{3}}){1}",S,N,v(this.name),w(this.args,this.engine).replace(/(^|,)\s*([a-z0-9_]+)\s*=/gi,function(t,e,n){return(e||"")+v(n)+":"}))},l.prototype.getRendererBody=function(){return this.expr?y("v[{0}]={1};",v(this.name),w(this.expr,this.engine)):""},b.prototype.getRendererBody=function(){return y("if({0}){{1}}",w(this.value,this.engine),f.prototype.getRendererBody.call(this))},C.prototype.getRendererBody=function(){return y("}else{{0}",f.prototype.getRendererBody.call(this))},g.prototype.getRendererBody=function(){return y('var {0}={1};if({0} instanceof Array)for (var {4}=0,{5}={0}.length;{4}<{5};{4}++){v[{2}]={4};v[{3}]={0}[{4}];{6}}else if(typeof {0}==="object")for(var {4} in {0}){v[{2}]={4};v[{3}]={0}[{4}];{6}}',e(),w(this.list,this.engine),v(this.index||e()),v(this.item),e(),e(),f.prototype.getRendererBody.call(this))},d.prototype.getRendererBody=function(){var t=this.args;return y("{2}fs[{5}]((function(){{0}{4}{1}})(){6}){3}",O,_,S,N,f.prototype.getRendererBody.call(this),v(this.name),t?","+w(t,this.engine):"")},t.prototype.config=function(t){o(this.options,t)},t.prototype.compile=t.prototype.parse=function(t){var e=new Function('return ""');if(t){var n=E(t,this).targets;n.length&&(e=this.targets[n[0]].getRenderer())}return e},t.prototype.getRenderer=function(t){var e=this.targets[t];return e?e.getRenderer():void 0},t.prototype.render=function(t,e){var n=this.getRenderer(t);return n?n(e):""},t.prototype.addCommand=function(t,e){var n=e;"function"!=typeof n&&((n=function(t,e){f.call(this,t,e)}).prototype=e),i(n,f),q(this,t,n)},t.prototype.addFilter=function(t,e){"function"==typeof e&&(this.filters[t]=e)};var B=new t;window.etpl={},B.Engine=t,B.version="3.2.0",B.Command=f,B.util={inherits:i,stringFormat:y,stringLiteralize:v,compileVariable:w,parseSource:E},"object"==P($)&&"object"==P(z)?$=z.exports=B:void 0===(U="function"==typeof(F=B)?F.call($,H,$,z):F)||(z.exports=U),etpl=B}()}).call(this,H(323)(t))},324:function(t,e){var n;etpl.config({commandOpen:"<%",commandClose:"%>"}),n=window.UMEDITOR_HOME_URL||function(){function r(){this.documentURL=self.document.URL||self.location.href,this.separator="/",this.separatorPattern=/\\|\//g,this.currentDir="./",this.currentDirPattern=/^[.]\/]/,this.path=this.documentURL,this.stack=[],this.push(this.documentURL)}r.isParentPath=function(t){return".."===t},r.hasProtocol=function(t){return!!r.getProtocol(t)},r.getProtocol=function(t){var e=/^[^:]*:\/*/.exec(t);return e?e[0]:null},r.prototype={push:function(t){return this.path=t,function(){var t=r.getProtocol(this.path||"");t?(this.protocol=t,this.localSeparator=/\\|\//.exec(this.path.replace(t,""))[0],this.stack=[]):(t=/\\|\//.exec(this.path))&&(this.localSeparator=t[0])}.call(this),function(){var t=this.path.replace(this.currentDirPattern,"");r.hasProtocol(this.path)&&(t=t.replace(this.protocol,""));(t=t.split(this.localSeparator)).length=t.length-1;for(var e,n=0,i=t.length,o=this.stack;n<i;n++)(e=t[n])&&(r.isParentPath(e)?o.pop():o.push(e))}.call(this),this},getPath:function(){return this+""},toString:function(){return this.protocol+this.stack.concat([""]).join(this.separator)}};var t=document.getElementsByTagName("script");return t=t[t.length-1].src,(new r).push(t)+""}(),window.UMEDITOR_CONFIG={UMEDITOR_HOME_URL:"/plugins/umeditor/",allowSyn:!0,imageUrl:n+"php/imageUp.php",imagePath:n+"php/",imageFieldName:"upfile",toolbar:["source | undo redo | bold italic underline strikethrough | superscript subscript | forecolor backcolor | removeformat |","insertorderedlist insertunorderedlist | selectall cleardoc paragraph | fontfamily fontsize","| justifyleft justifycenter justifyright justifyjustify |","link unlink | emotion image video  | map","| horizontal print preview fullscreen","drafts","formula","| code"],paragraph:{p:"",h1:"",h2:"",h3:"",h4:"",h5:"",h6:""},filterRules:{},xssFilterRules:!0,inputXssFilter:!0,outputXssFilter:!0,whiteList:{a:["target","href","title","style","class","id"],abbr:["title","style","class","id"],address:["style","class","id"],area:["shape","coords","href","alt","style","class","id"],article:["style","class","id"],aside:["style","class","id"],audio:["autoplay","controls","loop","preload","src","style","class","id"],b:["style","class","id"],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite","style","class","id"],br:[],caption:["style","class","id"],center:[],cite:[],code:["style","class","id"],col:["align","valign","span","width","style","class","id"],colgroup:["align","valign","span","width","style","class","id"],dd:["style","class","id"],del:["datetime","style","class","id"],details:["open","style","class","id"],div:["style","class","id"],dl:["style","class","id"],dt:["style","class","id"],em:["style","class","id"],embed:["style","class","id","_url","type","pluginspage","src","width","height","wmode","play","loop","menu","allowscriptaccess","allowfullscreen"],font:["color","size","face","style","class","id"],footer:["style","class","id"],h1:["style","class","id"],h2:["style","class","id"],h3:["style","class","id"],h4:["style","class","id"],h5:["style","class","id"],h6:["style","class","id"],header:["style","class","id"],hr:["style","class","id"],i:["style","class","id"],iframe:["style","class","id","src","_src","frameborder","data-latex","srcdoc"],img:["src","alt","title","width","height","style","class","id","_url"],ins:["datetime","style","class","id"],li:["style","class","id"],mark:[],nav:[],ol:["style","class","id"],p:["style","class","id"],pre:["style","class","id"],s:[],section:[],small:["style","class","id"],span:["style","class","id"],sub:["style","class","id"],sup:["style","class","id"],strong:["style","class","id"],table:["width","border","align","valign","style","class","id"],tbody:["align","valign","style","class","id"],td:["width","rowspan","colspan","align","valign","style","class","id"],tfoot:["align","valign","style","class","id"],th:["width","rowspan","colspan","align","valign","style","class","id"],thead:["align","valign","style","class","id"],tr:["rowspan","align","valign","style","class","id"],tt:["style","class","id"],u:[],ul:["style","class","id"],svg:["style","class","id","width","height","xmlns","fill","viewBox"],video:["autoplay","controls","loop","preload","src","height","width","style","class","id"]}}},325:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global){var _dialogs_formula_formula_template__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(63),_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(92),raw_loader_dialogs_formula_mathquill_min_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(127);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var $jscomp={scope:{},findInternal:function(t,e,n){t instanceof String&&(t=String(t));for(var i=t.length,o=0;o<i;o++){var r=t[o];if(e.call(n,r,o,t))return{i:o,v:r}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},$jscomp.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:void 0!==global&&null!=global?global:t},$jscomp.global=$jscomp.getGlobal(void 0),$jscomp.polyfill=function(t,e,n,i){if(e){for(n=$jscomp.global,t=t.split("."),i=0;i<t.length-1;i++){var o=t[i];o in n||(n[o]={}),n=n[o]}(e=e(i=n[t=t[t.length-1]]))!=i&&null!=e&&$jscomp.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("Array.prototype.find",function(t){return t||function(t,e){return $jscomp.findInternal(this,t,e).v}},"es6-impl","es3"),function(g){function B(t,e,n){var i;return e=e.toLowerCase(),(i=t.__allListeners||n&&(t.__allListeners={}))&&(i[e]||n&&(i[e]=[]))}function w(t,e,n,i,o,r){var a;for(i=(i=i&&t[e])||t[n];!i&&(a=(a||t).parentNode);){if("BODY"==a.tagName||r&&!r(a))return null;i=a[n]}return i&&o&&!o(i)?w(i,e,n,!1,o):i}UMEDITOR_CONFIG=window.UMEDITOR_CONFIG||{},window.UM={plugins:{},commands:{},I18N:{},version:"1.2.2"};var x=UM.dom={},m=UM.browser=function(){var t=navigator.userAgent.toLowerCase(),e=window.opera,n={ie:/(msie\s|trident.*rv:)([\w.]+)/.test(t),opera:!!e&&e.version,webkit:-1<t.indexOf(" applewebkit/"),mac:-1<t.indexOf("macintosh"),quirks:"BackCompat"==document.compatMode};n.gecko="Gecko"==navigator.product&&!n.webkit&&!n.opera&&!n.ie;var i=0;if(n.ie){i=t.match(/(?:msie\s([\w.]+))/);var o=t.match(/(?:trident.*rv:([\w.]+))/);i=i&&o&&i[1]&&o[1]?Math.max(1*i[1],1*o[1]):i&&i[1]?1*i[1]:o&&o[1]?1*o[1]:0;n.ie11Compat=11==document.documentMode,n.ie9Compat=9==document.documentMode,n.ie8=!!document.documentMode,n.ie8Compat=8==document.documentMode,n.ie7Compat=7==i&&!document.documentMode||7==document.documentMode,n.ie6Compat=i<7||n.quirks,n.ie9above=8<i,n.ie9below=i<9}return n.gecko&&(o=t.match(/rv:([\d\.]+)/))&&(i=1e4*(o=o[1].split("."))[0]+100*(o[1]||0)+1*(o[2]||0)),/chrome\/(\d+\.\d)/i.test(t)&&(n.chrome=+RegExp.$1),/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(t)&&!/chrome/i.test(t)&&(n.safari=+(RegExp.$1||RegExp.$2)),n.opera&&(i=parseFloat(e.version())),n.webkit&&(i=parseFloat(t.match(/ applewebkit\/(\d+)/)[1])),n.version=i,n.isCompatible=!n.mobile&&(n.ie&&6<=i||n.gecko&&10801<=i||n.opera&&9.5<=i||n.air&&1<=i||n.webkit&&522<=i||!1),n}(),E=m.ie,n=UM.utils={each:function(t,e,n){if(null!=t)if(t.length===+t.length){for(var i=0,o=t.length;i<o;i++)if(!1===e.call(n,t[i],i,t))return!1}else for(i in t)if(t.hasOwnProperty(i)&&!1===e.call(n,t[i],i,t))return!1},makeInstance:function(t){var e=new Function;return e.prototype=t,t=new e,e.prototype=null,t},extend:function(t,e,n){if(e)for(var i in e)n&&t.hasOwnProperty(i)||(t[i]=e[i]);return t},extend2:function(t){for(var e=arguments,n=1;n<e.length;n++){var i,o=e[n];for(i in o)t.hasOwnProperty(i)||(t[i]=o[i])}return t},inherits:function(t,e){var i=t.prototype,o=n.makeInstance(e.prototype);return n.extend(o,i,!0),(t.prototype=o).constructor=t},bind:function(t,e){return function(){return t.apply(e,arguments)}},defer:function(t,e,n){var i;return function(){n&&clearTimeout(i),i=setTimeout(t,e)}},indexOf:function(t,n,i){var o=-1;return i=this.isNumber(i)?i:0,this.each(t,function(t,e){if(i<=e&&t===n)return o=e,!1}),o},removeItem:function(t,e){for(var n=0,i=t.length;n<i;n++)t[n]===e&&(t.splice(n,1),n--)},trim:function(t){return t.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")},listToMap:function(t){if(!t)return{};t=n.isArray(t)?t:t.split(",");for(var e,i=0,o={};e=t[i++];)o[e.toUpperCase()]=o[e]=1;return o},unhtml:function(t,e){return t?t.replace(e||/[&<">'](?:(amp|lt|quot|gt|#39|nbsp);)?/g,function(t,e){return e?t:{"<":"&lt;","&":"&amp;",'"':"&quot;",">":"&gt;","'":"&#39;"}[t]}):""},html:function(t){return t?t.replace(/&((g|l|quo)t|amp|#39);/g,function(t){return{"&lt;":"<","&amp;":"&","&quot;":'"',"&gt;":">","&#39;":"'"}[t]}):""},cssStyleToDomStyle:(wi=document.createElement("div").style,xi={float:null!=wi.cssFloat?"cssFloat":null!=wi.styleFloat?"styleFloat":"float"},function(t){return xi[t]||(xi[t]=t.toLowerCase().replace(/-./g,function(t){return t.charAt(1).toUpperCase()}))}),loadFile:function(t,e,n){return n()},isEmptyObject:function(t){if(null==t)return!0;if(this.isArray(t)||this.isString(t))return 0===t.length;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},fixColor:function(t,e){if(/color/i.test(t)&&/rgba?/.test(e)){var n=e.split(",");if(3<n.length)return"";e="#";for(var i,o=0;i=n[o++];)e+=1==(i=parseInt(i.replace(/[^\d]/gi,""),10).toString(16)).length?"0"+i:i;e=e.toUpperCase()}return e},clone:function(t,e){var i;for(var o in e=e||{},t)t.hasOwnProperty(o)&&("object"==_typeof(i=t[o])?(e[o]=n.isArray(i)?[]:{},n.clone(t[o],e[o])):e[o]=i);return e},transUnitToPx:function(i){if(!/(pt|cm)/.test(i))return i;var o;switch(i.replace(/([\d.]+)(\w+)/,function(t,e,n){i=e,o=n}),o){case"cm":i=25*parseFloat(i);break;case"pt":i=Math.round(96*parseFloat(i)/72)}return i+(i?"px":"")},cssRule:m.ie&&11!=m.version?function(t,e,n){var i,o;if((i=(n=n||document).indexList?n.indexList:n.indexList={})[t])o=n.styleSheets[i[t]];else{if(void 0===e)return"";o=n.createStyleSheet("",n=n.styleSheets.length),i[t]=n}if(void 0===e)return o.cssText;o.cssText=e||""}:function(t,e,n){var i,o=(n=n||document).getElementsByTagName("head")[0];if(!(i=n.getElementById(t))){if(void 0===e)return"";(i=n.createElement("style")).id=t,o.appendChild(i)}if(void 0===e)return i.innerHTML;""!==e?i.innerHTML=e:o.removeChild(i)},render:function(t,e){return etpl.compile(t)(e)}},wi,xi;n.each("String Function Array Number RegExp Object".split(" "),function(e){UM.utils["is"+e]=function(t){return Object.prototype.toString.apply(t)=="[object "+e+"]"}});var I=UM.EventBase=function(){};I.prototype={addListener:function(t,e){t=n.trim(t).split(" ");for(var i,o=0;i=t[o++];)B(this,i,!0).push(e)},removeListener:function(t,e){t=n.trim(t).split(" ");for(var i,o=0;i=t[o++];)n.removeItem(B(this,i)||[],e)},fireEvent:function(t){for(var e,i=t,o=(i=n.trim(i).split(" "),0);e=i[o++];){var r,a,s,l=B(this,e);if(l)for(s=l.length;s--;)if(l[s]){if(!0===(a=l[s].apply(this,arguments)))return a;void 0!==a&&(r=a)}(a=this["on"+e.toLowerCase()])&&(r=a.apply(this,arguments))}return r}};var p=x.dtd=(Oj=n.extend2,Pj=Nj({isindex:1,fieldset:1}),Qj=Nj({input:1,button:1,select:1,textarea:1,label:1}),Rj=Oj(Nj({a:1}),Qj),Sj=Oj({iframe:1},Rj),Tj=Nj({hr:1,ul:1,menu:1,div:1,blockquote:1,noscript:1,table:1,center:1,address:1,dir:1,pre:1,h5:1,dl:1,h4:1,noframes:1,h6:1,ol:1,h1:1,h3:1,h2:1}),Uj=Nj({ins:1,del:1,script:1,style:1}),Vj=Oj(Nj({b:1,acronym:1,bdo:1,var:1,"#":1,abbr:1,code:1,br:1,i:1,cite:1,kbd:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,dfn:1,span:1}),Uj),Wj=Oj(Nj({sub:1,img:1,embed:1,object:1,sup:1,basefont:1,map:1,applet:1,font:1,big:1,small:1}),Vj),Xj=Oj(Nj({p:1}),Wj),Qj=Oj(Nj({iframe:1}),Wj,Qj),Wj=Nj({img:1,embed:1,noscript:1,br:1,kbd:1,center:1,button:1,basefont:1,h5:1,h4:1,samp:1,h6:1,ol:1,h1:1,h3:1,h2:1,form:1,font:1,"#":1,select:1,menu:1,ins:1,abbr:1,label:1,code:1,table:1,script:1,cite:1,input:1,iframe:1,strong:1,textarea:1,noframes:1,big:1,small:1,span:1,hr:1,sub:1,bdo:1,var:1,div:1,object:1,sup:1,strike:1,dir:1,map:1,dl:1,applet:1,del:1,isindex:1,fieldset:1,ul:1,b:1,acronym:1,a:1,blockquote:1,i:1,u:1,s:1,tt:1,address:1,q:1,pre:1,p:1,em:1,dfn:1}),Yj=Oj(Nj({a:0}),Qj),Zj=Nj({tr:1}),$j=Nj({"#":1}),_j=Oj(Nj({param:1}),Wj),ak=Oj(Nj({form:1}),Pj,Sj,Tj,Xj),bk=Nj({li:1,ol:1,ul:1}),ck=Nj({style:1,script:1}),dk=Nj({base:1,link:1,meta:1,title:1}),ck=Oj(dk,ck),ek=Nj({head:1,body:1}),fk=Nj({html:1}),gk=Nj({address:1,blockquote:1,center:1,dir:1,div:1,dl:1,fieldset:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,isindex:1,menu:1,noframes:1,ol:1,p:1,pre:1,table:1,ul:1}),hk=Nj({area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1}),Nj({$nonBodyContent:Oj(fk,ek,dk),$block:gk,$inline:Yj,$inlineWithA:Oj(Nj({a:1}),Yj),$body:Oj(Nj({script:1,style:1}),gk),$cdata:Nj({script:1,style:1}),$empty:hk,$nonChild:Nj({iframe:1,textarea:1}),$listItem:Nj({dd:1,dt:1,li:1}),$list:Nj({ul:1,ol:1,dl:1}),$isNotEmpty:Nj({table:1,ul:1,ol:1,dl:1,iframe:1,area:1,base:1,col:1,hr:1,img:1,embed:1,input:1,link:1,meta:1,param:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1}),$removeEmpty:Nj({a:1,abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,var:1}),$removeEmptyBlock:Nj({p:1,div:1}),$tableContent:Nj({caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1,table:1}),$notTransContent:Nj({pre:1,script:1,style:1,textarea:1}),html:ek,head:ck,style:$j,script:$j,body:ak,base:{},link:{},meta:{},title:$j,col:{},tr:Nj({td:1,th:1}),img:{},embed:{},colgroup:Nj({thead:1,col:1,tbody:1,tr:1,tfoot:1}),noscript:ak,td:ak,br:{},th:ak,center:ak,kbd:Yj,button:Oj(Xj,Tj),basefont:{},h5:Yj,h4:Yj,samp:Yj,h6:Yj,ol:bk,h1:Yj,h3:Yj,option:$j,h2:Yj,form:Oj(Pj,Sj,Tj,Xj),select:Nj({optgroup:1,option:1}),font:Yj,ins:Yj,menu:bk,abbr:Yj,label:Yj,table:Nj({thead:1,col:1,tbody:1,tr:1,colgroup:1,caption:1,tfoot:1}),code:Yj,tfoot:Zj,cite:Yj,li:ak,input:{},iframe:ak,strong:Yj,textarea:$j,noframes:ak,big:Yj,small:Yj,span:Nj({"#":1,br:1,b:1,strong:1,u:1,i:1,em:1,sub:1,sup:1,strike:1,span:1}),hr:Yj,dt:Yj,sub:Yj,optgroup:Nj({option:1}),param:{},bdo:Yj,var:Yj,div:ak,object:_j,sup:Yj,dd:ak,strike:Yj,area:{},dir:bk,map:Oj(Nj({area:1,form:1,p:1}),Pj,Uj,Tj),applet:_j,dl:Nj({dt:1,dd:1}),del:Yj,isindex:{},fieldset:Oj(Nj({legend:1}),Wj),thead:Zj,ul:bk,acronym:Yj,b:Yj,a:Oj(Nj({a:1}),Qj),blockquote:Oj(Nj({td:1,tr:1,tbody:1,li:1}),ak),caption:Yj,i:Yj,u:Yj,tbody:Zj,s:Yj,address:Oj(Sj,Xj),tt:Yj,legend:Yj,q:Yj,pre:Oj(Vj,Rj),p:Oj(Nj({a:1}),Yj),em:Yj,dfn:Yj})),J=E&&m.version<9?{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder"}:{tabindex:"tabIndex",readonly:"readOnly"},K=n.listToMap("-webkit-box -moz-box block list-item table table-row-group table-header-group table-footer-group table-row table-column-group table-column table-cell table-caption".split(" ")),k=x.domUtils={NODE_ELEMENT:1,NODE_DOCUMENT:9,NODE_TEXT:3,NODE_COMMENT:8,NODE_DOCUMENT_FRAGMENT:11,POSITION_IDENTICAL:0,POSITION_DISCONNECTED:1,POSITION_FOLLOWING:2,POSITION_PRECEDING:4,POSITION_IS_CONTAINED:8,POSITION_CONTAINS:16,fillChar:E&&"6"==m.version?"\ufeff":"​",keys:{8:1,46:1,16:1,17:1,18:1,37:1,38:1,39:1,40:1,13:1},breakParent:function(t,e){var n,i,o,r=t,a=t;do{for(r=r.parentNode,o=i?((n=r.cloneNode(!1)).appendChild(i),i=n,(n=r.cloneNode(!1)).appendChild(o),n):(i=r.cloneNode(!1)).cloneNode(!1);n=a.previousSibling;)i.insertBefore(n,i.firstChild);for(;n=a.nextSibling;)o.appendChild(n);a=r}while(e!==r);return(n=e.parentNode).insertBefore(i,e),n.insertBefore(o,e),n.insertBefore(t,o),k.remove(e),t},trimWhiteTextNode:function(n){function t(t){for(var e;(e=n[t])&&3==e.nodeType&&k.isWhitespace(e);)n.removeChild(e)}t("firstChild"),t("lastChild")},getPosition:function(t,e){if(t===e)return 0;var n,i=[t],o=[e];for(n=t;n=n.parentNode;){if(n===e)return 10;i.push(n)}for(n=e;n=n.parentNode;){if(n===t)return 20;o.push(n)}if(i.reverse(),o.reverse(),i[0]!==o[0])return 1;for(n=-1;i[++n]===o[n];);for(t=i[n],e=o[n];t=t.nextSibling;)if(t===e)return 4;return 2},getNodeIndex:function(t,e){for(var n=t,i=0;n=n.previousSibling;)e&&3==n.nodeType?n.nodeType!=n.nextSibling.nodeType&&i++:i++;return i},inDoc:function(t,e){return 10==k.getPosition(t,e)},findParent:function(t,e,n){if(t&&!k.isBody(t))for(t=n?t:t.parentNode;t;){if(!e||e(t)||k.isBody(t))return e&&!e(t)&&k.isBody(t)?null:t;t=t.parentNode}return null},findParentByTagName:function(t,e,i,o){return e=n.listToMap(n.isArray(e)?e:[e]),k.findParent(t,function(t){return e[t.tagName]&&!(o&&o(t))},i)},findParents:function(t,e,n,i){for(e=e&&(n&&n(t)||!n)?[t]:[];t=k.findParent(t,n);)e.push(t);return i?e:e.reverse()},insertAfter:function(t,e){return t.parentNode.insertBefore(e,t.nextSibling)},remove:function(t,e){var n,i=t.parentNode;if(i){if(e&&t.hasChildNodes())for(;n=t.firstChild;)i.insertBefore(n,t);i.removeChild(t)}return t},getNextDomNode:function(t,e,n,i){return w(t,"firstChild","nextSibling",e,n,i)},getPreDomNode:function(t,e,n,i){return w(t,"lastChild","previousSibling",e,n,i)},isBookmarkNode:function(t){return 1==t.nodeType&&t.id&&/^_baidu_bookmark_/i.test(t.id)},getWindow:function(t){return(t=t.ownerDocument||t).defaultView||t.parentWindow},getCommonAncestor:function(t,e){if(t===e)return t;for(var n=[t],i=[e],o=t,r=-1;o=o.parentNode;){if(o===e)return o;n.push(o)}for(o=e;o=o.parentNode;){if(o===t)return o;i.push(o)}for(n.reverse(),i.reverse();n[++r]===i[r];);return 0==r?null:n[r-1]},clearEmptySibling:function(t,e,n){function i(t,e){for(var n;t&&!k.isBookmarkNode(t)&&(k.isEmptyInlineElement(t)||!new RegExp("[^\t\n\r"+k.fillChar+"]").test(t.nodeValue));)n=t[e],k.remove(t),t=n}e||i(t.nextSibling,"nextSibling"),n||i(t.previousSibling,"previousSibling")},split:function(t,e){var n=t.ownerDocument;if(m.ie&&e==t.nodeValue.length){var i=n.createTextNode("");return k.insertAfter(t,i)}return i=t.splitText(e),m.ie8&&(n=n.createTextNode(""),k.insertAfter(i,n),k.remove(n)),i},isWhitespace:function(t){return!new RegExp("[^ \t\n\r"+k.fillChar+"]").test(t.nodeValue)},getXY:function(t){for(var e=0,n=0;t.offsetParent;)n+=t.offsetTop,e+=t.offsetLeft,t=t.offsetParent;return{x:e,y:n}},isEmptyInlineElement:function(t){if(1!=t.nodeType||!p.$removeEmpty[t.tagName])return 0;for(t=t.firstChild;t;){if(k.isBookmarkNode(t)||1==t.nodeType&&!k.isEmptyInlineElement(t)||3==t.nodeType&&!k.isWhitespace(t))return 0;t=t.nextSibling}return 1},isBlockElm:function(t){return 1==t.nodeType&&(p.$block[t.tagName]||K[k.getComputedStyle(t,"display")])&&!p.$nonChild[t.tagName]},getElementsByTagName:function(t,e,i){if(i&&n.isString(i)){var r=i;i=function(i){var o=!1;return g.each(n.trim(r).replace(/[ ]{2,}/g," ").split(" "),function(t,e){if(g(i).hasClass(e))return!(o=!0)}),o}}e=n.trim(e).replace(/[ ]{2,}/g," ").split(" ");for(var o,a=[],s=0;o=e[s++];){o=t.getElementsByTagName(o);for(var l,c=0;l=o[c++];)i&&!i(l)||a.push(l)}return a},unSelectable:E&&m.ie9below||m.opera?function(t){t.onselectstart=function(){return!1},t.onclick=t.onkeyup=t.onkeydown=function(){return!1},t.unselectable="on",t.setAttribute("unselectable","on");for(var e,n=0;e=t.all[n++];)switch(e.tagName.toLowerCase()){case"iframe":case"textarea":case"input":case"select":break;default:e.unselectable="on",t.setAttribute("unselectable","on")}}:function(t){t.style.MozUserSelect=t.style.webkitUserSelect=t.style.msUserSelect=t.style.KhtmlUserSelect="none"},removeAttributes:function(t,e){e=n.isArray(e)?e:n.trim(e).replace(/[ ]{2,}/g," ").split(" ");for(var i,o=0;i=e[o++];){switch(i=J[i]||i){case"className":t[i]="";break;case"style":t.style.cssText="",t.getAttributeNode("style")&&!m.ie&&t.removeAttributeNode(t.getAttributeNode("style"))}t.removeAttribute(i)}},createElement:function(t,e,n){return k.setAttributes(t.createElement(e),n)},setAttributes:function(t,e){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];switch(n){case"class":t.className=i;break;case"style":t.style.cssText=t.style.cssText+";"+i;break;case"innerHTML":t[n]=i;break;case"value":t.value=i;break;default:t.setAttribute(J[n]||n,i)}}return t},getComputedStyle:function(t,e){return n.transUnitToPx(n.fixColor(e,g(t).css(e)))},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},removeStyle:function(t,e){m.ie?("color"==e&&(e="(^|;)"+e),t.style.cssText=t.style.cssText.replace(new RegExp(e+"[^:]*:[^;]+;?","ig"),"")):t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(n.cssStyleToDomStyle(e)),t.style.cssText||k.removeAttributes(t,["style"])},getStyle:function(t,e){var i=t.style[n.cssStyleToDomStyle(e)];return n.fixColor(e,i)},setStyle:function(t,e,i){t.style[n.cssStyleToDomStyle(e)]=i,n.trim(t.style.cssText)||this.removeAttributes(t,"style")},removeDirtyAttr:function(t){for(var e,n=0,i=t.getElementsByTagName("*");e=i[n++];)e.removeAttribute("_moz_dirty");t.removeAttribute("_moz_dirty")},getChildCount:function(t,e){var n=0,i=t.firstChild;for(e=e||function(){return 1};i;)e(i)&&n++,i=i.nextSibling;return n},isEmptyNode:function(t){return!t.firstChild||0==k.getChildCount(t,function(t){return!k.isBr(t)&&!k.isBookmarkNode(t)&&!k.isWhitespace(t)})},isBr:function(t){return 1==t.nodeType&&"BR"==t.tagName},isEmptyBlock:function(t,e){if(1!=t.nodeType)return 0;if(e=e||new RegExp("[ \t\r\n"+k.fillChar+"]","g"),0<t[m.ie?"innerText":"textContent"].replace(e,"").length)return 0;for(var n in p.$isNotEmpty)if(t.getElementsByTagName(n).length)return 0;return 1},isCustomeNode:function(t){return 1==t.nodeType&&t.getAttribute("_ue_custom_node_")},fillNode:function(t,e){var n=m.ie?t.createTextNode(k.fillChar):t.createElement("br");e.innerHTML="",e.appendChild(n)},isBoundaryNode:function(t,e){for(;!k.isBody(t);)if(t!==(t=t.parentNode)[e])return!1;return!0},isFillChar:function(t,e){return 3==t.nodeType&&!t.nodeValue.replace(new RegExp((e?"^":"")+k.fillChar),"").length},isBody:function(t){return g(t).hasClass("edui-body-container")}},H=new RegExp(k.fillChar,"g"),Oj,Pj,Qj,Rj,Sj,Tj,Uj,Vj,Wj,Xj,Yj,Zj,$j,_j,ak,bk,ck,dk,ek,fk,gk,hk,Fn,Dn,En,Gn,Rr,Qr,Sr,Vv,Wv,Xv,QC_textarea,SM,TM,VM,WM,XM,YM,ZM,vO,wO,xO,yO,zO,AO;function Nj(t){for(var e in t)t[e.toUpperCase()]=t[e];return t}function An(t,e,n,i){return 1==e.nodeType&&(p.$empty[e.tagName]||p.$nonChild[e.tagName])&&(n=k.getNodeIndex(e)+(t?0:1),e=e.parentNode),t?(i.startContainer=e,i.startOffset=n,i.endContainer||i.collapse(!0)):(i.endContainer=e,i.endOffset=n,i.startContainer||i.collapse(!1)),i.collapsed=i.startContainer&&i.endContainer&&i.startContainer===i.endContainer&&i.startOffset==i.endOffset,i}function Bn(t,e){try{if(Fn&&k.inDoc(Fn,t))if(Fn.nodeValue.replace(H,"").length)Fn.nodeValue=Fn.nodeValue.replace(H,"");else{var n=Fn.parentNode;for(k.remove(Fn);n&&k.isEmptyInlineElement(n)&&(m.safari?!(k.getPosition(n,e)&k.POSITION_CONTAINS):!n.contains(e));)Fn=n.parentNode,k.remove(n),n=Fn}}catch(t){}}function Cn(t,e){var n;for(t=t[e];t&&k.isFillChar(t);)n=t[e],k.remove(t),t=n}function Fq(t,e){var n=k.getNodeIndex;(t=t.duplicate()).collapse(e);var i=t.parentElement();if(!i.hasChildNodes())return{container:i,offset:0};for(var o,r=i.children,a=t.duplicate(),s=0,l=r.length-1,c=-1;s<=l;){o=r[c=Math.floor((s+l)/2)],a.moveToElementText(o);var d=a.compareEndPoints("StartToStart",t);if(0<d)l=c-1;else{if(!(d<0))return{container:i,offset:n(o)};s=c+1}}if(-1==c){if(a.moveToElementText(i),a.setEndPoint("StartToStart",t),a=a.text.replace(/(\r\n|\r)/g,"\n").length,r=i.childNodes,!a)return{container:o=r[r.length-1],offset:o.nodeValue.length};for(n=r.length;0<a;)a-=r[--n].nodeValue.length;return{container:r[n],offset:-a}}if(a.collapse(0<d),a.setEndPoint(0<d?"StartToStart":"EndToStart",t),!(a=a.text.replace(/(\r\n|\r)/g,"\n").length))return p.$empty[o.tagName]||p.$nonChild[o.tagName]?{container:i,offset:n(o)+(0<d?0:1)}:{container:o,offset:0<d?0:o.childNodes.length};for(;0<a;)try{a-=(o=(r=o)[0<d?"previousSibling":"nextSibling"]).nodeValue.length}catch(t){return{container:i,offset:n(r)}}return{container:o,offset:0<d?-a:o.nodeValue.length+a}}function Hq(t,e){var n;try{n=t.getNative(e).createRange()}catch(t){return null}var i=n.item?n.item(0):n.parentElement();return(i.ownerDocument||i)===t.document?n:null}function Nr(t,e){var i;if(e.textarea)if(n.isString(e.textarea)){for(var o,r=0,a=k.getElementsByTagName(t,"textarea");o=a[r++];)if(o.id=="umeditor_textarea_"+e.options.textarea){i=o;break}}else i=e.textarea;i||(t.appendChild(i=k.createElement(document,"textarea",{name:e.options.textarea,id:"umeditor_textarea_"+e.options.textarea,style:"display:none"})),e.textarea=i),i.value=e.hasContents()?e.options.allHtmlEnabled?e.getAllHtml():e.getContent(null,null,!0):""}function Or(t){for(var e in UM.plugins)-1==t.options.excludePlugins.indexOf(e)&&(UM.plugins[e].call(t),t.plugins[e]=1);t.langIsReady=!0,t.fireEvent("langReady")}function Gu(){var t=this;t.document.getElementById("initContent")&&(t.body.innerHTML="<p>"+(E?"":"<br/>")+"</p>",t.removeListener("firstBeforeExecCommand focus",Gu),setTimeout(function(){t.focus(),t._selectionChange()},0))}function ov(t){return t.replace(/[\d.]+\w+/g,function(t){return n.transUnitToPx(t)})}function Ov(t,e,n){return t.push("\n"),e+(n?1:-1)}function Pv(t,e){for(var n=0;n<e;n++)t.push("    ")}function Qv(t,e,i,o){switch(t.type){case"root":for(var r,a=0;r=t.children[a++];)i&&"element"==r.type&&!p.$inlineWithA[r.tagName]&&1<a&&(Ov(e,o,!0),Pv(e,o)),Qv(r,e,i,o);break;case"text":"pre"==t.parentNode.tagName?e.push(t.data):e.push(Xv[t.parentNode.tagName]?n.html(t.data):t.data.replace(/[ ]{2}/g," &nbsp;"));break;case"element":!function(t,e,i,o){var r="";if(t.attrs){r=[];var a,s=t.attrs;for(a in s)r.push(a+(void 0!==s[a]?'="'+(Wv[a]?n.html(s[a]).replace(/["]/g,function(t){return"&quot;"}):n.unhtml(s[a]))+'"':""));r=r.join(" ")}if(e.push("<"+t.tagName+(r?" "+r:"")+(p.$empty[t.tagName]?"/":"")+">"),i&&!p.$inlineWithA[t.tagName]&&"pre"!=t.tagName&&t.children&&t.children.length&&(o=Ov(e,o,!0),Pv(e,o)),t.children&&t.children.length)for(r=0;s=t.children[r++];)i&&"element"==s.type&&!p.$inlineWithA[s.tagName]&&1<r&&(Ov(e,o),Pv(e,o)),Qv(s,e,i,o);p.$empty[t.tagName]||(i&&!p.$inlineWithA[t.tagName]&&"pre"!=t.tagName&&t.children&&t.children.length&&(o=Ov(e,o),Pv(e,o)),e.push("</"+t.tagName+">"))}(t,e,i,o);break;case"comment":e.push("\x3c!--"+t.data+"--\x3e")}return e}function Sv(t,e){var n;if("element"==t.type&&t.getAttr("id")==e)return t;if(t.children&&t.children.length)for(var i=0;n=t.children[i++];)if(n=Sv(n,e))return n}function Tv(t,e,n){if("element"==t.type&&t.tagName==e&&n.push(t),t.children&&t.children.length)for(var i,o=0;i=t.children[o++];)Tv(i,e,n)}function $y(i,t){switch(i.type){case"element":var e;if(e=t[i.tagName])if("-"===e)i.parentNode.removeChild(i);else if(n.isFunction(e)){var o=i.parentNode,r=i.getIndex();if(e(i),i.parentNode){if(i.children)for(e=0;r=i.children[e];)$y(r,t),r.parentNode&&e++}else for(e=r;r=o.children[e];)$y(r,t),r.parentNode&&e++}else{if((e=e.$)&&i.attrs){var a;r={};for(o in e){if(a=i.getAttr(o),"style"==o&&n.isArray(e[o])){var s=[];n.each(e[o],function(t){var e;(e=i.getStyle(t))&&s.push(t+":"+e)}),a=s.join(";")}a&&(r[o]=a)}i.attrs=r}if(i.children)for(e=0;r=i.children[e];)$y(r,t),r.parentNode&&e++}else if(p.$cdata[i.tagName])i.parentNode.removeChild(i);else for(o=i.parentNode,r=i.getIndex(),i.parentNode.removeChild(i,!0),e=r;r=o.children[e];)$y(r,t),r.parentNode&&e++;break;case"comment":i.parentNode.removeChild(i)}}function uO(t){var e=this;if(!t)throw Error("invalid params, notfound editor");e.editor=t,AO[t.uid]=this,t.addListener("destroy",function(){delete AO[t.uid],e.editor=null})}Dn=0,En=k.fillChar,Gn=x.Range=function(t,e){this.startContainer=this.startOffset=this.endContainer=this.endOffset=null,this.document=t,this.collapsed=!0,this.body=e},Gn.prototype={deleteContents:function(){var t;if(!this.collapsed){t=this.startContainer;var e,n,i=this.endContainer,o=this.startOffset,r=this.endOffset,a=this.document,s=a.createDocumentFragment();if(1==t.nodeType&&(t=t.childNodes[o]||(e=t.appendChild(a.createTextNode("")))),1==i.nodeType&&(i=i.childNodes[r]||(n=i.appendChild(a.createTextNode("")))),t===i&&3==t.nodeType)s.appendChild(a.createTextNode(t.substringData(o,r-o))),t.deleteData(o,r-o),this.collapse(!0);else{for(var l,c,d=s,u=k.findParents(t,!0),p=k.findParents(i,!0),h=0;u[h]==p[h];)h++;for(var f,g=h;f=u[g];g++){for(l=f.nextSibling,f==t?e||(3==this.startContainer.nodeType?(d.appendChild(a.createTextNode(t.nodeValue.slice(o))),t.deleteData(o,t.nodeValue.length-o)):d.appendChild(t)):(c=f.cloneNode(!1),d.appendChild(c));l&&l!==i&&l!==p[g];)f=l.nextSibling,d.appendChild(l),l=f;d=c}for(d=s,u[h]||(d.appendChild(u[h-1].cloneNode(!1)),d=d.firstChild),g=h;o=p[g];g++){if(l=o.previousSibling,o==i?n||3!=this.endContainer.nodeType||(d.appendChild(a.createTextNode(i.substringData(0,r))),i.deleteData(0,r)):(c=o.cloneNode(!1),d.appendChild(c)),g!=h||!u[h])for(;l&&l!==t;)o=l.previousSibling,d.insertBefore(l,d.firstChild),l=o;d=c}this.setStartBefore(p[h]?u[h]?p[h]:u[h-1]:p[h-1]).collapse(!0),e&&k.remove(e),n&&k.remove(n)}}return m.webkit&&(3!=(t=this.startContainer).nodeType||t.nodeValue.length||(this.setStartBefore(t).collapse(!0),k.remove(t))),this},inFillChar:function(){var t=this.startContainer;return!(!this.collapsed||3!=t.nodeType||t.nodeValue.replace(new RegExp("^"+k.fillChar),"").length+1!=t.nodeValue.length)},setStart:function(t,e){return An(!0,t,e,this)},setEnd:function(t,e){return An(!1,t,e,this)},setStartAfter:function(t){return this.setStart(t.parentNode,k.getNodeIndex(t)+1)},setStartBefore:function(t){return this.setStart(t.parentNode,k.getNodeIndex(t))},setEndAfter:function(t){return this.setEnd(t.parentNode,k.getNodeIndex(t)+1)},setEndBefore:function(t){return this.setEnd(t.parentNode,k.getNodeIndex(t))},setStartAtFirst:function(t){return this.setStart(t,0)},setStartAtLast:function(t){return this.setStart(t,3==t.nodeType?t.nodeValue.length:t.childNodes.length)},setEndAtFirst:function(t){return this.setEnd(t,0)},setEndAtLast:function(t){return this.setEnd(t,3==t.nodeType?t.nodeValue.length:t.childNodes.length)},selectNode:function(t){return this.setStartBefore(t).setEndAfter(t)},selectNodeContents:function(t){return this.setStart(t,0).setEndAtLast(t)},cloneRange:function(){return new Gn(this.document).setStart(this.startContainer,this.startOffset).setEnd(this.endContainer,this.endOffset)},collapse:function(t){return t?(this.endContainer=this.startContainer,this.endOffset=this.startOffset):(this.startContainer=this.endContainer,this.startOffset=this.endOffset),this.collapsed=!0,this},shrinkBoundary:function(t){function e(t){return 1==t.nodeType&&!k.isBookmarkNode(t)&&!p.$empty[t.tagName]&&!p.$nonChild[t.tagName]}for(var n,i=this.collapsed;1==this.startContainer.nodeType&&(n=this.startContainer.childNodes[this.startOffset])&&e(n);)this.setStart(n,0);if(i)return this.collapse(!0);if(!t)for(;1==this.endContainer.nodeType&&0<this.endOffset&&(n=this.endContainer.childNodes[this.endOffset-1])&&e(n);)this.setEnd(n,n.childNodes.length);return this},trimBoundary:function(t){this.txtToElmBoundary();var e=this.startContainer,n=this.startOffset,i=this.collapsed,o=this.endContainer;if(3==e.nodeType){if(0==n)this.setStartBefore(e);else if(n>=e.nodeValue.length)this.setStartAfter(e);else{var r=k.split(e,n);e===o?this.setEnd(r,this.endOffset-n):e.parentNode===o&&(this.endOffset+=1),this.setStartBefore(r)}if(i)return this.collapse(!0)}return t||(n=this.endOffset,3==(o=this.endContainer).nodeType&&(0==n?this.setEndBefore(o):(n<o.nodeValue.length&&k.split(o,n),this.setEndAfter(o)))),this},txtToElmBoundary:function(t){function e(t,e){var n=t[e+"Container"],i=t[e+"Offset"];3==n.nodeType&&(i?i>=n.nodeValue.length&&t["set"+e.replace(/(\w)/,function(t){return t.toUpperCase()})+"After"](n):t["set"+e.replace(/(\w)/,function(t){return t.toUpperCase()})+"Before"](n))}return!t&&this.collapsed||(e(this,"start"),e(this,"end")),this},insertNode:function(t){var e=t,n=1;11==t.nodeType&&(e=t.firstChild,n=t.childNodes.length),this.trimBoundary(!0);var i=this.startContainer,o=i.childNodes[this.startOffset];return o?i.insertBefore(t,o):i.appendChild(t),e.parentNode===this.endContainer&&(this.endOffset+=n),this.setStartBefore(e)},setCursor:function(t,e){return this.collapse(!t).select(e)},createBookmark:function(t,e){var n,i=this.document.createElement("span");return i.style.cssText="display:none;line-height:0px;",i.appendChild(this.document.createTextNode("‍")),i.id="_baidu_bookmark_start_"+(e?"":Dn++),this.collapsed||((n=i.cloneNode(!0)).id="_baidu_bookmark_end_"+(e?"":Dn++)),this.insertNode(i),n&&this.collapse().insertNode(n).setEndBefore(n),this.setStartAfter(i),{start:t?i.id:i,end:n?t?n.id:n:null,id:t}},moveToBookmark:function(t){var e=t.id?this.document.getElementById(t.start):t.start;return t=t.end&&t.id?this.document.getElementById(t.end):t.end,this.setStartBefore(e),k.remove(e),t?(this.setEndBefore(t),k.remove(t)):this.collapse(!0),this},adjustmentBoundary:function(){if(!this.collapsed){for(;!k.isBody(this.startContainer)&&this.startOffset==this.startContainer[3==this.startContainer.nodeType?"nodeValue":"childNodes"].length&&this.startContainer[3==this.startContainer.nodeType?"nodeValue":"childNodes"].length;)this.setStartAfter(this.startContainer);for(;!k.isBody(this.endContainer)&&!this.endOffset&&this.endContainer[3==this.endContainer.nodeType?"nodeValue":"childNodes"].length;)this.setEndBefore(this.endContainer)}return this},getClosedNode:function(){var t;if(!this.collapsed){var e=this.cloneRange().adjustmentBoundary().shrinkBoundary();e.collapsed||1!=e.startContainer.nodeType||e.startContainer!==e.endContainer||1!=e.endOffset-e.startOffset||(e=e.startContainer.childNodes[e.startOffset])&&1==e.nodeType&&(p.$empty[e.tagName]||p.$nonChild[e.tagName])&&(t=e)}return t},select:m.ie?function(t,e){var n;if(this.collapsed||this.shrinkBoundary(),(i=this.getClosedNode())&&!e){try{(n=this.document.body.createControlRange()).addElement(i),n.select()}catch(t){}return this}var i,o=(i=this.createBookmark()).start;if((n=this.document.body.createTextRange()).moveToElementText(o),n.moveStart("character",1),this.collapsed){if(!t&&3!=this.startContainer.nodeType){a=this.document.createTextNode(En);var r=this.document.createElement("span");r.appendChild(this.document.createTextNode(En)),o.parentNode.insertBefore(r,o),o.parentNode.insertBefore(a,o),Bn(this.document,a),Fn=a,Cn(r,"previousSibling"),Cn(o,"nextSibling"),n.moveStart("character",-1),n.collapse(!0)}}else{var a=this.document.body.createTextRange();o=i.end,a.moveToElementText(o),n.setEndPoint("EndToEnd",a)}this.moveToBookmark(i),r&&k.remove(r);try{n.select()}catch(t){}return this}:function(t){var i,e=k.getWindow(this.document),n=e.getSelection();if(m.gecko?this.body.focus():e.focus(),n){if(n.removeAllRanges(),this.collapsed&&!t&&(t=e=this.startContainer,1==e.nodeType&&(t=e.childNodes[this.startOffset]),3==e.nodeType&&this.startOffset||(t?t.previousSibling&&3==t.previousSibling.nodeType:e.lastChild&&3==e.lastChild.nodeType)||(t=this.document.createTextNode(En),this.insertNode(t),Bn(this.document,t),Cn(t,"previousSibling"),Cn(t,"nextSibling"),Fn=t,this.setStart(t,m.webkit?1:0).collapse(!0))),e=this.document.createRange(),this.collapsed&&m.opera&&1==this.startContainer.nodeType)if(t=this.startContainer.childNodes[this.startOffset]){for(;t&&k.isBlockElm(t)&&1==t.nodeType&&t.childNodes[0];)t=t.childNodes[0];t&&this.setStartBefore(t).collapse(!0)}else(t=this.startContainer.lastChild)&&k.isBr(t)&&this.setStartBefore(t).collapse(!0);o((i=this).startContainer,i.startOffset,"start"),o(i.endContainer,i.endOffset,"end"),e.setStart(this.startContainer,this.startOffset),e.setEnd(this.endContainer,this.endOffset),n.removeAllRanges(),n.addRange(e)}function o(t,e,n){3==t.nodeType&&t.nodeValue.length<e&&(i[n+"Offset"]=t.nodeValue.length)}return this},createAddress:function(t,a){function e(t){for(var e,n=t?s.startContainer:s.endContainer,i=k.findParents(n,!0,function(t){return!k.isBody(t)}),o=[],r=0;e=i[r++];)o.push(k.getNodeIndex(e,a));if(i=0,a)if(3==n.nodeType){for(n=n.previousSibling;n&&3==n.nodeType;)i+=n.nodeValue.replace(H,"").length,n=n.previousSibling;i+=t?s.startOffset:s.endOffset}else if(n=n.childNodes[t?s.startOffset:s.endOffset])i=k.getNodeIndex(n,a);else for(t=(n=t?s.startContainer:s.endContainer).firstChild;t;)if(k.isFillChar(t))t=t.nextSibling;else if(i++,3==t.nodeType)for(;t&&3==t.nodeType;)t=t.nextSibling;else t=t.nextSibling;else i=t?k.isFillChar(n)?0:s.startOffset:s.endOffset;return i<0&&(i=0),o.push(i),o}var n={},s=this;return n.startAddress=e(!0),t||(n.endAddress=s.collapsed?[].concat(n.startAddress):e()),n},moveToAddress:function(t,e){function n(t,e){for(var n,i,o,r=l.body,a=0,s=t.length;a<s;a++)if(o=t[a],!(r=(n=r).childNodes[o])){i=o;break}e?r?l.setStartBefore(r):l.setStart(n,i):r?l.setEndBefore(r):l.setEnd(n,i)}var l=this;return n(t.startAddress,!0),!e&&t.endAddress&&n(t.endAddress),l},equals:function(t){for(var e in this)if(this.hasOwnProperty(e)&&this[e]!==t[e])return!1;return!0},scrollIntoView:function(){var t=g('<span style="padding:0;margin:0;display:block;border:0">&nbsp;</span>');this.cloneRange().insertNode(t.get(0));var e=g(window).scrollTop(),n=g(window).height(),i=t.offset().top;(i<e-n||e+n<i)&&(e+n<i?window.scrollTo(0,i-n+t.height()):window.scrollTo(0,e-i)),t.remove()},getOffset:function(){var t=this.createBookmark(),e=g(t.start).css("display","inline-block").offset();return this.moveToBookmark(t),e}},(x.Selection=function(t,e){var n=this;n.document=t,n.body=e,m.ie9below&&g(e).on("beforedeactivate",function(){n._bakIERange=n.getIERange()}).on("activate",function(){try{var t=Hq(n);t&&n.rangeInBody(t)||!n._bakIERange||n._bakIERange.select()}catch(t){}n._bakIERange=null})}).prototype={hasNativeRange:function(){var t;if(!m.ie||m.ie9above){if(!(t=this.getNative()).rangeCount)return!1;t=t.getRangeAt(0)}else t=Hq(this);return this.rangeInBody(t)},getNative:function(t){var e=this.document;try{return e?m.ie9below||t?e.selection:k.getWindow(e).getSelection():null}catch(t){return null}},getIERange:function(t){var e=Hq(this,t);return e&&this.rangeInBody(e,t)||!this._bakIERange?e:this._bakIERange},rangeInBody:function(t,e){var n=m.ie9below||e?t.item?t.item():t.parentElement():t.startContainer;return n===this.body||k.inDoc(n,this.body)},cache:function(){this.clear(),this._cachedRange=this.getRange(),this._cachedStartElement=this.getStart(),this._cachedStartElementPath=this.getStartElementPath()},getStartElementPath:function(){if(this._cachedStartElementPath)return this._cachedStartElementPath;var t=this.getStart();return t?k.findParents(t,!0,null,!0):[]},clear:function(){this._cachedStartElementPath=this._cachedRange=this._cachedStartElement=null},isFocus:function(){return this.hasNativeRange()},getRange:function(){function e(t){for(var e=i.body.firstChild,n=t.collapsed;e&&e.firstChild;)t.setStart(e,0),e=e.firstChild;t.startContainer||t.setStart(i.body,0),n&&t.collapse(!0)}var i=this;if(null!=i._cachedRange)return this._cachedRange;var n=new x.Range(i.document,i.body);if(m.ie9below){var t=i.getIERange();if(t&&this.rangeInBody(t))try{!function(t,e){if(t.item)e.selectNode(t.item(0));else{var n=Fq(t,!0);e.setStart(n.container,n.offset),0!=t.compareEndPoints("StartToEnd",t)&&(n=Fq(t,!1),e.setEnd(n.container,n.offset))}}(t,n)}catch(t){e(n)}else e(n)}else{var o=i.getNative();if(o&&o.rangeCount&&i.rangeInBody(o.getRangeAt(0)))t=o.getRangeAt(0),o=o.getRangeAt(o.rangeCount-1),n.setStart(t.startContainer,t.startOffset).setEnd(o.endContainer,o.endOffset),n.collapsed&&k.isBody(n.startContainer)&&!n.startOffset&&e(n);else{if(this._bakRange&&(this._bakRange.startContainer===this.body||k.inDoc(this._bakRange.startContainer,this.body)))return this._bakRange;e(n)}}return this._bakRange=n},getStart:function(){if(this._cachedStartElement)return this._cachedStartElement;var t,e,n=m.ie9below?this.getIERange():this.getRange();if(m.ie9below){if(!n)return this.document.body.firstChild;if(n.item)return n.item(0);for(0<(t=n.duplicate()).text.length&&t.moveStart("character",1),t.collapse(1),t=t.parentElement(),e=n=n.parentElement();n=n.parentNode;)if(n==t){t=e;break}}else if(1==(t=n.startContainer).nodeType&&t.hasChildNodes()&&(t=t.childNodes[Math.min(t.childNodes.length-1,n.startOffset)]),3==t.nodeType)return t.parentNode;return t},getText:function(){var t;return this.isFocus()&&(t=this.getNative())?(t=m.ie9below?t.createRange():t.getRangeAt(0),m.ie9below?t.text:t.toString()):""}},Qr=0,Sr=UM.Editor=function(t){var e=this;e.uid=Qr++,I.call(e),e.commands={},e.options=n.extend(n.clone(t||{}),UMEDITOR_CONFIG,!0),e.shortcutkeys={},e.inputRules=[],e.outputRules=[],e.setOpt({isShow:!0,initialContent:"",initialStyle:"",autoClearinitialContent:!1,textarea:"editorValue",focus:!1,focusInEnd:!0,autoClearEmptyNode:!0,fullscreen:!1,readonly:!1,zIndex:999,enterTag:"p",lang:"zh-cn",langPath:e.options.UMEDITOR_HOME_URL+"lang/",theme:"default",themePath:e.options.UMEDITOR_HOME_URL+"themes/",allHtmlEnabled:!1,autoSyncData:!0,autoHeightEnabled:!0,excludePlugins:""}),e.plugins={},n.isEmptyObject(UM.I18N)?n.loadFile(document,{src:e.options.langPath+e.options.lang+"/"+e.options.lang+".js",tag:"script",type:"text/javascript",defer:"defer"},function(){Or(e)}):(e.options.lang=function(t){for(var e in t)return e}(UM.I18N),Or(e))},Sr.prototype={ready:function(t){t&&(this.isReady?t.apply(this):this.addListener("ready",t))},setOpt:function(t,e){var i={};n.isString(t)?i[t]=e:i=t,n.extend(this.options,i,!0)},getOpt:function(t){return this.options[t]||""},destroy:function(){this.fireEvent("destroy");var t=this.container.parentNode;t===document.body&&(t=this.container);var e=this.textarea;for(var n in e?e.style.display="":(e=document.createElement("textarea"),t.parentNode.insertBefore(e,t)),e.style.width=this.body.offsetWidth+"px",e.style.height=this.body.offsetHeight+"px",e.value=this.getContent(),e.id=this.key,t.contains(e)&&g(e).insertBefore(t),t.innerHTML="",k.remove(t),UM.clearCache(this.id),this)this.hasOwnProperty(n)&&delete this[n]},initialCont:function(t){if(t){if(t.getAttribute("name")&&(this.options.textarea=t.getAttribute("name")),t&&/script|textarea/gi.test(t.tagName)){var e=document.createElement("div");t.parentNode.insertBefore(e,t),this.options.initialContent=UM.htmlparser(t.value||t.innerHTML||this.options.initialContent).toHtml(),t.className&&(e.className=t.className),t.style.cssText&&(e.style.cssText=t.style.cssText),/textarea/i.test(t.tagName)?(this.textarea=t,this.textarea.style.display="none"):(t.parentNode.removeChild(t),t.id&&(e.id=t.id)),(t=e).innerHTML=""}return t}return null},render:function(e){var t=this.options,i=function(t){return parseInt(g(e).css(t))};n.isString(e)&&(e=document.getElementById(e)),e&&(this.id=e.getAttribute("id"),UM.setEditor(this),n.cssRule("edui-style-body",this.options.initialStyle,document),(e=this.initialCont(e)).className+=" edui-body-container",t.minFrameWidth=t.initialFrameWidth?t.initialFrameWidth:t.initialFrameWidth=g(e).width()||UM.defaultWidth,t.initialFrameHeight?t.minFrameHeight=t.initialFrameHeight:t.initialFrameHeight=t.minFrameHeight=g(e).height()||UM.defaultHeight,e.style.width=/%$/.test(t.initialFrameWidth)?"100%":t.initialFrameWidth-i("padding-left")-i("padding-right")+"px",i=/%$/.test(t.initialFrameHeight)?"100%":t.initialFrameHeight-i("padding-top")-i("padding-bottom"),this.options.autoHeightEnabled?(e.style.minHeight=i+"px",e.style.height="",m.ie&&m.version<=6&&(e.style.height=i,e.style.setExpression("height","this.scrollHeight <= "+i+' ? "'+i+'px" : "auto"'))):g(e).height(i),e.style.zIndex=t.zIndex,this._setup(e))},_setup:function(t){var e,n=this,i=n.options;t.contentEditable=!0,document.body.spellcheck=!1,n.document=document,n.window=document.defaultView||document.parentWindow,n.body=t,n.$body=g(t),n.selection=new x.Selection(document,n.body),n._isEnabled=!1,m.gecko&&(e=this.selection.getNative())&&e.removeAllRanges(),this._initEvents();for(var o=t.parentNode;o&&!k.isBody(o);o=o.parentNode)if("FORM"==o.tagName){n.form=o,n.options.autoSyncData?g(t).on("blur",function(){Nr(o,n)}):g(o).on("submit",function(){Nr(this,n)});break}if(i.initialContent)if(i.autoClearinitialContent){var r=n.execCommand;n.execCommand=function(){return n.fireEvent("firstBeforeExecCommand"),r.apply(n,arguments)},this._setDefaultContent(i.initialContent)}else this.setContent(i.initialContent,!1,!0);k.isEmptyNode(n.body)&&(n.body.innerHTML="<p>"+(m.ie?"":"<br/>")+"</p>"),i.focus&&setTimeout(function(){n.focus(n.options.focusInEnd),n.options.autoClearinitialContent||n._selectionChange()},0),n.container||(n.container=t.parentNode),n._bindshortcutKeys(),n.isReady=1,n.fireEvent("ready"),i.onready&&i.onready.call(n),m.ie&&!m.ie9above||g(n.body).on("blur focus",function(t){var e=n.selection.getNative();if("blur"==t.type)0<e.rangeCount&&(n._bakRange=e.getRangeAt(0));else{try{n._bakRange&&e.removeAllRanges(),e.removeAllRanges(),e.addRange(n._bakRange)}catch(t){}n._bakRange=null}}),i.isShow||n.setHide(),i.readonly&&n.setDisabled()},sync:function(t){(t=t?document.getElementById(t):k.findParent(this.body.parentNode,function(t){return"FORM"==t.tagName},!0))&&Nr(t,this)},setHeight:function(t,e){e||(this.options.initialFrameHeight=t),this.options.autoHeightEnabled?(g(this.body).css({"min-height":t+"px"}),m.ie&&m.version<=6&&this.container&&(this.container.style.height=t,this.container.style.setExpression("height","this.scrollHeight <= "+t+' ? "'+t+'px" : "auto"'))):g(this.body).height(t),this.fireEvent("resize")},setWidth:function(t){this.$container&&this.$container.width(t),g(this.body).width(t-1*g(this.body).css("padding-left").replace("px","")-1*g(this.body).css("padding-right").replace("px","")),this.fireEvent("resize")},addshortcutkey:function(t,e){var i={};e?i[t]=e:i=t,n.extend(this.shortcutkeys,i)},_bindshortcutKeys:function(){var l=this,c=this.shortcutkeys;l.addListener("keydown",function(t,e){var n,i=e.keyCode||e.which;for(n in c)for(var o,r=c[n].split(","),a=0;o=r[a++];){var s=(o=o.split(":"))[0];o=o[1],(/^(ctrl)(\+shift)?\+(\d+)$/.test(s.toLowerCase())||/^(\d+)$/.test(s))&&(("ctrl"!=RegExp.$1||!e.ctrlKey&&!e.metaKey||""!=RegExp.$2&&!e[RegExp.$2.slice(1)+"Key"]||i!=RegExp.$3)&&i!=RegExp.$1||(-1!=l.queryCommandState(n,o)&&l.execCommand(n,o),k.preventDefault(e)))}})},getContent:function(t,e,i,o,r){return t&&n.isFunction(t)&&(e=t),(e?e():this.hasContents())?(this.fireEvent("beforegetcontent"),t=UM.htmlparser(this.body.innerHTML,o),this.filterOutputRule(t),this.fireEvent("aftergetcontent",t),t.toHtml(r)):""},getAllHtml:function(){var t=[];if(this.fireEvent("getAllHtml",t),m.ie&&8<m.version){var e="";n.each(this.document.styleSheets,function(t){e+=t.href?'<link rel="stylesheet" type="text/css" href="'+t.href+'" />':"<style>"+t.cssText+"</style>"}),n.each(this.document.getElementsByTagName("script"),function(t){e+=t.outerHTML})}return"<html><head>"+(this.options.charset?'<meta http-equiv="Content-Type" content="text/html; charset='+this.options.charset+'"/>':"")+(e||this.document.getElementsByTagName("head")[0].innerHTML)+t.join("\n")+"</head><body "+(E&&m.version<9?'class="view"':"")+">"+this.getContent(null,null,!0)+"</body></html>"},getPlainTxt:function(){var t=new RegExp(k.fillChar,"g");return this.body.innerHTML.replace(/[\n\r]/g,"").replace(/<(p|div)[^>]*>(<br\/?>|&nbsp;)<\/\1>/gi,"\n").replace(/<br\/?>/gi,"\n").replace(/<[^>/]+>/g,"").replace(/(\n)?<\/([^>]+)>/g,function(t,e,n){return p.$block[n]?"\n":e||""}).replace(t,"").replace(/\u00a0/g," ").replace(/&nbsp;/g," ")},getContentTxt:function(){return this.body[m.ie?"innerText":"textContent"].replace(new RegExp(k.fillChar,"g"),"").replace(/\u00a0/g," ")},setContent:function(t,e,n){if(this.fireEvent("beforesetcontent",t),t=UM.htmlparser(t),this.filterInputRule(t),t=t.toHtml(),this.body.innerHTML=(e?this.body.innerHTML:"")+t,"p"==this.options.enterTag)if(!(e=this.body.firstChild)||1==e.nodeType&&(p.$cdata[e.tagName]||"DIV"==e.tagName&&e.getAttribute("cdata_tag")||k.isCustomeNode(e))&&e===this.body.lastChild)this.body.innerHTML="<p>"+(m.ie?"&nbsp;":"<br/>")+"</p>"+this.body.innerHTML;else for(var i=this.document.createElement("p");e;){for(;e&&(3==e.nodeType||1==e.nodeType&&p.p[e.tagName]&&!p.$cdata[e.tagName]);)t=e.nextSibling,i.appendChild(e),e=t;if(i.firstChild){if(!e){this.body.appendChild(i);break}e.parentNode.insertBefore(i,e),i=this.document.createElement("p")}e=e.nextSibling}var o;this.fireEvent("aftersetcontent"),this.fireEvent("contentchange"),n||this._selectionChange(),this._bakRange=this._bakIERange=this._bakNativeRange=null,m.gecko&&(o=this.selection.getNative())&&o.removeAllRanges(),this.options.autoSyncData&&this.form&&Nr(this.form,this)},focus:function(t){try{var e=this.selection.getRange();t?e.setStartAtLast(this.body.lastChild).setCursor(!1,!0):e.select(!0),this.fireEvent("focus")}catch(t){}},blur:function(){var t=this.selection.getNative();t.empty?t.empty():t.removeAllRanges(),this.fireEvent("blur")},isFocus:function(){return!0===this.fireEvent("isfocus")||this.selection.isFocus()},_initEvents:function(){function t(){e._proxyDomEvent.apply(e,arguments)}var e=this;g(e.body).on("click contextmenu mousedown keydown keyup keypress mouseup mouseover mouseout selectstart",t).on("focus blur",t).on("mouseup keydown",function(t){"keydown"==t.type&&(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)||2!=t.button&&e._selectionChange(250,t)})},_proxyDomEvent:function(t){return this.fireEvent(t.type.replace(/^on/,""),t)},_selectionChange:function(t,n){var i,o,r=this,a=!1;m.ie&&m.version<9&&n&&"mouseup"==n.type&&!this.selection.getRange().collapsed&&(a=!0,i=n.clientX,o=n.clientY),clearTimeout(Rr),Rr=setTimeout(function(){if(r.selection.getNative()){var e,t;if(a&&"None"==r.selection.getNative().type){e=r.document.body.createTextRange();try{e.moveToPoint(i,o)}catch(t){e=null}}e&&(t=r.selection.getIERange,r.selection.getIERange=function(){return e}),r.selection.cache(),t&&(r.selection.getIERange=t),r.selection._cachedRange&&r.selection._cachedStartElement&&(r.fireEvent("beforeselectionchange"),r.fireEvent("selectionchange",!!n),r.fireEvent("afterselectionchange"),r.selection.clear())}},t||50)},_callCmdFn:function(t,e){var n,i,o=(e=Array.prototype.slice.call(e,0)).shift().toLowerCase();return i=(n=this.commands[o]||UM.commands[o])&&n[t],n&&i||"queryCommandState"!=t?i?i.apply(this,[o].concat(e)):void 0:0},execCommand:function(t){var e,n;return this.isFocus()||((n=this.selection._bakRange)?n.select():this.focus(!0)),t=t.toLowerCase(),(n=this.commands[t]||UM.commands[t])&&n.execCommand?(n.notNeedUndo||this.__hasEnterExecCommand?(e=this._callCmdFn("execCommand",arguments),this.__hasEnterExecCommand||n.ignoreContentChange||this._ignoreContentChange||this.fireEvent("contentchange")):(this.__hasEnterExecCommand=!0,-1!=this.queryCommandState.apply(this,arguments)&&(this.fireEvent("saveScene"),this.fireEvent("beforeexeccommand",t),e=this._callCmdFn("execCommand",arguments),n.ignoreContentChange||this._ignoreContentChange||this.fireEvent("contentchange"),this.fireEvent("afterexeccommand",t),this.fireEvent("saveScene")),this.__hasEnterExecCommand=!1),this.__hasEnterExecCommand||n.ignoreContentChange||this._ignoreContentChange||this._selectionChange(),e):null},queryCommandState:function(t){try{return this._callCmdFn("queryCommandState",arguments)}catch(t){return 0}},queryCommandValue:function(t){try{return this._callCmdFn("queryCommandValue",arguments)}catch(t){return null}},hasContents:function(t){if(t)for(var e,n=0;e=t[n++];)if(0<this.body.getElementsByTagName(e).length)return!0;if(!k.isEmptyBlock(this.body))return!0;for(t=["div"],n=0;e=t[n++];){e=k.getElementsByTagName(this.body,e);for(var i,o=0;i=e[o++];)if(k.isCustomeNode(i))return!0}return!1},reset:function(){this.fireEvent("reset")},isEnabled:function(){return 1!=this._isEnabled},setEnabled:function(){var e;if(this.body.contentEditable=!0,this.lastBk){e=this.selection.getRange();try{e.moveToBookmark(this.lastBk),delete this.lastBk}catch(t){e.setStartAtFirst(this.body).collapse(!0)}e.select(!0)}this.bkqueryCommandState&&(this.queryCommandState=this.bkqueryCommandState,delete this.bkqueryCommandState),this._bkproxyDomEvent&&(this._proxyDomEvent=this._bkproxyDomEvent,delete this._bkproxyDomEvent),this.fireEvent("setEnabled")},enable:function(){return this.setEnabled()},setDisabled:function(t,e){var i=this;i.body.contentEditable=!1,i._except=t?n.isArray(t)?t:[t]:[],i.lastBk||(i.lastBk=i.selection.getRange().createBookmark(!0)),i.bkqueryCommandState||(i.bkqueryCommandState=i.queryCommandState,i.queryCommandState=function(t){return-1!=n.indexOf(i._except,t)?i.bkqueryCommandState.apply(i,arguments):-1}),e||i._bkproxyDomEvent||(i._bkproxyDomEvent=i._proxyDomEvent,i._proxyDomEvent=function(){return!1}),i.fireEvent("selectionchange"),i.fireEvent("setDisabled",i._except)},disable:function(t){return this.setDisabled(t)},_setDefaultContent:function(t){this.body.innerHTML='<p id="initContent">'+t+"</p>",this.addListener("firstBeforeExecCommand focus",Gu)},setShow:function(){var e=this.selection.getRange();if("none"==this.container.style.display){try{e.moveToBookmark(this.lastBk),delete this.lastBk}catch(t){e.setStartAtFirst(this.body).collapse(!0)}setTimeout(function(){e.select(!0)},100),this.container.style.display=""}},show:function(){return this.setShow()},setHide:function(){this.lastBk||(this.lastBk=this.selection.getRange().createBookmark(!0)),this.container.style.display="none"},hide:function(){return this.setHide()},getLang:function(t){var e=UM.I18N[this.options.lang];if(!e)throw Error("not import language file");t=(t||"").split(".");for(var n,i=0;(n=t[i++])&&(e=e[n]););return e},getContentLength:function(t,e){var n=this.getContent(!1,!1,!0).length;if(t){e=(e||[]).concat(["hr","img","iframe"]),n=this.getContentTxt().replace(/[\t\r\n]+/g,"").length;for(var i,o=0;i=e[o++];)n+=this.body.getElementsByTagName(i).length}return n},addInputRule:function(t,e){t.ignoreUndo=e,this.inputRules.push(t)},filterInputRule:function(t,e){for(var n,i=0;n=this.inputRules[i++];)e&&n.ignoreUndo||n.call(this,t)},addOutputRule:function(t,e){t.ignoreUndo=e,this.outputRules.push(t)},filterOutputRule:function(t,e){for(var n,i=0;n=this.outputRules[i++];)e&&n.ignoreUndo||n.call(this,t)}},n.inherits(Sr,I),UM.filterWord=function(t){return/(class="?Mso|style="[^"]*\bmso\-|w:WordDocument|<(v|o):|lang=)/gi.test(t)?function(t){return t.replace(/[\t\r\n]+/g," ").replace(/\x3c!--[\s\S]*?--\x3e/gi,"").replace(/<v:shape [^>]*>[\s\S]*?.<\/v:shape>/gi,function(t){if(m.opera)return"";try{if(/Bitmap/i.test(t))return"";var e=t.match(/width:([ \d.]*p[tx])/i)[1],n=t.match(/height:([ \d.]*p[tx])/i)[1],i=t.match(/src=\s*"([^"]*)"/i)[1];return'<img width="'+ov(e)+'" height="'+ov(n)+'" src="'+i+'" />'}catch(t){return""}}).replace(/<\/?div[^>]*>/g,"").replace(/v:\w+=(["']?)[^'"]+\1/g,"").replace(/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|xml|meta|link|style|\w+:\w+)(?=[\s\/>]))[^>]*>/gi,"").replace(/<p [^>]*class="?MsoHeading"?[^>]*>(.*?)<\/p>/gi,"<p><strong>$1</strong></p>").replace(/\s+(class|lang|align)\s*=\s*(['"]?)([\w-]+)\2/gi,function(t,e,n,i){return"class"==e&&"MsoListParagraph"==i?t:""}).replace(/<(font|span)[^>]*>(\s*)<\/\1>/gi,function(t,e,n){return n.replace(/[\t\r\n ]+/g," ")}).replace(/(<[a-z][^>]*)\sstyle=(["'])([^\2]*?)\2/gi,function(t,e,n,i){t=[],i=i.replace(/^\s+|\s+$/,"").replace(/&#39;/g,"'").replace(/&quot;/gi,"'").split(/;\s*/g),n=0;for(var o;o=i[n];n++){var r,a=o.split(":");if(2==a.length&&(o=a[0].toLowerCase(),r=a[1].toLowerCase(),!(/^(background)\w*/.test(o)&&0==r.replace(/(initial|\s)/g,"").length||/^(margin)\w*/.test(o)&&/^0\w+$/.test(r)))){switch(o){case"mso-padding-alt":case"mso-padding-top-alt":case"mso-padding-right-alt":case"mso-padding-bottom-alt":case"mso-padding-left-alt":case"mso-margin-alt":case"mso-margin-top-alt":case"mso-margin-right-alt":case"mso-margin-bottom-alt":case"mso-margin-left-alt":case"mso-height":case"mso-width":case"mso-vertical-align-alt":/<table/.test(e)||(t[n]=o.replace(/^mso-|-alt$/g,"")+":"+ov(r));continue;case"horiz-align":t[n]="text-align:"+r;continue;case"vert-align":t[n]="vertical-align:"+r;continue;case"font-color":case"mso-foreground":t[n]="color:"+r;continue;case"mso-background":case"mso-highlight":t[n]="background:"+r;continue;case"mso-default-height":t[n]="min-height:"+ov(r);continue;case"mso-default-width":t[n]="min-width:"+ov(r);continue;case"mso-padding-between-alt":t[n]="border-collapse:separate;border-spacing:"+ov(r);continue;case"text-line-through":"single"!=r&&"double"!=r||(t[n]="text-decoration:line-through");continue;case"mso-zero-height":"yes"==r&&(t[n]="display:none");continue;case"margin":if(!/[1-9]/.test(r))continue}/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?:decor|trans)|top-bar|version|vnd|word-break)/.test(o)||/text\-indent|padding|margin/.test(o)&&/\-[\d.]+/.test(r)||(t[n]=o+":"+a[1])}}return e+(t.length?' style="'+t.join(";").replace(/;{2,}/g,";")+'"':"")}).replace(/[\d.]+(cm|pt)/g,function(t){return n.transUnitToPx(t)})}(t):t},Vv=UM.uNode=function(t){this.type=t.type,this.data=t.data,this.tagName=t.tagName,this.parentNode=t.parentNode,this.attrs=t.attrs||{},this.children=t.children,this.innerHTML=t.innerHTML},Wv={href:1,src:1,_src:1,_href:1,cdata_data:1},Xv={style:1,script:1},Vv.createElement=function(t){return/[<>]/.test(t)?UM.htmlparser(t).children[0]:new Vv({type:"element",children:[],tagName:t})},Vv.createText=function(t,e){return new UM.uNode({type:"text",data:e?t:n.unhtml(t||"")})},Vv.prototype={toHtml:function(t){var e=[];return Qv(this,e,t,0),e.join("")},innerHTML:function(t){if("element"!=this.type||p.$empty[this.tagName])return this;if(n.isString(t)){if(this.children)for(var e,i=0;e=this.children[i++];)e.parentNode=null;for(this.children=[],t=UM.htmlparser(t),i=0;e=t.children[i++];)this.children.push(e),e.parentNode=this;return this}return(t=new UM.uNode({type:"root",children:this.children})).toHtml()},innerText:function(t,e){if("element"!=this.type||p.$empty[this.tagName])return this;if(t){if(this.children)for(var n,i=0;n=this.children[i++];)n.parentNode=null;return this.children=[],this.appendChild(Vv.createText(t,e)),this}return this.toHtml().replace(/<[^>]+>/g,"")},getData:function(){return"element"==this.type?"":this.data},firstChild:function(){return this.children?this.children[0]:null},lastChild:function(){return this.children?this.children[this.children.length-1]:null},previousSibling:function(){for(var t,e=this.parentNode,n=0;t=e.children[n];n++)if(t===this)return 0==n?null:e.children[n-1]},nextSibling:function(){for(var t,e=this.parentNode,n=0;t=e.children[n++];)if(t===this)return e.children[n]},replaceChild:function(t,e){if(this.children){t.parentNode&&t.parentNode.removeChild(t);for(var n,i=0;n=this.children[i];i++)if(n===e)return this.children.splice(i,1,t),e.parentNode=null,t.parentNode=this,t}},appendChild:function(t){if("root"==this.type||"element"==this.type&&!p.$empty[this.tagName]){this.children||(this.children=[]),t.parentNode&&t.parentNode.removeChild(t);for(var e,n=0;e=this.children[n];n++)if(e===t){this.children.splice(n,1);break}return this.children.push(t),t.parentNode=this,t}},insertBefore:function(t,e){if(this.children){t.parentNode&&t.parentNode.removeChild(t);for(var n,i=0;n=this.children[i];i++)if(n===e)return this.children.splice(i,0,t),t.parentNode=this,t}},insertAfter:function(t,e){if(this.children){t.parentNode&&t.parentNode.removeChild(t);for(var n,i=0;n=this.children[i];i++)if(n===e)return this.children.splice(i+1,0,t),t.parentNode=this,t}},removeChild:function(t,e){if(this.children)for(var n,i=0;n=this.children[i];i++)if(n===t){if(this.children.splice(i,1),n.parentNode=null,e&&n.children&&n.children.length)for(var o,r=0;o=n.children[r];r++)this.children.splice(i+r,0,o),o.parentNode=this;return n}},getAttr:function(t){return this.attrs&&this.attrs[t.toLowerCase()]},setAttr:function(t,e){if(t)if(this.attrs||(this.attrs={}),n.isObject(t))for(var i in t)t[i]?this.attrs[i.toLowerCase()]=t[i]:delete this.attrs[i];else e?this.attrs[t.toLowerCase()]=e:delete this.attrs[t];else delete this.attrs},hasAttr:function(t){return null!=(t=this.getAttr(t))},getIndex:function(){for(var t,e=this.parentNode,n=0;t=e.children[n];n++)if(t===this)return n;return-1},getNodeById:function(t){var e;if(this.children&&this.children.length)for(var n=0;e=this.children[n++];)if(e=Sv(e,t))return e},getNodesByTagName:function(t){t=n.trim(t).replace(/[ ]{2,}/g," ").split(" ");var i=[],o=this;return n.each(t,function(t){if(o.children&&o.children.length)for(var e,n=0;e=o.children[n++];)Tv(e,t,i)}),i},getStyle:function(t){var e=this.getAttr("style");return e&&(t=e.match(new RegExp("(^|;)\\s*"+t+":([^;]+)","i")))&&t[0]?t[2]:""},setStyle:function(t,e){function i(t,e){o=o.replace(new RegExp("(^|;)\\s*"+t+":([^;]+;?)","gi"),"$1"),e&&(o=t+":"+n.unhtml(e)+";"+o)}var o=this.getAttr("style");if(o=o||"",n.isObject(t))for(var r in t)i(r,t[r]);else i(t,e);this.setAttr("style",n.trim(o))},hasClass:function(n){if(this.hasAttr("class")){var t=this.getAttr("class").split(/\s+/),i=!1;return g.each(t,function(t,e){e===n&&(i=!0)}),i}return!1},addClass:function(e){var t=null,n=!1;this.hasAttr("class")?((t=(t=this.getAttr("class")).split(/\s+/)).forEach(function(t){t===e&&(n=!0)}),n||t.push(e),this.setAttr("class",t.join(" "))):this.setAttr("class",e)},removeClass:function(t){if(this.hasAttr("class")){var e=(e=this.getAttr("class")).replace(new RegExp("\\b"+t+"\\b","g"),"");this.setAttr("class",n.trim(e).replace(/[ ]{2,}/g," "))}},traversal:function(t){return this.children&&this.children.length&&function t(e,n){if(e.children&&e.children.length)for(var i,o=0;i=e.children[o];)t(i,n),i.parentNode&&(i.children&&i.children.length&&n(i),i.parentNode&&o++);else n(e)}(this,t),this}},UM.htmlparser=function(t,i){function e(t,e){if(h[t.tagName]){var n=d.createElement(h[t.tagName]);t.appendChild(n),n.appendChild(d.createText(e))}else t.appendChild(d.createText(e))}function s(t,e,i){var o;if(o=u[e]){for(var r,a=t;"root"!=a.type;){if(n.isArray(o)?-1!=n.indexOf(o,a.tagName):o==a.tagName){t=a,r=!0;break}a=a.parentNode}r||(t=s(t,n.isArray(o)?o[0]:o))}if(o=new d({parentNode:t,type:"element",tagName:e.toLowerCase(),children:p.$empty[e]?null:[]}),i){for(a={};r=l.exec(i);)a[r[1].toLowerCase()]=c[r[1].toLowerCase()]?r[2]||r[3]||r[4]:n.unhtml(r[2]||r[3]||r[4]);o.attrs=a}return t.children.push(o),p.$empty[e]?t:o}var o=/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\x3e)|(?:([^\s\/>]+)\s*((?:(?:"[^"]*")|(?:'[^']*')|[^"'<>])*)\/?>))/g,l=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,r={b:1,code:1,i:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,span:1,sub:1,img:1,sup:1,font:1,big:1,small:1,iframe:1,a:1,br:1,pre:1};t=t.replace(new RegExp(k.fillChar,"g"),""),i||(t=t.replace(new RegExp("[\\r\\t\\n"+(i?"":" ")+"]*</?(\\w+)\\s*(?:[^>]*)>[\\r\\t\\n"+(i?"":" ")+"]*","g"),function(t,e){return e&&r[e.toLowerCase()]?t.replace(/(^[\n\r]+)|([\n\r]+$)/g,""):t.replace(new RegExp("^[\\r\\n"+(i?"":" ")+"]+"),"").replace(new RegExp("[\\r\\n"+(i?"":" ")+"]+$"),"")}));for(var a,c={href:1,src:1},d=UM.uNode,u={td:"tr",tr:["tbody","thead","tfoot"],tbody:"table",th:"tr",thead:"table",tfoot:"table",caption:"table",li:["ul","ol"],dt:"dl",dd:"dl",option:"select"},h={ol:"li",ul:"li"},f=0,m=0,g=new d({type:"root",children:[]}),b=g;a=o.exec(t);){f=a.index;try{if(m<f&&e(b,t.slice(m,f)),a[3])p.$cdata[b.tagName]?e(b,a[0]):b=s(b,a[3].toLowerCase(),a[4]);else if(a[1]){if("root"!=b.type)if(p.$cdata[b.tagName]&&!p.$cdata[a[1]])e(b,a[0]);else{for(f=b;"element"==b.type&&b.tagName!=a[1].toLowerCase();)if("root"==(b=b.parentNode).type)throw b=f,"break";b=b.parentNode}}else a[2]&&b.children.push(new d({type:"comment",data:a[2],parentNode:b}))}catch(t){}m=o.lastIndex}return m<t.length&&e(b,t.slice(m)),g},UM.filterNode=function(t,e){if(n.isEmptyObject(e))return t;var i,o;for((i=e["-"])&&n.each(i.split(" "),function(t){e[t]="-"}),i=0;o=t.children[i];)$y(o,e),o.parentNode&&i++;return t},UM.commands.inserthtml={execCommand:function(t,e,i){var o,r=this;if(e&&!0!==r.fireEvent("beforeinserthtml",e)){var a,s,l,c;if((t=(o=r.selection.getRange()).document.createElement("div")).style.display="inline",i||(e=UM.htmlparser(e),r.options.filterRules&&UM.filterNode(e,r.options.filterRules),r.filterInputRule(e),e=e.toHtml()),t.innerHTML=n.trim(e),!o.collapsed&&(e=o.startContainer,k.isFillChar(e)&&o.setStartBefore(e),e=o.endContainer,k.isFillChar(e)&&o.setEndAfter(e),o.txtToElmBoundary(),o.endContainer&&1==o.endContainer.nodeType&&(e=o.endContainer.childNodes[o.endOffset])&&k.isBr(e)&&o.setEndAfter(e),0==o.startOffset&&(e=o.startContainer,k.isBoundaryNode(e,"firstChild")&&(e=o.endContainer,o.endOffset==(3==e.nodeType?e.nodeValue.length:e.childNodes.length)&&k.isBoundaryNode(e,"lastChild")&&(r.body.innerHTML="<p>"+(m.ie?"":"<br/>")+"</p>",o.setStart(r.body.firstChild,0).collapse(!0)))),o.collapsed||o.deleteContents(),1==o.startContainer.nodeType))if((e=o.startContainer.childNodes[o.startOffset])&&k.isBlockElm(e)&&(a=e.previousSibling)&&k.isBlockElm(a)){for(o.setEnd(a,a.childNodes.length).collapse();e.firstChild;)a.appendChild(e.firstChild);k.remove(e)}for(i=0,o.inFillChar()&&(e=o.startContainer,k.isFillChar(e)?(o.setStartBefore(e).collapse(!0),k.remove(e)):k.isFillChar(e,!0)&&(e.nodeValue=e.nodeValue.replace(H,""),o.startOffset--,o.collapsed&&o.collapse(!0)));e=t.firstChild;){if(i){for(s=r.document.createElement("p");e&&(3==e.nodeType||!p.$block[e.tagName]);)c=e.nextSibling,s.appendChild(e),e=c;s.firstChild&&(e=s)}if(o.insertNode(e),c=e.nextSibling,!i&&e.nodeType==k.NODE_ELEMENT&&k.isBlockElm(e)&&(s=k.findParent(e,function(t){return k.isBlockElm(t)}))&&"body"!=s.tagName.toLowerCase()&&(!p[s.tagName][e.nodeName]||e.parentNode!==s)){if(p[s.tagName][e.nodeName])for(l=e.parentNode;l!==s;)l=(a=l).parentNode;else a=s;k.breakParent(e,a||l),a=e.previousSibling,k.trimWhiteTextNode(a),a.childNodes.length||k.remove(a),!m.ie&&(d=e.nextSibling)&&k.isBlockElm(d)&&d.lastChild&&!k.isBr(d.lastChild)&&d.appendChild(r.document.createElement("br")),i=1}var d=e.nextSibling;if(!t.firstChild&&d&&k.isBlockElm(d)){o.setStart(d,0).collapse(!0);break}o.setEndAfter(e).collapse()}if(e=o.startContainer,c&&k.isBr(c)&&k.remove(c),k.isBlockElm(e)&&k.isEmptyNode(e))if(c=e.nextSibling)k.remove(e),1==c.nodeType&&p.$block[c.tagName]&&o.setStart(c,0).collapse(!0).shrinkBoundary();else try{e.innerHTML=m.ie?k.fillChar:"<br/>"}catch(t){o.setStartBefore(e),k.remove(e)}try{if(m.ie9below&&1==o.startContainer.nodeType&&!o.startContainer.childNodes[o.startOffset]&&(a=o.startContainer.childNodes[o.startOffset-1])&&1==a.nodeType&&p.$empty[a.tagName]){var u=this.document.createTextNode(k.fillChar);o.insertNode(u).setStart(u,0).collapse(!0)}setTimeout(function(){o.select(!0)})}catch(t){}setTimeout(function(){(o=r.selection.getRange()).scrollIntoView(),r.fireEvent("afterinserthtml")},200)}}},UM.commands.insertimage={execCommand:function(t,e){if((e=n.isArray(e)?e:[e]).length){var i,o,r=[];if(o=e[0],1==e.length)i='<img src="'+o.src+'" '+(o._src?' _src="'+o._src+'" ':"")+(o.data_id?" id='"+o.data_id+"' ":"")+(o.width?' width="'+o.width+'" ':"")+(o.height?' height="'+o.height+'" ':"")+("left"==o.floatStyle||"right"==o.floatStyle?' style="float:'+o.floatStyle+';"':"")+(o.title&&""!=o.title?' title="'+o.title+'"':"")+(o.border&&"0"!=o.border?' border="'+o.border+'"':"")+(o.alt&&""!=o.alt?' alt="'+o.alt+'"':"")+(o.hspace&&"0"!=o.hspace?' hspace = "'+o.hspace+'"':"")+(o.vspace&&"0"!=o.vspace?' vspace = "'+o.vspace+'"':"")+"/>","center"==o.floatStyle&&(i='<p style="text-align: center">'+i+"</p>"),r.push(i);else for(var a=0;o=e[a++];)i="<p "+("center"==o.floatStyle?'style="text-align: center" ':"")+'><img src="'+o.src+'" '+(o.width?'width="'+o.width+'" ':" ")+(o._src?' _src="'+o._src+'" ':"")+(o.height?' height="'+o.height+'" ':"")+(o.data_id?" id="+o.data_id:" ")+' style="'+(o.floatStyle&&"center"!=o.floatStyle?"float:"+o.floatStyle+";":"")+(o.border||"")+'" '+(o.title?' title="'+o.title+'"':"")+" /></p>",r.push(i);this.execCommand("insertHtml",r.join(""),!0)}}},UM.plugins.justify=function(){var n=this;g.each(["justifyleft","justifyright","justifycenter","justifyfull"],function(t,e){n.commands[e]={execCommand:function(t){return this.document.execCommand(t)},queryCommandValue:function(t){var e=this.document.queryCommandValue(t);return!0===e||"true"===e?t.replace(/justify/,""):""},queryCommandState:function(t){return this.document.queryCommandState(t)?1:0}}})},UM.plugins.font=function(){var t,o=this,r={forecolor:"forecolor",backcolor:"backcolor",fontsize:"fontsize",fontfamily:"fontname"},a={forecolor:"color",backcolor:"background-color",fontsize:"font-size",fontfamily:"font-family"},s={forecolor:"color",fontsize:"size",fontfamily:"face"};for(var e in o.setOpt({fontfamily:[{name:"songti",val:"宋体,SimSun"},{name:"yahei",val:"微软雅黑,Microsoft YaHei"},{name:"kaiti",val:"楷体,楷体_GB2312, SimKai"},{name:"heiti",val:"黑体, SimHei"},{name:"lishu",val:"隶书, SimLi"},{name:"andaleMono",val:"andale mono"},{name:"arial",val:"arial, helvetica,sans-serif"},{name:"arialBlack",val:"arial black,avant garde"},{name:"comicSansMs",val:"comic sans ms"},{name:"impact",val:"impact,chicago"},{name:"timesNewRoman",val:"times new roman"},{name:"sans-serif",val:"sans-serif"}],fontsize:[10,12,16,18,24,32,48]}),o.addOutputRule(function(t){n.each(t.getNodesByTagName("font"),function(n){if("font"==n.tagName){var t,e=[];for(t in n.attrs)switch(t){case"size":var i=n.attrs[t];g.each({10:"1",12:"2",16:"3",18:"4",24:"5",32:"6",48:"7"},function(t,e){if(e==i)return i=t,!1}),e.push("font-size:"+i+"px");break;case"color":e.push("color:"+n.attrs[t]);break;case"face":e.push("font-family:"+n.attrs[t]);break;case"style":e.push(n.attrs[t])}n.attrs={style:e.join(";")}}(n.tagName="span")==n.parentNode.tagName&&1==n.parentNode.children.length&&(g.each(n.attrs,function(t,e){n.parentNode.attrs[t]="style"==t?n.parentNode.attrs[t]+e:e}),n.parentNode.removeChild(n,!0))})}),r)t=e,o.commands[t]={execCommand:function(t,e){if("transparent"!=e){if(!(n=this.selection.getRange()).collapsed){if("fontsize"==t&&(e={10:"1",12:"2",16:"3",18:"4",24:"5",32:"6",48:"7"}[(e+"").replace(/px/,"")]),this.document.execCommand(r[t],!1,e),m.gecko&&g.each(this.$body.find("a"),function(t,e){var n=e.parentNode;if(n.lastChild===n.firstChild&&/FONT|SPAN/.test(n.tagName)){var i=n.cloneNode(!1);i.innerHTML=e.innerHTML,g(e).html("").append(i).insertBefore(n),g(n).remove()}}),!m.ie){o=this.selection.getNative().getRangeAt(0).commonAncestorContainer;var n,i=(n=this.selection.getRange()).createBookmark(!0);g(o).find("a").each(function(t,e){var n=e.parentNode;"FONT"==n.nodeName&&((n=n.cloneNode(!1)).innerHTML=e.innerHTML,g(e).html("").append(n))}),n.moveToBookmark(i).select()}return!0}var o=g("<span></span>").css(a[t],e)[0];n.insertNode(o).setStart(o,0).setCursor()}},queryCommandValue:function(t){var e=o.selection.getStart(),i=g(e).css(a[t]);return void 0===i&&(i=g(e).attr(s[t])),i?n.fixColor(t,i).replace(/px/,""):""},queryCommandState:function(t){return this.queryCommandValue(t)}}},UM.plugins.link=function(){this.setOpt("autourldetectinie",!1),m.ie&&!1===this.options.autourldetectinie&&this.addListener("keyup",function(t,e){var n=e.keyCode;if(13==n||32==n){var i=this.selection.getRange().startContainer;13==n?"P"==i.nodeName&&(n=i.previousSibling)&&1==n.nodeType&&(n=n.lastChild)&&"A"==n.nodeName&&!n.getAttribute("_href")&&k.remove(n,!0):32==n&&3==i.nodeType&&/^\s$/.test(i.nodeValue)&&(i=i.previousSibling)&&"A"==i.nodeName&&!i.getAttribute("_href")&&k.remove(i,!0)}}),this.addOutputRule(function(t){g.each(t.getNodesByTagName("a"),function(t,e){var n=e.getAttr("_href");/^(ftp|https?|\/|file)/.test(n)||(n="http://"+n),e.setAttr("href",n),e.setAttr("_href"),""==e.getAttr("title")&&e.setAttr("title")})}),this.addInputRule(function(t){g.each(t.getNodesByTagName("a"),function(t,e){e.setAttr("_href",e.getAttr("href"))})}),this.commands.link={execCommand:function(t,e){var i=this.selection.getRange();if(e._href&&(e._href=n.unhtml(e._href,/[<">'](?:(amp|lt|quot|gt|#39|nbsp);)?/g)),e.href&&(e.href=n.unhtml(e.href,/[<">'](?:(amp|lt|quot|gt|#39|nbsp);)?/g)),i.collapsed){var o=i.startContainer;(o=k.findParentByTagName(o,"a",!0))?(g(o).attr(e),i.selectNode(o).select()):i.insertNode(g("<a>"+e.href+"</a>").attr(e)[0]).select()}else this.document.execCommand("createlink",!1,"_umeditor_link"),n.each(k.getElementsByTagName(this.body,"a",function(t){return"_umeditor_link"==t.getAttribute("href")}),function(t){"_umeditor_link"==g(t).text()&&g(t).text(e.href),k.setAttributes(t,e),i.selectNode(t).select()})},queryCommandState:function(){return this.queryCommandValue("link")?1:0},queryCommandValue:function(){var n,t=this.selection.getStartElementPath();return g.each(t,function(t,e){if("A"==e.nodeName)return n=e,!1}),n}},this.commands.unlink={execCommand:function(){this.document.execCommand("unlink")}}},UM.commands.print={execCommand:function(){var t="editor_print_"+ +new Date;g('<iframe src="" id="'+t+'" name="'+t+'" frameborder="0"></iframe>').attr("id",t).css({width:"0px",height:"0px",overflow:"hidden",float:"left",position:"absolute",top:"-10000px",left:"-10000px"}).appendTo(this.$container.find(".edui-dialog-container"));var e=window.open("",t,"").document;e.open(),e.write("<html><head></head><body><div>"+this.getContent(null,null,!0)+"</div><script>setTimeout(function(){window.print();setTimeout(function(){window.parent.$('#"+t+"').remove();},100);},200);<\/script></body></html>"),e.close()},notNeedUndo:1},UM.plugins.paragraph=function(){this.setOpt("paragraph",{p:"",h1:"",h2:"",h3:"",h4:"",h5:"",h6:""}),this.commands.paragraph={execCommand:function(t,e){return this.document.execCommand("formatBlock",!1,"<"+e+">")},queryCommandValue:function(){try{var t=this.document.queryCommandValue("formatBlock")}catch(t){}return t}}},UM.plugins.horizontal=function(){var i=this;i.commands.horizontal={execCommand:function(){this.document.execCommand("insertHorizontalRule");var t=i.selection.getRange().txtToElmBoundary(!0),e=t.startContainer;if(k.isBody(t.startContainer))(e=t.startContainer.childNodes[t.startOffset])||(e=g("<p></p>").appendTo(t.startContainer).html(m.ie?"&nbsp;":"<br/>")[0]),t.setStart(e,0).setCursor();else{for(;p.$inline[e.tagName]&&e.lastChild===e.firstChild;){var n=e.parentNode;n.appendChild(e.firstChild),n.removeChild(e),e=n}for(;p.$inline[e.tagName];)e=e.parentNode;1==e.childNodes.length&&"HR"==e.lastChild.nodeName?(n=e.lastChild,g(n).insertBefore(e),t.setStart(e,0).setCursor()):(n=g("hr",e)[0],k.breakParent(n,e),(e=n.previousSibling)&&k.isEmptyBlock(e)&&g(e).remove(),t.setStart(n.nextSibling,0).setCursor())}}}},UM.commands.cleardoc={execCommand:function(){var t=this,e=t.selection.getRange();t.body.innerHTML="<p>"+(E?"":"<br/>")+"</p>",e.setStart(t.body.firstChild,0).setCursor(!1,!0),setTimeout(function(){t.fireEvent("clearDoc")},0)}},UM.plugins.undo=function(){function r(t,e){if(t.length!=e.length)return 0;for(var n=0,i=t.length;n<i;n++)if(t[n]!=e[n])return 0;return 1}function t(){this.undoManger.save()}var a,s=this.options.maxUndoCount||20,o=this.options.maxInputCount||20,l=new RegExp(k.fillChar+"|</hr>","gi"),c={ol:1,ul:1,table:1,tbody:1,tr:1,body:1},d=this.options.autoClearEmptyNode;this.undoManger=new function(){this.list=[],this.index=0,this.hasRedo=this.hasUndo=!1,this.undo=function(){if(this.hasUndo)if(this.list[this.index-1]||1!=this.list.length){for(;this.list[this.index].content==this.list[this.index-1].content;)if(this.index--,0==this.index)return this.restore(0);this.restore(--this.index)}else this.reset()},this.redo=function(){if(this.hasRedo){for(;this.list[this.index].content==this.list[this.index+1].content;)if(this.index++,this.index==this.list.length-1)return this.restore(this.index);this.restore(++this.index)}},this.restore=function(){var e=this.editor,t=this.list[this.index],i=UM.htmlparser(t.content.replace(l,""));e.options.autoClearEmptyNode=!1,e.filterInputRule(i,!0),e.options.autoClearEmptyNode=d,e.body.innerHTML=i.toHtml(),e.fireEvent("afterscencerestore"),m.ie&&n.each(k.getElementsByTagName(e.document,"td th caption p"),function(t){k.isEmptyNode(t)&&k.fillNode(e.document,t)});try{var o=new x.Range(e.document,e.body).moveToAddress(t.address);if(m.ie&&o.collapsed&&1==o.startContainer.nodeType){var r=o.startContainer.childNodes[o.startOffset];(!r||1==r.nodeType&&p.$empty[r])&&o.insertNode(e.document.createTextNode(" ")).collapse(!0)}o.select(c[o.startContainer.nodeName.toLowerCase()])}catch(t){}this.update(),this.clearKey(),e.fireEvent("reset",!0)},this.getScene=function(){var t=this.editor,e=t.selection.getRange().createAddress(!1,!0);t.fireEvent("beforegetscene");var n=UM.htmlparser(t.body.innerHTML,!0);return t.options.autoClearEmptyNode=!1,t.filterOutputRule(n,!0),t.options.autoClearEmptyNode=d,n=n.toHtml(),m.ie&&(n=n.replace(/>&nbsp;</g,"><").replace(/\s*</g,"<").replace(/>\s*/g,">")),t.fireEvent("aftergetscene"),{address:e,content:n}},this.save=function(t,e){clearTimeout(a);var n,i=this.getScene(e),o=this.list[this.index];(n=o&&o.content==i.content)&&(n=o=t?1:(o=o.address,n=i.address,o.collapsed!=n.collapsed?0:r(o.startAddress,n.startAddress)&&r(o.endAddress,n.endAddress)?1:0)),n||(this.list=this.list.slice(0,this.index+1),this.list.push(i),this.list.length>s&&this.list.shift(),this.index=this.list.length-1,this.clearKey(),this.update())},this.update=function(){this.hasRedo=!!this.list[this.index+1],this.hasUndo=!!this.list[this.index-1]},this.reset=function(){this.list=[],this.index=0,this.hasRedo=this.hasUndo=!1,this.clearKey()},this.clearKey=function(){h=0}},(this.undoManger.editor=this).addListener("saveScene",function(){var t=Array.prototype.splice.call(arguments,1);this.undoManger.save.apply(this.undoManger,t)}),this.addListener("beforeexeccommand",t),this.addListener("afterexeccommand",t),this.addListener("reset",function(t,e){e||this.undoManger.reset()}),this.commands.redo=this.commands.undo={execCommand:function(t){this.undoManger[t]()},queryCommandState:function(t){return this.undoManger["has"+("undo"==t.toLowerCase()?"Undo":"Redo")]?0:-1},notNeedUndo:1};var u={16:1,17:1,18:1,37:1,38:1,39:1,40:1},h=0,f=!1;this.addListener("ready",function(){g(this.body).on("compositionstart",function(){f=!0}).on("compositionend",function(){f=!1})}),this.addshortcutkey({Undo:"ctrl+90",Redo:"ctrl+89,shift+ctrl+z"});var b=!0;this.addListener("keydown",function(t,e){var n=this;if(!(u[e.keyCode||e.which]||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)){var i=function(t){t.selection.getRange().collapsed&&t.fireEvent("contentchange"),t.undoManger.save(!1,!0),t.fireEvent("selectionchange")};f||(n.selection.getRange().collapsed?(0==n.undoManger.list.length&&n.undoManger.save(!0),clearTimeout(a),a=setTimeout(function(){if(f)var t=setInterval(function(){f||(i(n),clearInterval(t))},300);else i(n)},200),o<=++h&&i(n)):(n.undoManger.save(!1,!0),b=!1))}}),this.addListener("keyup",function(t,e){u[e.keyCode||e.which]||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey||f||b||(this.undoManger.save(!1,!0),b=!0)})},UM.plugins.paste=function(){var a=this;a.addListener("ready",function(){g(a.body).on("cut",function(){!a.selection.getRange().collapsed&&a.undoManger&&a.undoManger.save()}).on(m.ie||m.opera?"keydown":"paste",function(t){(!m.ie&&!m.opera||(t.ctrlKey||t.metaKey)&&"86"==t.keyCode)&&function(i){var o=this.document;if(!o.getElementById("baidu_pastebin")){var r=this.selection.getRange(),a=r.createBookmark(),s=o.createElement("div");s.id="baidu_pastebin",m.webkit&&s.appendChild(o.createTextNode(k.fillChar+k.fillChar)),this.body.appendChild(s),a.start.style.display="",s.style.cssText="position:absolute;width:1px;height:1px;overflow:hidden;left:-1000px;white-space:nowrap;top:"+g(a.start).position().top+"px",r.selectNodeContents(s).select(!0),setTimeout(function(){if(m.webkit)for(var t,e=0,n=o.querySelectorAll("#baidu_pastebin");t=n[e++];){if(!k.isEmptyNode(t)){s=t;break}k.remove(t)}try{s.parentNode.removeChild(s)}catch(t){}r.moveToBookmark(a).select(!0),i(s)},0)}}.call(a,function(t){!function(t){var e;if(t.firstChild){var i,o=k.getElementsByTagName(t,"span");for(e=0;i=o[e++];)"_baidu_cut_start"!=i.id&&"_baidu_cut_end"!=i.id||k.remove(i);if(m.webkit){for(i=t.querySelectorAll("div br"),e=0;o=i[e++];)"DIV"==(o=o.parentNode).tagName&&1==o.childNodes.length&&(o.innerHTML="<p><br/></p>",k.remove(o));for(o=t.querySelectorAll("#baidu_pastebin"),e=0;i=o[e++];){var r=a.document.createElement("p");for(i.parentNode.insertBefore(r,i);i.firstChild;)r.appendChild(i.firstChild);k.remove(i)}for(i=t.querySelectorAll("meta"),e=0;o=i[e++];)k.remove(o);for(i=t.querySelectorAll("br"),e=0;o=i[e++];)/^apple-/i.test(o.className)&&k.remove(o)}if(m.gecko)for(i=t.querySelectorAll("[_moz_dirty]"),e=0;o=i[e++];)o.removeAttribute("_moz_dirty");if(!m.ie)for(i=t.querySelectorAll("span.Apple-style-span"),e=0;o=i[e++];)k.remove(o,!0);e=t.innerHTML,e=UM.filterWord(e),t=UM.htmlparser(e),a.options.filterRules&&UM.filterNode(t,a.options.filterRules),a.filterInputRule(t),m.webkit&&((e=t.lastChild())&&"element"==e.type&&"br"==e.tagName&&t.removeChild(e),n.each(a.body.querySelectorAll("div"),function(t){k.isEmptyBlock(t)&&k.remove(t)})),e={html:t.toHtml()},a.fireEvent("beforepaste",e,t),e.html&&(a.execCommand("insertHtml",e.html,!0),a.fireEvent("afterpaste",e))}}(t)})})})},UM.plugins.list=function(){this.setOpt({insertorderedlist:{decimal:"","lower-alpha":"","lower-roman":"","upper-alpha":"","upper-roman":""},insertunorderedlist:{circle:"",disc:"",square:""}}),this.addInputRule(function(t){n.each(t.getNodesByTagName("li"),function(t){0==t.children.length&&t.parentNode.removeChild(t)})}),this.commands.insertorderedlist=this.commands.insertunorderedlist={execCommand:function(t){this.document.execCommand(t);var e=(t=this.selection.getRange()).createBookmark(!0);return this.$body.find("ol,ul").each(function(t,e){var i=e.parentNode;"P"==i.tagName&&i.lastChild===i.firstChild&&(g(e).children().each(function(t,e){var n=i.cloneNode(!1);g(n).append(e.innerHTML),g(e).html("").append(n)}),g(e).insertBefore(i),g(i).remove()),p.$inline[i.tagName]&&("SPAN"==i.tagName&&g(e).children().each(function(t,e){var n=i.cloneNode(!1);if("P"!=e.firstChild.nodeName){for(;e.firstChild;)n.appendChild(e.firstChild);g("<p></p>").appendTo(e).append(n)}else{for(;e.firstChild;)n.appendChild(e.firstChild);g(e.firstChild).append(n)}}),k.remove(i,!0))}),t.moveToBookmark(e).select(),!0},queryCommandState:function(t){return this.document.queryCommandState(t)}}},QC_textarea=function(t,e){var n=e.ownerDocument.createElement("textarea");return n.style.cssText="resize:none;border:0;padding:0;margin:0;overflow-y:auto;outline:0",m.ie&&m.version<8&&(n.style.width=e.offsetWidth+"px",n.style.height=e.offsetHeight+"px",e.onresize=function(){n.style.width=e.offsetWidth+"px",n.style.height=e.offsetHeight+"px"}),e.appendChild(n),{container:n,setContent:function(t){n.value=t},getContent:function(){return n.value},select:function(){var t;m.ie?((t=n.createTextRange()).collapse(!0),t.select()):(n.setSelectionRange(0,0),n.focus())},dispose:function(){e.removeChild(n),e=n=e.onresize=null}}},UM.plugins.source=function(){var e,n=this,i=!1;this.options.sourceEditor="textarea",n.setOpt({sourceEditorFirst:!1});var o,r=n.getContent;n.commands.source={execCommand:function(){if(i=!i){o=n.selection.getRange().createAddress(!1,!0),n.undoManger&&n.undoManger.save(!0),m.gecko&&(n.body.contentEditable=!1),n.body.style.cssText+=";position:absolute;left:-32768px;top:-32768px;",n.fireEvent("beforegetcontent");var t=UM.htmlparser(n.body.innerHTML);n.filterOutputRule(t),t.traversal(function(t){if("element"==t.type)switch(t.tagName){case"td":case"th":case"caption":t.children&&1==t.children.length&&"br"==t.firstChild().tagName&&t.removeChild(t.firstChild());break;case"pre":t.innerText(t.innerText().replace(/&nbsp;/g," "))}}),n.fireEvent("aftergetcontent"),t=t.toHtml(!0),(e=QC_textarea(n,n.body.parentNode)).setContent(t),g(e.container).width(g(n.body).width()+parseInt(g(n.body).css("padding-left"))+parseInt(g(n.body).css("padding-right"))).height(g(n.body).height()),setTimeout(function(){e.select()}),n.getContent=function(){return e.getContent()||"<p>"+(m.ie?"":"<br/>")+"</p>"}}else{n.$body.css({position:"",left:"",top:""}),t=(t=e.getContent()||"<p>"+(m.ie?"":"<br/>")+"</p>").replace(RegExp("[\\r\\t\\n ]*</?(\\w+)\\s*(?:[^>]*)>","g"),function(t,e){return e&&!p.$inlineWithA[e.toLowerCase()]?t.replace(/(^[\n\r\t ]*)|([\n\r\t ]*$)/g,""):t.replace(/(^[\n\r\t]*)|([\n\r\t]*$)/g,"")}),n.setContent(t),e.dispose(),e=null,n.getContent=r,n.body.firstChild||(n.body.innerHTML="<p>"+(m.ie?"":"<br/>")+"</p>"),n.undoManger&&n.undoManger.save(!0),m.gecko&&(n.body.contentEditable=!0);try{n.selection.getRange().moveToAddress(o).select()}catch(t){}Object(_index__WEBPACK_IMPORTED_MODULE_1__.initMap)()}this.fireEvent("sourcemodechanged",i)},queryCommandState:function(){return 0|i},notNeedUndo:1};var a=n.queryCommandState;n.queryCommandState=function(t){return t=t.toLowerCase(),i?t in{source:1,fullscreen:1}?a.apply(this,arguments):-1:a.apply(this,arguments)}},UM.plugins.enterkey=function(){var a,s=this,r=s.options.enterTag;s.addListener("keyup",function(t,e){if(13==(e.keyCode||e.which)){var n,i=s.selection.getRange(),o=i.startContainer;if(m.ie)s.fireEvent("saveScene",!0,!0);else{if(/h\d/i.test(a)){if(m.gecko)k.findParentByTagName(o,"h1 h2 h3 h4 h5 h6 blockquote caption table".split(" "),!0)||(s.document.execCommand("formatBlock",!1,"<p>"),n=1);else if(1==o.nodeType){var r;o=s.document.createTextNode("");if(i.insertNode(o),r=k.findParentByTagName(o,"div",!0)){for(n=s.document.createElement("p");r.firstChild;)n.appendChild(r.firstChild);r.parentNode.insertBefore(n,r),k.remove(r),i.setStartBefore(o).setCursor(),n=1}k.remove(o)}s.undoManger&&n&&s.undoManger.save()}m.opera&&i.select()}}}),s.addListener("keydown",function(t,e){if(13==(e.keyCode||e.which))if(s.fireEvent("beforeenterkeydown"))k.preventDefault(e);else{s.fireEvent("saveScene",!0,!0),a="";var n=s.selection.getRange();if(!n.collapsed){var i=n.startContainer,o=n.endContainer;i=k.findParentByTagName(i,"td",!0),o=k.findParentByTagName(o,"td",!0);if(i&&o&&i!==o||!i&&o||i&&!o)return void(e.preventDefault?e.preventDefault():e.returnValue=!1)}if(k.findParentByTagName(n.startContainer,["pre"]))return e.preventDefault(),s.execCommand("inserthtml","<br>\n"),!1;"p"!=r||m.ie||((i=k.findParentByTagName(n.startContainer,"ol ul p h1 h2 h3 h4 h5 h6 blockquote caption".split(" "),!0))||m.opera?(a=i.tagName,"p"==i.tagName.toLowerCase()&&m.gecko&&k.removeDirtyAttr(i)):(s.document.execCommand("formatBlock",!1,"<p>"),m.gecko&&(n=s.selection.getRange(),(i=k.findParentByTagName(n.startContainer,"p",!0))&&k.removeDirtyAttr(i))))}}),m.ie&&s.addListener("setDisabled",function(){g(s.body).find("p").each(function(t,e){k.isEmptyBlock(e)&&(e.innerHTML="&nbsp;")})})},UM.commands.preview={execCommand:function(){var t=window.open("","_blank").document,e=this.getContent(null,null,!0),n=(this.getOpt("UMEDITOR_HOME_URL"),"\n/** 加载数学公式 */\n".concat(raw_loader_dialogs_formula_mathquill_min_js__WEBPACK_IMPORTED_MODULE_2__.a,"\nvar MQ = MathQuill.getInterface(2);\n\n$('.mathquill-embedded-latex').each(function (key, v) {\n    MQ.StaticMath(v)\n})\n\n/** 加载百度地图 */\nopener.initMap(document)"));t.open(),t.write("<!DOCTYPE html>\n<html>\n    <head>    \n        <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/default.min.css'>\n        <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js'><\/script>\n        <script src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js'><\/script>\n        <style>\n            ".concat(_dialogs_formula_formula_template__WEBPACK_IMPORTED_MODULE_0__.b,"\n        </style>\n        <script>hljs.initHighlightingOnLoad();<\/script>\n    </head>\n    <body>\n        <div>").concat(e,'</div>\n    </body>\n    <script type="text/javascript">\n        ').concat(n,"\n    <\/script>\n</html>")),t.close()},notNeedUndo:1},UM.plugins.basestyle=function(){var n=this;n.addshortcutkey({Bold:"ctrl+66",Italic:"ctrl+73",Underline:"ctrl+shift+85",strikeThrough:"ctrl+shift+83"}),n.addOutputRule(function(t){g.each(t.getNodesByTagName("b i u strike s"),function(t,e){switch(e.tagName){case"b":e.tagName="strong";break;case"i":e.tagName="em";break;case"u":e.tagName="span",e.setStyle("text-decoration","underline");break;case"s":case"strike":e.tagName="span",e.setStyle("text-decoration","line-through")}})}),g.each("bold underline superscript subscript italic strikethrough".split(" "),function(t,e){n.commands[e]={execCommand:function(t){var e=this.selection.getRange();return e.collapsed&&1!=this.queryCommandState(t)?(t=this.document.createElement({bold:"strong",underline:"u",superscript:"sup",subscript:"sub",italic:"em",strikethrough:"strike"}[t]),e.insertNode(t).setStart(t,0).setCursor(!1),!0):this.document.execCommand(t)},queryCommandState:function(n){if(m.gecko)return this.document.queryCommandState(n);var t=this.selection.getStartElementPath(),i=!1;return g.each(t,function(t,e){switch(n){case"bold":if("STRONG"==e.nodeName||"B"==e.nodeName)return!(i=1);break;case"underline":if("U"==e.nodeName||"SPAN"==e.nodeName&&"underline"==g(e).css("text-decoration"))return!(i=1);break;case"superscript":if("SUP"==e.nodeName)return!(i=1);break;case"subscript":if("SUB"==e.nodeName)return!(i=1);break;case"italic":if("EM"==e.nodeName||"I"==e.nodeName)return!(i=1);break;case"strikethrough":if("S"==e.nodeName||"STRIKE"==e.nodeName||"SPAN"==e.nodeName&&"line-through"==g(e).css("text-decoration"))return!(i=1)}}),i}}})},UM.plugins.video=function(){function s(t,e,n,i,o,r){return r?'<embed type="application/x-shockwave-flash" class="edui-faked-video" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+t+'" width="'+e+'" height="'+n+'"'+(o?' style="float:'+o+'"':"")+' wmode="transparent" play="true" loop="false" menu="false" allowscriptaccess="never" allowfullscreen="true" >':"<img "+(i?'id="'+i+'"':"")+' width="'+e+'" height="'+n+'" _url="'+t+'" class="edui-faked-video" src="'+l.options.UMEDITOR_HOME_URL+'themes/default/images/spacer.gif" style="background:url('+l.options.UMEDITOR_HOME_URL+"themes/default/images/videologo.gif) no-repeat center center; border:1px solid gray;"+(o?"float:"+o+";":"")+'" />'}function e(t,i){n.each(t.getNodesByTagName(i?"img":"embed"),function(t){if("edui-faked-video"==t.getAttr("class")){var e=s(i?t.getAttr("_url"):t.getAttr("src"),t.getAttr("width"),t.getAttr("height"),null,t.getStyle("float")||"",i);t.parentNode.replaceChild(UM.uNode.createElement(e),t)}})}var l=this;l.addOutputRule(function(t){e(t,!0)}),l.addInputRule(function(t){e(t)}),l.commands.insertvideo={execCommand:function(t,e){for(var i,o=[],r=0,a=(e=n.isArray(e)?e:[e]).length;r<a;r++)(i=e[r]).url=n.unhtml(i.url,/[<">'](?:(amp|lt|quot|gt|#39|nbsp);)?/g),o.push(s(i.url,i.width||420,i.height||280,"tmpVedio"+r,i.align,!1));l.execCommand("inserthtml",o.join(""),!0)},queryCommandState:function(){var t=l.selection.getRange().getClosedNode();return t&&"edui-faked-video"==t.className?1:0}}},UM.plugins.selectall=function(){this.commands.selectall={execCommand:function(){var t=this.body,e=this.selection.getRange();e.selectNodeContents(t),k.isEmptyBlock(t)&&(m.opera&&t.firstChild&&1==t.firstChild.nodeType&&e.setStartAtFirst(t.firstChild),e.collapse(!0)),e.select(!0)},notNeedUndo:1},this.addshortcutkey({selectAll:"ctrl+65"})},UM.plugins.removeformat=function(){this.setOpt({removeFormatTags:"b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var",removeFormatAttributes:"class,style,lang,width,height,align,hspace,valign"}),this.commands.removeformat={execCommand:function(t,e,o,n,r){function a(t){if(3==t.nodeType||"span"!=t.tagName.toLowerCase())return 0;if(m.ie){var e=t.attributes;if(e.length){t=0;for(var n=e.length;t<n;t++)if(e[t].specified)return 0;return 1}}return!t.attributes.length}var s=new RegExp("^(?:"+(e||this.options.removeFormatTags).replace(/,/g,"|")+")$","i"),l=o?[]:(n||this.options.removeFormatAttributes).split(",");t=new x.Range(this.document);var c,d,u=function(t){return 1==t.nodeType};(t=this.selection.getRange()).collapsed||(function(t){var e=t.createBookmark();for(t.collapsed&&t.enlarge(!0),r||((i=k.findParentByTagName(t.startContainer,"a",!0))&&t.setStartBefore(i),(i=k.findParentByTagName(t.endContainer,"a",!0))&&t.setEndAfter(i)),i=(c=t.createBookmark()).start;(d=i.parentNode)&&!k.isBlockElm(d);)k.breakParent(i,d),k.clearEmptySibling(i);if(c.end){for(i=c.end;(d=i.parentNode)&&!k.isBlockElm(d);)k.breakParent(i,d),k.clearEmptySibling(i);for(var n,i=k.getNextDomNode(c.start,!1,u);i&&i!=c.end;)n=k.getNextDomNode(i,!0,u),p.$empty[i.tagName.toLowerCase()]||k.isBookmarkNode(i)||(s.test(i.tagName)?o?(k.removeStyle(i,o),a(i)&&"text-decoration"!=o&&k.remove(i,!0)):k.remove(i,!0):p.$tableContent[i.tagName]||p.$list[i.tagName]||(k.removeAttributes(i,l),a(i)&&k.remove(i,!0))),i=n}for(i=c.start.parentNode,!k.isBlockElm(i)||p.$tableContent[i.tagName]||p.$list[i.tagName]||k.removeAttributes(i,l),i=c.end.parentNode,c.end&&k.isBlockElm(i)&&!p.$tableContent[i.tagName]&&!p.$list[i.tagName]&&k.removeAttributes(i,l),t.moveToBookmark(c).moveToBookmark(e),i=t.startContainer,n=t.collapsed;1==i.nodeType&&k.isEmptyNode(i)&&p.$removeEmpty[i.tagName];)e=i.parentNode,t.setStartBefore(i),t.startContainer===t.endContainer&&t.endOffset--,k.remove(i),i=e;if(!n)for(i=t.endContainer;1==i.nodeType&&k.isEmptyNode(i)&&p.$removeEmpty[i.tagName];)e=i.parentNode,t.setEndBefore(i),k.remove(i),i=e}(t),t.select())}}},UM.plugins.keystrokes=function(){var a=this,s=!0;a.addListener("keydown",function(t,e){var n=e.keyCode||e.which,i=a.selection.getRange();if(!(i.collapsed||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)&&(65<=n&&n<=90||48<=n&&n<=57||96<=n&&n<=111||{13:1,8:1,46:1}[n])){var o=i.startContainer;if(k.isFillChar(o)&&i.setStartBefore(o),o=i.endContainer,k.isFillChar(o)&&i.setEndAfter(o),i.txtToElmBoundary(),i.endContainer&&1==i.endContainer.nodeType&&(o=i.endContainer.childNodes[i.endOffset])&&k.isBr(o)&&i.setEndAfter(o),0==i.startOffset&&(o=i.startContainer,k.isBoundaryNode(o,"firstChild")&&(o=i.endContainer,i.endOffset==(3==o.nodeType?o.nodeValue.length:o.childNodes.length)&&k.isBoundaryNode(o,"lastChild"))))return a.fireEvent("saveScene"),a.body.innerHTML="<p>"+(m.ie?"":"<br/>")+"</p>",i.setStart(a.body.firstChild,0).setCursor(!1,!0),void a._selectionChange()}if(8==n){if(i=a.selection.getRange(),s=i.collapsed,a.fireEvent("delkeydown",e))return;var r;if(i.collapsed&&i.inFillChar()&&(o=i.startContainer,k.isFillChar(o)?(i.setStartBefore(o).shrinkBoundary(!0).collapse(!0),k.remove(o)):(o.nodeValue=o.nodeValue.replace(new RegExp("^"+k.fillChar),""),i.startOffset--,i.collapse(!0).select(!0))),o=i.getClosedNode())return a.fireEvent("saveScene"),i.setStartBefore(o),k.remove(o),i.setCursor(),a.fireEvent("saveScene"),void k.preventDefault(e);if(!m.ie&&(o=k.findParentByTagName(i.startContainer,"table",!0),r=k.findParentByTagName(i.endContainer,"table",!0),o&&!r||!o&&r||o!==r))return void e.preventDefault();if(o=i.startContainer,i.collapsed&&1==o.nodeType&&(o=o.childNodes[i.startOffset-1])&&1==o.nodeType&&"BR"==o.tagName&&(a.fireEvent("saveScene"),i.setStartBefore(o).collapse(!0),k.remove(o),i.select(),a.fireEvent("saveScene")),m.chrome&&i.collapsed){for(;0==i.startOffset&&!k.isEmptyBlock(i.startContainer);)i.setStartBefore(i.startContainer);(o=i.startContainer.childNodes[i.startOffset-1])&&"BR"==o.nodeName&&(i.setStartBefore(o),a.fireEvent("saveScene"),g(o).remove(),i.setCursor(),a.fireEvent("saveScene"))}}if(m.gecko&&46==n&&((n=a.selection.getRange()).collapsed&&(o=n.startContainer,k.isEmptyBlock(o)))){for(n=o.parentNode;1==k.getChildCount(n)&&!k.isBody(n);)n=(o=n).parentNode;o===n.lastChild&&e.preventDefault()}}),a.addListener("keyup",function(t,e){var n;if(8==(e.keyCode||e.which)&&!this.fireEvent("delkeyup")){if((n=this.selection.getRange()).collapsed){var i;if((i=k.findParentByTagName(n.startContainer,"h1 h2 h3 h4 h5 h6".split(" "),!0))&&k.isEmptyBlock(i)){var o=i.previousSibling;if(o&&"TABLE"!=o.nodeName)return k.remove(i),void n.setStartAtLast(o).setCursor(!1,!0);if((o=i.nextSibling)&&"TABLE"!=o.nodeName)return k.remove(i),void n.setStartAtFirst(o).setCursor(!1,!0)}k.isBody(n.startContainer)&&(i=k.createElement(this.document,"p",{innerHTML:m.ie?k.fillChar:"<br/>"}),n.insertNode(i).setStart(i,0).setCursor(!1,!0))}!s&&(3==n.startContainer.nodeType||1==n.startContainer.nodeType&&k.isEmptyBlock(n.startContainer))&&(m.ie?(i=n.document.createElement("span"),n.insertNode(i).setStartBefore(i).collapse(!0),n.select(),k.remove(i)):n.select())}})},UM.plugins.autosave=function(){function t(t){var e;new Date-i<20||(t.hasContents()?(i=new Date,t._saveFlag=null,e=n.body.innerHTML,!1!==t.fireEvent("beforeautosave",{content:e})&&(l.saveLocalData(o,e),t.fireEvent("afterautosave",{content:e}))):o&&l.removeItem(o))}var n=this,i=new Date,o=null;n.setOpt("saveInterval",500);var r,a,s,l=UM.LocalStorage=(a=window.localStorage||((r=document.createElement("div")).style.display="none",r.addBehavior?(r.addBehavior("#default#userdata"),{getItem:function(t){var e=null;try{document.body.appendChild(r),r.load(s),e=r.getAttribute(t),document.body.removeChild(r)}catch(t){}return e},setItem:function(t,e){document.body.appendChild(r),r.setAttribute(t,e),r.save(s),document.body.removeChild(r)},removeItem:function(t){document.body.appendChild(r),r.removeAttribute(t),r.save(s),document.body.removeChild(r)}}):null)||null,s="localStorage",{saveLocalData:function(t,e){return!(!a||!e||(a.setItem(t,e),0))},getLocalData:function(t){return a?a.getItem(t):null},removeItem:function(t){a&&a.removeItem(t)}});n.addListener("ready",function(){var t;t=n.key?n.key+"-drafts-data":(n.container.parentNode.id||"ue-common")+"-drafts-data",o=(location.protocol+location.host+location.pathname).replace(/[.:\/]/g,"_")+t}),n.addListener("contentchange",function(){o&&(n._saveFlag&&window.clearTimeout(n._saveFlag),0<n.options.saveInterval?n._saveFlag=window.setTimeout(function(){t(n)},n.options.saveInterval):t(n))}),n.commands.clearlocaldata={execCommand:function(t,e){o&&l.getLocalData(o)&&l.removeItem(o)},notNeedUndo:!0,ignoreContentChange:!0},n.commands.getlocaldata={execCommand:function(t,e){return o&&l.getLocalData(o)||""},notNeedUndo:!0,ignoreContentChange:!0},n.commands.drafts={execCommand:function(t,e){o&&(n.body.innerHTML=l.getLocalData(o)||"<p>"+(m.ie?"&nbsp;":"<br/>")+"</p>",n.focus(!0))},queryCommandState:function(){return o?null===l.getLocalData(o)?-1:0:-1},notNeedUndo:!0,ignoreContentChange:!0}},UM.plugins.autoupload=function(){var a=this;a.setOpt("pasteImageEnabled",!0),a.setOpt("dropFileEnabled",!0);var b=function b(_b,c){var d=new FormData;d.append(c.options.imageFieldName||"upfile",_b,_b.name||"blob."+_b.type.substr(6)),d.append("type","ajax");var h=new XMLHttpRequest;h.open("post",a.options.imageUrl,!0),h.setRequestHeader("X-Requested-With","XMLHttpRequest"),h.addEventListener("load",function(b){try{var d=eval("("+b.target.response+")").url,e=a.options.imagePath+d;c.execCommand("insertimage",{src:e,_src:e})}catch(t){}}),h.send(d)};a.addListener("ready",function(){if(window.FormData&&window.FileReader){var t=function(t){var e=!1;if(t="paste"==t.type?(t=t.originalEvent).clipboardData&&t.clipboardData.items&&1==t.clipboardData.items.length&&/^image\//.test(t.clipboardData.items[0].type)?t.clipboardData.items:null:(t=t.originalEvent).dataTransfer&&t.dataTransfer.files?t.dataTransfer.files:null){for(var n,i=t.length;i--;)(n=t[i]).getAsFile&&(n=n.getAsFile()),n&&0<n.size&&/image\/\w+/i.test(n.type)&&(b(n,a),e=!0);if(e)return!1}};a.getOpt("pasteImageEnabled")&&a.$body.on("paste",t),a.getOpt("dropFileEnabled")&&a.$body.on("drop",t),a.$body.on("dragover",function(t){if("Files"==t.originalEvent.dataTransfer.types[0])return!1})}})},UM.plugins.formula=function(){function i(){return r.$body.find("iframe.edui-formula-active")[0]||null}function o(){var t=i();t&&t.contentWindow.formula.blur()}var r=this;r.addInputRule(function(t){g.each(t.getNodesByTagName("span"),function(t,e){if(e.hasClass("mathquill-embedded-latex")){for(var i,o="";i=e.firstChild();)o+=i.data,e.removeChild(i);e.tagName="iframe",e.setAttr({frameborder:"1",src:"about:blank","data-latex":n.unhtml(o)})}})}),r.addOutputRule(function(t){var n=-1;g.each(t.getNodesByTagName("iframe"),function(t,e){e.hasClass("mathquill-embedded-latex")&&(e.tagName="span",e.appendChild(UM.uNode.createText(e.getAttr("data-latex"))),e.setAttr({frameborder:"0",src:"","data-latex":""}),Object(_dialogs_formula_formula_template__WEBPACK_IMPORTED_MODULE_0__.a)($("iframe.mathquill-embedded-latex")[++n]))})}),r.addListener("click",function(){o()}),r.addListener("afterexeccommand",function(t,e){"formula"!=e&&o()}),r.commands.formula={execCommand:function(t,e){var n=i();n?n.contentWindow.formula.insertLatex(e):(r.execCommand("inserthtml",'<span class="mathquill-embedded-latex">'+e+"</span>"),m.ie&&m.ie9below&&setTimeout(function(){var t=r.selection.getRange(),e=t.startContainer;1!=e.nodeType||e.childNodes[t.startOffset]||(t.insertNode(r.document.createTextNode(" ")),t.setCursor())},100))},queryCommandState:function(t){return 0},queryCommandValue:function(t){return(t=i())&&t.contentWindow.formula.getLatex()}}},UM.plugins.xssFilter=function(){function n(n){var i=n.tagName,t=n.attrs;if(!o.hasOwnProperty(i))return n.parentNode.removeChild(n),!1;UM.utils.each(t,function(t,e){-1===UM.utils.indexOf(o[i],e)&&n.setAttr(e)})}var i,t=UMEDITOR_CONFIG,o=t.whiteList;o&&t.xssFilterRules&&(this.options.filterRules=(i={},UM.utils.each(o,function(t,e){i[e]=function(t){return n(t)}}),i));var r=[];UM.utils.each(o,function(t,e){r.push(e)}),o&&t.inputXssFilter&&this.addInputRule(function(t){t.traversal(function(t){if("element"!==t.type)return!1;n(t)})}),o&&t.outputXssFilter&&this.addOutputRule(function(t){t.traversal(function(t){if("element"!==t.type)return!1;n(t)})})},function(l){l.parseTmpl=function(t,e){var n="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(t,e){return"',obj."+e.replace(/\\'/g,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(t,e){return"');"+e.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');";n=new Function("obj",n);return e?n(e):n},l.extend2=function(t,e){for(var n=arguments,i="boolean"==l.type(n[n.length-1])&&n[n.length-1],o="boolean"==l.type(n[n.length-1])?n.length-1:n.length,r=1;r<o;r++){var a,s=n[r];for(a in s)i&&t.hasOwnProperty(a)||(t[a]=s[a])}return t},l.IE6=!!window.ActiveXObject&&6==parseFloat(navigator.userAgent.match(/msie (\d+)/i)[1]);function r(){}var o=[];r.prototype={on:function(t,e){return this.root().on(t,l.proxy(e,this)),this},off:function(t,e){return this.root().off(t,l.proxy(e,this)),this},trigger:function(t,e){return!1!==this.root().trigger(t,e)&&this},root:function(t){return this._$el||(this._$el=t)},destroy:function(){},data:function(t,e){return void 0!==e?(this.root().data("edui"+t,e),this):this.root().data("edui"+t)},register:function(t,e,n){o.push({evtname:t,$els:l.isArray(e)?e:[e],handler:l.proxy(n,e)})}},l.fn.edui=function(t){return t?this.data("eduiwidget",t):this.data("eduiwidget")};var a=1;UM.ui={define:function(i,t,e){var o=UM.ui[i]=function(t,e,n){return t.prototype=l.extend2(l.extend({},e),(UM.ui[n]||r).prototype,!0),t.prototype.supper=(UM.ui[n]||r).prototype,UM.ui[n]&&UM.ui[n].prototype.defaultOpt&&(t.prototype.defaultOpt=l.extend({},UM.ui[n].prototype.defaultOpt,t.prototype.defaultOpt||{})),t}(function(t,e){var n=function(){};if(l.extend(n.prototype,o.prototype,{guid:i+a++,widgetName:i}),n=new n,"string"==l.type(t))return n.init&&n.init({}),n.root().edui(n),n.root().find("a").click(function(t){t.preventDefault()}),n.root()["edui"+i].apply(n.root(),arguments);e&&n.root(e),n.init&&n.init(!t||l.isPlainObject(t)?l.extend2(t||{},n.defaultOpt||{},!0):t);try{n.root().find("a").click(function(t){t.preventDefault()})}catch(t){}return n.root().edui(n)},t,e);!function(s,t){l["edui"+t]=s,l.fn["edui"+t]=function(o){var r,a=Array.prototype.slice.call(arguments,1);return this.each(function(t,e){var n=l(e),i=n.edui();if(i||(s(o&&l.isPlainObject(o)?o:{},n),n.edui(i)),"string"==l.type(o))if("this"==o)r=i;else{if((r=i[o].apply(i,a))!==i&&void 0!==r)return!1;r=null}}),null!==r?r:this}}(o,i)}},l(function(){l(document).on("click mouseup mousedown dblclick mouseover",function(i){l.each(o,function(t,n){n.evtname==i.type&&l.each(n.$els,function(t,e){e[0]===i.target||l.contains(e[0],i.target)||n.handler(i)})})})})}(jQuery),UM.ui.define("button",{tpl:'<<%if : !${texttype}%>div class="edui-btn edui-btn-${icon} <%if : ${name}%>edui-btn-name-${name}<%/if%>" unselectable="on" onmousedown="return false" <%else%>a class="edui-text-btn"<%/if%><% if: ${title} %> data-original-title="${title}" <%/if%>> <% if: ${icon} %><div unselectable="on" class="edui-icon-${icon} edui-icon"></div><%/if%><%if: ${text} %><span unselectable="on" onmousedown="return false" class="edui-button-label">${text}</span><%/if%><%if: ${caret} && ${text}%><span class="edui-button-spacing"></span><%/if%><% if: ${caret} %><span unselectable="on" onmousedown="return false" class="edui-caret"></span><%/if%></<%if: !${texttype}%>div<%else%>a<%/if%>>',defaultOpt:{text:"",title:"",icon:"",width:"",caret:!1,texttype:!1,click:function(){}},init:function(e){var n=this;return n.root(g(UM.utils.render(n.tpl,e))).click(function(t){n.wrapclick(e.click,t)}),n.root().hover(function(){n.root().hasClass("edui-disabled")||n.root().toggleClass("edui-hover")}),n},wrapclick:function(t,e){return this.disabled()||(this.root().trigger("wrapclick"),g.proxy(t,this,e)()),this},label:function(t){return void 0===t?this.root().find(".edui-button-label").text():(this.root().find(".edui-button-label").text(t),this)},disabled:function(t){return void 0===t?this.root().hasClass("edui-disabled"):(this.root().toggleClass("edui-disabled",t),this.root().hasClass("edui-disabled")&&this.root().removeClass("edui-hover"),this)},active:function(t){return void 0===t?this.root().hasClass("edui-active"):(this.root().toggleClass("edui-active",t),this)},mergeWith:function(e){var t=this;t.data("$mergeObj",e),e.edui().data("$mergeObj",t.root()),g.contains(document.body,e[0])||e.appendTo(t.root()),t.on("click",function(){t.wrapclick(function(){e.edui().show()})}).register("click",t.root(),function(t){e.hide()})}}),UM.ui.define("toolbar",{tpl:'<div class="edui-toolbar"  ><div class="edui-btn-toolbar" unselectable="on" onmousedown="return false"  ></div></div>',init:function(){var t=this.root(g(this.tpl));this.data("$btnToolbar",t.find(".edui-btn-toolbar"))},appendToBtnmenu:function(t){var n=this.data("$btnToolbar");t=g.isArray(t)?t:[t],g.each(t,function(t,e){n.append(e)})}}),UM.ui.define("menu",{show:function(t,e,n,i,o){n=n||"position",!1!==this.trigger("beforeshow")&&(this.root().css(g.extend({display:"block"},t?{top:t[n]().top+("right"==e?0:t.outerHeight())-(i||0),left:t[n]().left+("right"==e?t.outerWidth():0)-(o||0)}:{})),this.trigger("aftershow"))},hide:function(t){var e;!1!==this.trigger("beforehide")&&((e=this.root().data("parentmenu"))&&(e.data("parentmenu")||t)&&e.edui().hide(),this.root().css("display","none"),this.trigger("afterhide"))},attachTo:function(t){var e=this;t.data("$mergeObj")||(t.data("$mergeObj",e.root()),t.on("wrapclick",function(t){e.show()}),e.register("click",t,function(t){e.hide()}),e.data("$mergeObj",t))}}),UM.ui.define("dropmenu",{tmpl:'<ul class="edui-dropdown-menu" aria-labelledby="dropdownMenu" ><%for: ${data} as ${ci}%><%if: ${ci.divider}%><li class="edui-divider"></li><%else%><li class="${ci.active} || ${ci.disabled}" data-value="${ci.value}"><a href="#" tabindex="-1"><em class="edui-dropmenu-checkbox"><i class="edui-icon-ok"></i></em>${ci.label}</a></li><%/if%><%/for%></ul>',defaultOpt:{data:[],click:function(){}},init:function(e){var r=this,a={click:1,mouseover:1,mouseout:1};this.root(g(UM.utils.render(this.tmpl,e))).on("click",'li[class!="edui-disabled edui-divider edui-dropdown-submenu"]',function(t){g.proxy(e.click,r,t,g(this).data("value"),g(this))()}).find("li").each(function(t,n){var i=g(this);if(!i.hasClass("edui-disabled edui-divider edui-dropdown-submenu")){var o=e.data[t];g.each(a,function(e){o[e]&&i[e](function(t){g.proxy(o[e],n)(t,o,r.root)})})}})},disabled:function(e){g("li[class!=edui-divider]",this.root()).each(function(){var t=g(this);!0===e?t.addClass("edui-disabled"):g.isFunction(e)?t.toggleClass("edui-disabled",e(li)):t.removeClass("edui-disabled")})},val:function(e){var n;if(g('li[class!="edui-divider edui-disabled edui-dropdown-submenu"]',this.root()).each(function(){var t=g(this);if(void 0===e){if(t.find("em.edui-dropmenu-checked").length)return n=t.data("value"),!1}else t.find("em").toggleClass("edui-dropmenu-checked",t.data("value")==e)}),void 0===e)return n},addSubmenu:function(t,e,n){n=n||0;var i=g("li[class!=edui-divider]",this.root());t=g('<li class="edui-dropdown-submenu"><a tabindex="-1" href="#">'+t+"</a></li>").append(e),0<=n&&n<i.length?t.insertBefore(i[n]):n<0?t.insertBefore(i[0]):n>=i.length&&t.appendTo(i)}},"menu"),UM.ui.define("splitbutton",{tpl:'<div class="edui-splitbutton <%if: ${name}%>edui-splitbutton-${name}<%/if%>"  unselectable="on" <%if: ${title}%>data-original-title="${title}"<%/if%>><div class="edui-btn"  unselectable="on" ><%if: ${icon}%><div  unselectable="on" class="edui-icon-${icon} edui-icon"></div><%/if%><%if: ${text}%>${text}<%/if%></div><div  unselectable="on" class="edui-btn edui-dropdown-toggle" ><div  unselectable="on" class="edui-caret"></div></div></div>',defaultOpt:{text:"",title:"",click:function(){}},init:function(e){var n=this;return n.root(g(UM.utils.render(n.tpl,e))),n.root().find(".edui-btn:first").click(function(t){n.disabled()||g.proxy(e.click,n)()}),n.root().find(".edui-dropdown-toggle").click(function(){n.disabled()||n.trigger("arrowclick")}),n.root().hover(function(){n.root().hasClass("edui-disabled")||n.root().toggleClass("edui-hover")}),n},wrapclick:function(t,e){return this.disabled()||g.proxy(t,this,e)(),this},disabled:function(t){return void 0===t?this.root().hasClass("edui-disabled"):(this.root().toggleClass("edui-disabled",t).find(".edui-btn").toggleClass("edui-disabled",t),this)},active:function(t){return void 0===t?this.root().hasClass("edui-active"):(this.root().toggleClass("edui-active",t).find(".edui-btn:first").toggleClass("edui-active",t),this)},mergeWith:function(e){var t=this;t.data("$mergeObj",e),e.edui().data("$mergeObj",t.root()),g.contains(document.body,e[0])||e.appendTo(t.root()),t.root().delegate(".edui-dropdown-toggle","click",function(){t.wrapclick(function(){e.edui().show()})}),t.register("click",t.root().find(".edui-dropdown-toggle"),function(t){e.hide()})}}),UM.ui.define("colorsplitbutton",{tpl:'<div class="edui-splitbutton <%if : ${name}%>edui-splitbutton-${name}<%/if%>"  unselectable="on" <%if: ${title}%>data-original-title="${title}"<%/if%>><div class="edui-btn"  unselectable="on" ><%if: ${icon}%><div unselectable="on" class="edui-icon-${icon} edui-icon"></div><%/if%><div class="edui-splitbutton-color-label" <%if: ${color}%>style="background: ${color}"<%/if%>></div><%if: ${text}%>${text}<%/if%></div><div  unselectable="on" class="edui-btn edui-dropdown-toggle" ><div  unselectable="on" class="edui-caret"></div></div></div>',defaultOpt:{color:""},init:function(t){this.supper.init.call(this,t)},colorLabel:function(){return this.root().find(".edui-splitbutton-color-label")}},"splitbutton"),UM.ui.define("popup",{tpl:'<div class="edui-dropdown-menu edui-popup"<%if:!${stopprop}%>onmousedown="return false"<%/if%>><div class="edui-popup-body" unselectable="on" onmousedown="return false">${subtpl|raw}</div><div class="edui-popup-caret"></div></div>',defaultOpt:{stopprop:!1,subtpl:"",width:"",height:""},init:function(t){return this.root(g(UM.utils.render(this.tpl,t))),this},mergeTpl:function(t){return UM.utils.render(this.tpl,{subtpl:t})},show:function(t,e){var n=(e=e||{}).fnname||"position";!1!==this.trigger("beforeshow")&&(this.root().css(g.extend({display:"block"},t?{top:t[n]().top+("right"==e.dir?0:t.outerHeight())-(e.offsetTop||0),left:t[n]().left+("right"==e.dir?t.outerWidth():0)-(e.offsetLeft||0),position:"absolute"}:{})),this.root().find(".edui-popup-caret").css({top:e.caretTop||0,left:e.caretLeft||0,position:"absolute"}).addClass(e.caretDir||"up"),this.trigger("aftershow"))},hide:function(){this.root().css("display","none"),this.trigger("afterhide")},attachTo:function(e,n){var i=this;e.data("$mergeObj")||(e.data("$mergeObj",i.root()),e.on("wrapclick",function(t){i.show(e,n)}),i.register("click",e,function(t){i.hide()}),i.data("$mergeObj",e))},getBodyContainer:function(){return this.root().find(".edui-popup-body")}}),UM.ui.define("scale",{tpl:'<div class="edui-scale" unselectable="on"><span class="edui-scale-hand0"></span><span class="edui-scale-hand1"></span><span class="edui-scale-hand2"></span><span class="edui-scale-hand3"></span><span class="edui-scale-hand4"></span><span class="edui-scale-hand5"></span><span class="edui-scale-hand6"></span><span class="edui-scale-hand7"></span></div>',defaultOpt:{$doc:g(document),$wrap:g(document)},init:function(t){return t.$doc&&(this.defaultOpt.$doc=t.$doc),t.$wrap&&(this.defaultOpt.$wrap=t.$wrap),this.root(g(UM.utils.render(this.tpl,t))),this.initStyle(),this.startPos=this.prePos={x:0,y:0},this.dragId=-1,this},initStyle:function(){n.cssRule("edui-style-scale",".edui-scale{display:none;position:absolute;border:1px solid #38B2CE;cursor:hand;}.edui-scale span{position:absolute;left:0;top:0;width:7px;height:7px;overflow:hidden;font-size:0px;display:block;background-color:#3C9DD0;}.edui-scale .edui-scale-hand0{cursor:nw-resize;top:0;margin-top:-4px;left:0;margin-left:-4px;}.edui-scale .edui-scale-hand1{cursor:n-resize;top:0;margin-top:-4px;left:50%;margin-left:-4px;}.edui-scale .edui-scale-hand2{cursor:ne-resize;top:0;margin-top:-4px;left:100%;margin-left:-3px;}.edui-scale .edui-scale-hand3{cursor:w-resize;top:50%;margin-top:-4px;left:0;margin-left:-4px;}.edui-scale .edui-scale-hand4{cursor:e-resize;top:50%;margin-top:-4px;left:100%;margin-left:-3px;}.edui-scale .edui-scale-hand5{cursor:sw-resize;top:100%;margin-top:-3px;left:0;margin-left:-4px;}.edui-scale .edui-scale-hand6{cursor:s-resize;top:100%;margin-top:-3px;left:50%;margin-left:-4px;}.edui-scale .edui-scale-hand7{cursor:se-resize;top:100%;margin-top:-3px;left:100%;margin-left:-3px;}")},_eventHandler:function(t){var e=this.defaultOpt.$doc;switch(t.type){case"mousedown":var n=t.target||t.srcElement;-1!=n.className.indexOf("edui-scale-hand")&&(this.dragId=n.className.slice(-1),this.startPos.x=this.prePos.x=t.clientX,this.startPos.y=this.prePos.y=t.clientY,e.bind("mousemove",g.proxy(this._eventHandler,this)));break;case"mousemove":-1!=this.dragId&&(this.updateContainerStyle(this.dragId,{x:t.clientX-this.prePos.x,y:t.clientY-this.prePos.y}),this.prePos.x=t.clientX,this.prePos.y=t.clientY,this.updateTargetElement());break;case"mouseup":-1!=this.dragId&&(this.dragId=-1,this.updateTargetElement(),this.data("$scaleTarget").parent()&&this.attachTo(this.data("$scaleTarget"))),e.unbind("mousemove",g.proxy(this._eventHandler,this))}},updateTargetElement:function(){var t=this.root(),e=this.data("$scaleTarget");e.css({width:t.width(),height:t.height()}),this.attachTo(e)},updateContainerStyle:function(t,e){var n,i=this.root(),o=[[0,0,-1,-1],[0,0,0,-1],[0,0,1,-1],[0,0,-1,0],[0,0,1,0],[0,0,-1,1],[0,0,0,1],[0,0,1,1]];0!=o[t][0]&&(n=parseInt(i.offset().left)+e.x,i.css("left",this._validScaledProp("left",n))),0!=o[t][1]&&(n=parseInt(i.offset().top)+e.y,i.css("top",this._validScaledProp("top",n))),0!=o[t][2]&&(n=i.width()+o[t][2]*e.x,i.css("width",this._validScaledProp("width",n))),0!=o[t][3]&&(n=i.height()+o[t][3]*e.y,i.css("height",this._validScaledProp("height",n)))},_validScaledProp:function(t,i){function e(t,e,n){return n<t+e?n-e:i}var n=this.root(),o=this.defaultOpt.$doc;switch(i=isNaN(i)?0:i,t){case"left":return i<0?0:e(i,n.width(),o.width());case"top":return i<0?0:e(i,n.height(),o.height());case"width":return i<=0?1:e(i,n.offset().left,o.width());case"height":return i<=0?1:e(i,n.offset().top,o.height())}},show:function(t){t&&this.attachTo(t),this.root().bind("mousedown",g.proxy(this._eventHandler,this)),this.defaultOpt.$doc.bind("mouseup",g.proxy(this._eventHandler,this)),this.root().show(),this.trigger("aftershow")},hide:function(){this.root().unbind("mousedown",g.proxy(this._eventHandler,this)),this.defaultOpt.$doc.unbind("mouseup",g.proxy(this._eventHandler,this)),this.root().hide(),this.trigger("afterhide")},attachTo:function(t){var e=t.offset(),n=this.root(),i=this.defaultOpt.$wrap,o=i.offset();this.data("$scaleTarget",t),this.root().css({position:"absolute",width:t.width(),height:t.height(),left:e.left-o.left-parseInt(i.css("border-left-width"))-parseInt(n.css("border-left-width")),top:e.top-o.top-parseInt(i.css("border-top-width"))-parseInt(n.css("border-top-width"))})},getScaleTarget:function(){return this.data("$scaleTarget")[0]}}),UM.ui.define("colorpicker",{tpl:function(t){for(var e="ffffff 000000 eeece1 1f497d 4f81bd c0504d 9bbb59 8064a2 4bacc6 f79646 f2f2f2 7f7f7f ddd9c3 c6d9f0 dbe5f1 f2dcdb ebf1dd e5e0ec dbeef3 fdeada d8d8d8 595959 c4bd97 8db3e2 b8cce4 e5b9b7 d7e3bc ccc1d9 b7dde8 fbd5b5 bfbfbf 3f3f3f 938953 548dd4 95b3d7 d99694 c3d69b b2a2c7 92cddc fac08f a5a5a5 262626 494429 17365d 366092 953734 76923c 5f497a 31859b e36c09 7f7f7f 0c0c0c 1d1b10 0f243e 244061 632423 4f6128 3f3151 205867 974806 c00000 ff0000 ffc000 ffff00 92d050 00b050 00b0f0 0070c0 002060 7030a0 ".split(" "),n='<div unselectable="on" onmousedown="return false" class="edui-colorpicker<%if : ${name}%> edui-colorpicker-${name}<%/if%>" ><table unselectable="on" onmousedown="return false"><tr><td colspan="10">'+t.lang_themeColor+'</td> </tr><tr class="edui-colorpicker-firstrow" >',i=0;i<e.length;i++)i&&0==i%10&&(n+="</tr>"+(60==i?'<tr><td colspan="10">'+t.lang_standardColor+"</td></tr>":"")+"<tr"+(60==i?' class="edui-colorpicker-firstrow"':"")+">"),n+=i<70?'<td><a unselectable="on" onmousedown="return false" title="'+e[i]+'" class="edui-colorpicker-colorcell" data-color="#'+e[i]+'" style="background-color:#'+e[i]+";border:solid #ccc;"+(i<10||60<=i?"border-width:1px;":10<=i&&i<20?"border-width:1px 1px 0 1px;":"border-width:0 1px 0 1px;")+'"></a></td>':"";return n+"</tr></table></div>"},init:function(t){var e=this;e.root(g(UM.utils.render(e.supper.mergeTpl(e.tpl(t)),t))),e.root().on("click",function(t){e.trigger("pickcolor",g(t.target).data("color"))})}},"popup"),UM.ui.define("combobox",{tpl:'<ul class="dropdown-menu edui-combobox-menu<%if: ${comboboxName} !==\'\'%> edui-combobox-${comboboxName}<%/if%>" unselectable="on" onmousedown="return false" role="menu" aria-labelledby="dropdownMenu"><%if: ${autoRecord} %><%for : ${recordStack} as ${recordItem}, ${index}%><%var : style = ${itemStyles}[${recordItem}]%><%var : record = ${items}[${recordItem}]%><li class="${itemClassName}<%if: ${selected} == ${recordItem}%> edui-combobox-checked<%/if%>" data-item-index="${recordItem}" unselectable="on" onmousedown="return false"><span class="edui-combobox-icon" unselectable="on" onmousedown="return false"></span><label class="${labelClassName}" style="${style}" unselectable="on" onmousedown="return false">${record}</label></li><%/for%><%if: ${index} %><li class="edui-combobox-item-separator"></li><%/if%><%/if%><%for: ${items} as ${item}, ${itemIndex}%><%var : labelStyle = ${itemStyles}[${itemIndex}]%><li class="${itemClassName}<%if: ${selected} == ${item} %> edui-combobox-checked<%/if%> edui-combobox-item-${itemIndex}" data-item-index="${itemIndex}" unselectable="on" onmousedown="return false"><span class="edui-combobox-icon" unselectable="on" onmousedown="return false"></span><label class="${labelClassName}" style="${labelStyle}" unselectable="on" onmousedown="return false">${item}</label></li><%/for%></ul>',defaultOpt:{recordStack:[],items:[],value:[],comboboxName:"",selected:"",autoRecord:!0,recordCount:5},init:function(t){g.extend(this._optionAdaptation(t),this._createItemMapping(t.recordStack,t.items),{itemClassName:"edui-combobox-item",iconClass:"edui-combobox-checked-icon",labelClassName:"edui-combobox-item-label"}),this._transStack(t),this.root(g(UM.utils.render(this.tpl,t))),this.data("options",t).initEvent()},initEvent:function(){this.initSelectItem(),this.initItemActive()},initSelectItem:function(){var n=this;n.root().delegate(".edui-combobox-item","click",function(){var t=g(this),e=t.attr("data-item-index");return n.trigger("comboboxselect",{index:e,label:t.find(".edui-combobox-item-label").text(),value:n.data("options").value[e]}).select(e),n.hide(),!1})},initItemActive:function(){var e={mouseenter:"addClass",mouseleave:"removeClass"};g.IE6&&this.root().delegate(".edui-combobox-item","mouseenter mouseleave",function(t){g(this)[e[t.type]]("edui-combobox-item-hover")}).one("afterhide",function(){})},select:function(t){var e=this.data("options").itemCount,n=this.data("options").autowidthitem;return n&&!n.length&&(n=this.data("options").items),0==e||(t<0?t=e+t%e:e<=t&&(t=e-1),this.trigger("changebefore",n[t]),this._update(t),this.trigger("changeafter",n[t])),null},selectItemByLabel:function(t){var n=this.data("options").itemMapping,i=this,o=null;g.isArray(t)||(t=[t]),g.each(t,function(t,e){if(void 0!==(o=n[e]))return i.select(o),!1})},_transStack:function(n){var i=[],o=-1,r=-1;g.each(n.recordStack,function(t,e){o=n.itemMapping[e],g.isNumeric(o)&&(i.push(o),e==n.selected&&(r=o))}),n.recordStack=i,n.selected=r,i=null},_optionAdaptation:function(t){if(!("itemStyles"in t)){t.itemStyles=[];for(var e=0,n=t.items.length;e<n;e++)t.itemStyles.push("")}return t.autowidthitem=t.autowidthitem||t.items,t.itemCount=t.items.length,t},_createItemMapping:function(t,e){var n={},i={recordStack:[],mapping:{}};return g.each(e,function(t,e){n[e]=t}),i.itemMapping=n,g.each(t,function(t,e){void 0!==n[e]&&(i.recordStack.push(n[e]),i.mapping[e]=n[e])}),i},_update:function(n){var t=this.data("options"),i=[],e=null;g.each(t.recordStack,function(t,e){e!=n&&i.push(+e)}),i.unshift(+n),i.length>t.recordCount&&(i.length=t.recordCount),t.recordStack=i,t.selected=+n,e=g(UM.utils.render(this.tpl,t)),this.root().html(e.html()),i=e=null}},"menu"),UM.ui.define("buttoncombobox",{defaultOpt:{label:"",title:""},init:function(t){var e=this,n=g.eduibutton({caret:!0,name:t.comboboxName,title:t.title,text:t.label,click:function(){e.show(this.root())}});e.supper.init.call(e,t),e.on("changebefore",function(t,e){n.eduibutton("label",e)}),e.data("button",n),e.attachTo(n)},button:function(){return this.data("button")}},"combobox"),UM.ui.define("modal",{tpl:'<div class="edui-modal" tabindex="-1" ><div class="edui-modal-header"><div class="edui-close" data-hide="modal"></div><h3 class="edui-title">${title}</h3></div><div class="edui-modal-body"  style="<%if: ${width}%>width:${width}px;<%/if%><%if: ${height}%>height:${height}px;<%/if%>"> </div><% if: ${cancellabel} || ${oklabel} %><div class="edui-modal-footer"><div class="edui-modal-tip"></div><%if: ${oklabel}%><div class="edui-btn edui-btn-primary" data-ok="modal">${oklabel}</div><%/if%><%if: ${cancellabel}%><div class="edui-btn" data-hide="modal">${cancellabel}</div><%/if%></div><%/if%></div>',defaultOpt:{title:"",cancellabel:"",oklabel:"",width:"",height:"",backdrop:!0,keyboard:!0},init:function(t){this.root(g(UM.utils.render(this.tpl,t||{}))),this.data("options",t),t.okFn&&this.on("ok",g.proxy(t.okFn,this)),t.cancelFn&&this.on("beforehide",g.proxy(t.cancelFn,this)),this.root().delegate('[data-hide="modal"]',"click",g.proxy(this.hide,this)).delegate('[data-ok="modal"]',"click",g.proxy(this.ok,this)),g('[data-hide="modal"],[data-ok="modal"]',this.root()).hover(function(){g(this).toggleClass("edui-hover")})},toggle:function(){return this[this.data("isShown")?"hide":"show"]()},show:function(){var t=this;t.trigger("beforeshow"),t.data("isShown")||(t.data("isShown",!0),t.escape(),t.backdrop(function(){t.autoCenter(),t.root().show().focus().trigger("aftershow")}))},showTip:function(t){g(".edui-modal-tip",this.root()).html(t).fadeIn()},hideTip:function(t){g(".edui-modal-tip",this.root()).fadeOut(function(){g(this).html("")})},autoCenter:function(){g.IE6||this.root().css("margin-left",-this.root().width()/2)},hide:function(){this.trigger("beforehide"),this.data("isShown")&&(this.data("isShown",!1),this.escape(),this.hideModal())},escape:function(){var e=this;e.data("isShown")&&e.data("options").keyboard?e.root().on("keyup",function(t){27==t.which&&e.hide()}):e.data("isShown")||e.root().off("keyup")},hideModal:function(){var t=this;t.root().hide(),t.backdrop(function(){t.removeBackdrop(),t.trigger("afterhide")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){this.data("isShown")&&this.data("options").backdrop&&(this.$backdrop=g('<div class="edui-modal-backdrop" />').click("static"==this.data("options").backdrop?g.proxy(this.root()[0].focus,this.root()[0]):g.proxy(this.hide,this))),this.trigger("afterbackdrop"),t&&t()},attachTo:function(t){var e=this;t.data("$mergeObj")||(t.data("$mergeObj",e.root()),t.on("click",function(){e.toggle(t)}),e.data("$mergeObj",t))},ok:function(){this.trigger("beforeok"),!1!==this.trigger("ok",this)&&this.hide()},getBodyContainer:function(){return this.root().find(".edui-modal-body")}}),UM.ui.define("tooltip",{tpl:'<div class="edui-tooltip" unselectable="on" onmousedown="return false"><div class="edui-tooltip-arrow" unselectable="on" onmousedown="return false"></div><div class="edui-tooltip-inner" unselectable="on" onmousedown="return false"></div></div>',init:function(t){this.root(g(UM.utils.render(this.tpl,t||{})))},content:function(t){t=g(t.currentTarget).attr("data-original-title"),this.root().find(".edui-tooltip-inner").text(t)},position:function(t){t=g(t.currentTarget),this.root().css(g.extend({display:"block"},t?{top:t.outerHeight(),left:(t.outerWidth()-this.root().outerWidth())/2}:{}))},show:function(t){g(t.currentTarget).hasClass("edui-disabled")||(this.content(t),this.root().appendTo(g(t.currentTarget)),this.position(t),this.root().css("display","block"))},hide:function(){this.root().css("display","none")},attachTo:function(t){function n(t){var e=this;g.contains(document.body,e.root()[0])||e.root().appendTo(t),e.data("tooltip",e.root()),t.each(function(){g(this).attr("data-original-title")&&g(this).on("mouseenter",g.proxy(e.show,e)).on("mouseleave click",g.proxy(e.hide,e))})}var i=this;"undefined"===g.type(t)?g("[data-original-title]").each(function(t,e){n.call(i,g(e))}):t.data("tooltip")||n.call(i,t)}}),UM.ui.define("tab",{init:function(t){var e=this,n=t.selector;g.type(n)&&(e.root(g(n,t.context)),e.data("context",t.context),g(n,e.data("context")).on("click",function(t){e.show(t)}))},show:function(t){var e,n,i=this,o=g(t.target),r=o.closest("ul");e=(e=o.attr("data-context"))&&e.replace(/.*(?=#[^\s]*$)/,""),(t=o.parent("li")).length&&!t.hasClass("edui-active")&&(n=r.find(".edui-active:last a")[0],t=g.Event("beforeshow",{target:o[0],relatedTarget:n}),i.trigger(t),t.isDefaultPrevented()||(e=g(e,i.data("context")),i.activate(o.parent("li"),r),i.activate(e,e.parent(),function(){i.trigger({type:"aftershow",relatedTarget:n})})))},activate:function(t,e,n){if(void 0===t)return g(".edui-tab-item.edui-active",this.root()).index();e.find("> .edui-active").removeClass("edui-active"),t.addClass("edui-active"),n&&n()}}),UM.ui.define("separator",{tpl:'<div class="edui-separator" unselectable="on" onmousedown="return false" ></div>',init:function(t){return this.root(g(g.parseTmpl(this.tpl,t))),this}}),SM={},TM={},VM=[],WM={},XM={},YM={},ZM=null,n.extend(UM,{defaultWidth:500,defaultHeight:500,registerUI:function(t,e){n.each(t.split(/\s+/),function(t){SM[t]=e})},setEditor:function(t){TM[t.id]||(TM[t.id]=t)},registerWidget:function(t,e,n){WM[t]=g.extend2(e,{$root:"",_preventDefault:!1,root:function(t){return this.$root||(this.$root=t)},preventDefault:function(){this._preventDefault=!0},clear:!1}),n&&(XM[t]=n)},getWidgetData:function(t){return WM[t]},setWidgetBody:function(t,i,e){e._widgetData||n.extend(e,{_widgetData:{},getWidgetData:function(t){return this._widgetData[t]},getWidgetCallback:function(t){var e=this;return function(){return XM[t].apply(e,[e,i].concat(Array.prototype.slice.call(arguments,0)))}}});var o=WM[t];if(!o)return null;(o=e._widgetData[t])||(o=WM[t],o=e._widgetData[t]="function"==g.type(o)?o:n.clone(o)),o.root(i.edui().getBodyContainer()),o.initContent(e,i),o._preventDefault||o.initEvent(e,i),o.width&&i.width(o.width)},setActiveWidget:function(t){},getEditor:function(t,e){var n=TM[t]||(TM[t]=this.createEditor(t,e));return ZM=ZM?Math.max(n.getOpt("zIndex"),ZM):n.getOpt("zIndex"),n},setTopEditor:function(n){g.each(TM,function(t,e){n==e?n.$container&&n.$container.css("zIndex",ZM+1):e.$container&&e.$container.css("zIndex",e.getOpt("zIndex"))})},clearCache:function(t){TM[t]&&delete TM[t]},delEditor:function(t){var e;(e=TM[t])&&e.destroy()},ready:function(t){VM.push(t)},createEditor:function(n,t){function e(){var t=this.createUI("#"+n,i);i.key=n,i.ready(function(){g.each(VM,function(t,e){g.proxy(e,i)()})});var e=i.options;e.minFrameWidth=e.initialFrameWidth?e.initialFrameWidth:e.initialFrameWidth=i.$body.width()||UM.defaultWidth,t.css({width:e.initialFrameWidth,zIndex:i.getOpt("zIndex")}),UM.browser.ie&&6===UM.browser.version&&document.execCommand("BackgroundImageCache",!1,!0),i.render(n),g.eduitooltip&&g.eduitooltip("attachTo",g("[data-original-title]",t)).css("z-index",i.getOpt("zIndex")+1),t.find("a").click(function(t){t.preventDefault()}),i.fireEvent("afteruiready")}var i=new UM.Editor(t);return i.langIsReady?g.proxy(e,this)():i.addListener("langReady",g.proxy(e,this)),i},createUI:function(t,i){var e=g(t),n=g('<div class="edui-container"><div class="edui-editor-body"></div></div>').insertBefore(e);return i.$container=n,i.container=n[0],i.$body=e,m.ie&&m.ie9above&&g('<span style="padding:0;margin:0;height:0;width:0"></span>').insertAfter(n),g.each(SM,function(t,e){var n=e.call(i,t);n&&(YM[t]=n)}),n.find(".edui-editor-body").append(e).before(this.createToolbar(i.options,i)),n.find(".edui-toolbar").append(g('<div class="edui-dialog-container"></div>')),n},createToolbar:function(t,e){var n=g.eduitoolbar(),i=n.edui();if(t.toolbar&&t.toolbar.length){var o=[];g.each(t.toolbar,function(t,e){g.each(e.split(/\s+/),function(t,e){if("|"==e)g.eduiseparator&&o.push(g.eduiseparator());else{var n=YM[e];"fullscreen"==e?n&&o.unshift(n):n&&o.push(n)}}),o.length&&i.appendToBtnmenu(o)})}else n.find(".edui-btn-toolbar").remove();return n}}),UM.registerUI("bold italic redo undo underline strikethrough superscript subscript insertorderedlist insertunorderedlist cleardoc selectall link unlink print preview justifyleft justifycenter justifyright justifyfull removeformat horizontal drafts",function(e){var t=this,n=g.eduibutton({icon:e,click:function(){t.execCommand(e)},title:this.getLang("labelMap")[e]||""});return this.addListener("selectionchange",function(){var t=this.queryCommandState(e);n.edui().disabled(-1==t).active(1==t)}),n}),vO={},wO="width height position top left margin padding overflowX overflowY".split(" "),xO={},yO={},zO={},AO={},UM.registerUI("fullscreen",function(e){var t=this,n=g.eduibutton({icon:"fullscreen",title:t.options.labelMap&&t.options.labelMap[e]||t.getLang("labelMap."+e),click:function(){t.execCommand(e),UM.setTopEditor(t)}});return t.addListener("selectionchange",function(){var t=this.queryCommandState(e);n.edui().disabled(-1==t).active(1==t)}),t.addListener("ready",function(){t.options.fullscreen&&uO.getInstance(t).toggle()}),n}),UM.commands.fullscreen={execCommand:function(t){uO.getInstance(this).toggle()},queryCommandState:function(t){return this._edui_fullscreen_status},notNeedUndo:1},uO.prototype={toggle:function(){var t=this.editor,e=this.isFullState();t.fireEvent("beforefullscreenchange",!e),this.update(!e),e?this.revert():this.enlarge(),t.fireEvent("afterfullscreenchange",!e),"true"===t.body.contentEditable&&t.fireEvent("fullscreenchanged",!e),t.fireEvent("selectionchange")},enlarge:function(){this.saveSataus(),this.setDocumentStatus(),this.resize()},revert:function(){var t=this.editor.options;t=/%$/.test(t.initialFrameHeight)?"100%":t.initialFrameHeight-this.getStyleValue("padding-top")-this.getStyleValue("padding-bottom")-this.getStyleValue("border-width"),g.IE6&&this.getEditorHolder().style.setExpression("height","this.scrollHeight <= "+t+' ? "'+t+'px" : "auto"'),this.revertContainerStatus(),this.revertContentAreaStatus(),this.revertDocumentStatus()},update:function(t){this.editor._edui_fullscreen_status=t},resize:function(){var t,e,n,i,o,r=0,a=this.editor;this.isFullState()&&(e=(t=g(window)).width(),t=t.height(),o=this.getEditorHolder(),n=parseInt(k.getComputedStyle(o,"border-width"),10)||0,n+=parseInt(k.getComputedStyle(a.container,"border-width"),10)||0,r+=parseInt(k.getComputedStyle(o,"padding-left"),10)+parseInt(k.getComputedStyle(o,"padding-right"),10)||0,g.IE6&&o.style.setExpression("height",null),i=this.getBound(),g(a.container).css({width:e+"px",height:t+"px",position:g.IE6?"absolute":"fixed",top:i.top,left:i.left,margin:0,padding:0,overflowX:"hidden",overflowY:"hidden"}),g(o).css({width:e-2*n-r+"px",height:t-2*n-(a.options.withoutToolbar?0:g(".edui-toolbar",a.container).outerHeight())-g(".edui-bottombar",a.container).outerHeight()+"px",overflowX:"hidden",overflowY:"auto"}))},saveSataus:function(){for(var t,e=this.editor.container.style,n={},i=0,o=wO.length;i<o;i++)n[t=wO[i]]=e[t];vO[this.editor.uid]=n,this.saveContentAreaStatus(),this.saveDocumentStatus()},saveContentAreaStatus:function(){var t=g(this.getEditorHolder());xO[this.editor.uid]={width:t.css("width"),overflowX:t.css("overflowX"),overflowY:t.css("overflowY"),height:t.css("height")}},saveDocumentStatus:function(){var t=g(this.getEditorDocumentBody());yO[this.editor.uid]={overflowX:t.css("overflowX"),overflowY:t.css("overflowY")},zO[this.editor.uid]={overflowX:g(this.getEditorDocumentElement()).css("overflowX"),overflowY:g(this.getEditorDocumentElement()).css("overflowY")}},revertContainerStatus:function(){g(this.editor.container).css(this.getEditorStatus())},revertContentAreaStatus:function(){var t=this.getEditorHolder(),e=this.getContentAreaStatus();this.supportMin()&&(delete e.height,t.style.height=null),g(t).css(e)},revertDocumentStatus:function(){var t=this.getDocumentStatus();g(this.getEditorDocumentBody()).css("overflowX",t.body.overflowX),g(this.getEditorDocumentElement()).css("overflowY",t.html.overflowY)},setDocumentStatus:function(){g(this.getEditorDocumentBody()).css({overflowX:"hidden",overflowY:"hidden"}),g(this.getEditorDocumentElement()).css({overflowX:"hidden",overflowY:"hidden"})},isFullState:function(){return!!this.editor._edui_fullscreen_status},getEditorStatus:function(){return vO[this.editor.uid]},getContentAreaStatus:function(){return xO[this.editor.uid]},getEditorDocumentElement:function(){return this.editor.container.ownerDocument.documentElement},getEditorDocumentBody:function(){return this.editor.container.ownerDocument.body},getEditorHolder:function(){return this.editor.body},getDocumentStatus:function(){return{body:yO[this.editor.uid],html:zO[this.editor.uid]}},supportMin:function(){var t;return this._support||(t=document.createElement("div"),this._support="minWidth"in t.style),this._support},getBound:function(){var t,e={html:!0,body:!0},n={top:0,left:0};return g.IE6&&(t=this.editor.container.offsetParent)&&!e[t.nodeName.toLowerCase()]&&(e=t.getBoundingClientRect(),n.top=-e.top,n.left=-e.left),n},getStyleValue:function(t){return parseInt(k.getComputedStyle(this.getEditorHolder(),t))}},g.extend(uO,{listen:function(){var e=null;uO._hasFullscreenListener||(uO._hasFullscreenListener=!0,g(window).on("resize",function(){null!==e&&(window.clearTimeout(e),e=null),e=window.setTimeout(function(){for(var t in AO)AO[t].resize();e=null},50)}))},getInstance:function(t){return AO[t.uid]||new uO(t),AO[t.uid]}}),uO.listen(),UM.registerUI("link image video map formula code",function(i){var o,r,a=this,s={title:a.options.labelMap&&a.options.labelMap[i]||a.getLang("labelMap."+i),url:a.options.UMEDITOR_HOME_URL+"dialogs/"+i+"/"+i+".js"},l=g.eduibutton({icon:i,title:this.getLang("labelMap")[i]||""});return n.loadFile(document,{src:s.url,tag:"script",type:"text/javascript",defer:"defer"},function(){var t=UM.getWidgetData(i);if(t){if(t.buttons){var e=t.buttons.ok;e&&(s.oklabel=e.label||a.getLang("ok"),e.exec&&(s.okFn=function(){return g.proxy(e.exec,null,a,r)()}));var n=t.buttons.cancel;n&&(s.cancellabel=n.label||a.getLang("cancel"),n.exec&&(s.cancelFn=function(){return g.proxy(n.exec,null,a,r)()}))}t.width&&(s.width=t.width),t.height&&(s.height=t.height),(r=g.eduimodal(s)).attr("id","edui-dialog-"+i).addClass("edui-dialog-"+i).find(".edui-modal-body").addClass("edui-dialog-"+i+"-body"),r.edui().on("beforehide",function(){var t=a.selection.getRange();t.equals(o)&&t.select()}).on("beforeshow",function(){var t,e,n=this.root();o=a.selection.getRange(),n.parent()[0]||a.$container.find(".edui-dialog-container").append(n),g.IE6&&(t=g(window).width(),g(window).height(),e=n.parents(".edui-toolbar")[0].getBoundingClientRect(),n.css({position:"absolute",margin:0,left:(t-n.width())/2-e.left,top:100-e.top})),UM.setWidgetBody(i,r,a),UM.setTopEditor(a)}).on("afterbackdrop",function(){this.$backdrop.css("zIndex",a.getOpt("zIndex")+1).appendTo(a.$container.find(".edui-dialog-container")),r.css("zIndex",a.getOpt("zIndex")+2)}).on("beforeok",function(){try{o.select()}catch(t){}}).attachTo(l)}}),a.addListener("selectionchange",function(){var t=this.queryCommandState(i);l.edui().disabled(-1==t).active(1==t)}),l}),UM.registerUI("emotion formula",function(i){var o=this,r=o.options.UMEDITOR_HOME_URL+"dialogs/"+i+"/"+i+".js",a=g.eduibutton({icon:i,title:this.getLang("labelMap")[i]||""});return n.loadFile(document,{src:r,tag:"script",type:"text/javascript",defer:"defer"},function(){var t={url:r},e=UM.getWidgetData(i);e.width&&(t.width=e.width),e.height&&(t.height=e.height),g.eduipopup(t).css("zIndex",o.options.zIndex+1).addClass("edui-popup-"+i).edui().on("beforeshow",function(){var t=this.root();t.parent().length||o.$container.find(".edui-dialog-container").append(t),UM.setWidgetBody(i,t,o),UM.setTopEditor(o)}).attachTo(a,{offsetTop:-5,offsetLeft:10,caretLeft:11,caretTop:-8}),o.addListener("selectionchange",function(){var t=this.queryCommandState(i);a.edui().disabled(-1==t).active(1==t)})}),a}),UM.registerUI("imagescale",function(){var s,l=this;l.setOpt("imageScaleEnabled",!0),m.webkit&&l.getOpt("imageScaleEnabled")&&(l.addListener("click",function(t,e){var n=l.selection.getRange().getClosedNode(),i=e.target;if(n&&"IMG"==n.tagName&&i==n){if(!s){s=g.eduiscale({$wrap:l.$container}).css("zIndex",l.options.zIndex),l.$container.append(s);var o,r=function(){s.edui().hide()},a=function(t){var e=t.target||t.srcElement;e&&-1==e.className.indexOf("edui-scale")&&r()};s.edui().on("aftershow",function(){g(document).bind("keydown",r),g(document).bind("mousedown",a),l.selection.getNative().removeAllRanges()}).on("afterhide",function(){g(document).unbind("keydown",r),g(document).unbind("mousedown",a);var t=s.edui().getScaleTarget();t.parentNode&&l.selection.getRange().selectNode(t).select()}).on("mousedown",function(t){l.selection.getNative().removeAllRanges(),(t=t.target||t.srcElement)&&-1==t.className.indexOf("edui-scale-hand")&&(o=setTimeout(function(){s.edui().hide()},200))}).on("mouseup",function(t){(t=t.target||t.srcElement)&&-1==t.className.indexOf("edui-scale-hand")&&clearTimeout(o)})}s.edui().show(g(n))}else s&&"none"!=s.css("display")&&s.edui().hide()}),l.addListener("click",function(t,e){"IMG"==e.target.tagName&&new x.Range(l.document,l.body).selectNode(e.target).select()}))}),UM.registerUI("autofloat",function(){var p=this,h=p.getLang();p.setOpt({autoFloatEnabled:!0,topOffset:0});var f=p.options.topOffset;!1!==p.options.autoFloatEnabled&&p.ready(function(){function r(){d.parentNode&&d.parentNode.removeChild(d),a.style.cssText=t}function i(){var e,t=p.container;try{e=t.getBoundingClientRect()}catch(t){e={left:0,top:0,height:0,width:0}}for(var n,i=Math.round(e.top),o=Math.round(e.bottom-e.top);(n=t.ownerDocument)!==document&&(t=k.getWindow(n).frameElement);)i+=(e=t.getBoundingClientRect()).top;t=p.options.toolbarTopOffset||0,i<0&&i+o-a.offsetHeight>t?u||(i=k.getXY(a),o=k.getComputedStyle(a,"position"),t=k.getComputedStyle(a,"left"),a.style.width=a.offsetWidth+"px",a.style.zIndex=1*p.options.zIndex+1,a.parentNode.insertBefore(d,a),l||c&&m.ie?("absolute"!=a.style.position&&(a.style.position="absolute"),a.style.top=(document.body.scrollTop||document.documentElement.scrollTop)-s+f+"px"):"fixed"!=a.style.position&&(a.style.position="fixed",a.style.top=f+"px","absolute"!=o&&"relative"!=o||!parseFloat(t)||(a.style.left=i.x+"px"))):r()}var t,a,s,e,l=m.ie&&m.version<=6,c=m.quirks,d=document.createElement("div"),u=!1,o=n.defer(function(){i()},m.ie?200:100,!0);p.addListener("destroy",function(){g(window).off("scroll resize",i),p.removeListener("keydown",o)}),(UM.ui?1:(alert(h.autofloatMsg),0))&&(a=g(".edui-toolbar",p.container)[0],p.addListener("afteruiready",function(){setTimeout(function(){s=g(a).offset().top},100)}),t=a.style.cssText,d.style.height=a.offsetHeight+"px",l&&((e=document.body.style).backgroundImage='url("about:blank")',e.backgroundAttachment="fixed"),g(window).on("scroll resize",i),p.addListener("keydown",o),p.addListener("resize",function(){r(),d.style.height=a.offsetHeight+"px",i()}),p.addListener("beforefullscreenchange",function(t,e){e&&(r(),u=e)}),p.addListener("fullscreenchanged",function(t,e){e||i(),u=e}),p.addListener("sourcemodechanged",function(t,e){setTimeout(function(){i()},0)}),p.addListener("clearDoc",function(){setTimeout(function(){i()},0)}))})}),UM.registerUI("source",function(e){var t=this;t.addListener("fullscreenchanged",function(){t.$container.find("textarea").width(t.$body.width()-10).height(t.$body.height())});var n=g.eduibutton({icon:e,click:function(){t.execCommand(e),UM.setTopEditor(t)},title:this.getLang("labelMap")[e]||""});return this.addListener("selectionchange",function(){var t=this.queryCommandState(e);n.edui().disabled(-1==t).active(1==t)}),n}),UM.registerUI("paragraph fontfamily fontsize",function(n){function r(t,e){var n=g("<span>").html(t).css({display:"inline",position:"absolute",top:-1e7,left:-1e5}).appendTo(document.body),i=n.width();return n.remove(),i<50?t:(t=t.slice(0,e?-4:-1)).length?r(t+"...",!0):"..."}var i=this,t={label:t=i.options.labelMap&&i.options.labelMap[n]||i.getLang("labelMap."+n),title:t,comboboxName:n,items:i.options[n]||[],itemStyles:[],value:[],autowidthitem:[]},e=null,o=null;if(0==t.items.length)return null;switch(n){case"paragraph":t=function(t){var e,n=[];for(e in t.items)t.value.push(e),n.push(e),t.autowidthitem.push(r(e));return t.items=n,t.autoRecord=!1,t}(t);break;case"fontfamily":t=function(t){for(var e,n=[],i=0,o=t.items.length;i<o;i++)e=t.items[i].val,n.push(e.split(/\s*,\s*/)[0]),t.itemStyles.push("font-family: "+e),t.value.push(e),t.autowidthitem.push(r(n[i]));return t.items=n,t}(t);break;case"fontsize":t=function(t){var e,n=[];t.itemStyles=[],t.value=[];for(var i=0,o=t.items.length;i<o;i++)e=t.items[i],n.push(e),t.itemStyles.push("font-size: "+e+"px");return t.value=t.items,t.items=n,t.autoRecord=!1,t}(t)}return e=g.eduibuttoncombobox(t).css("zIndex",i.getOpt("zIndex")+1),(o=e.edui()).on("comboboxselect",function(t,e){i.execCommand(n,e.value)}).on("beforeshow",function(){0===e.parent().length&&e.appendTo(i.$container.find(".edui-dialog-container")),UM.setTopEditor(i)}),this.addListener("selectionchange",function(t){t=this.queryCommandState(n);var e=this.queryCommandValue(n);o.button().edui().disabled(-1==t).active(1==t),e&&(e=e.replace(/['"]/g,"").toLowerCase().split(/['|"]?\s*,\s*[\1]?/),o.selectItemByLabel(e))}),o.button().addClass("edui-combobox")}),UM.registerUI("forecolor backcolor",function(n){var i=this,t=null,o=null,e=null;return this.addListener("selectionchange",function(){var t=this.queryCommandState(n);e.edui().disabled(-1==t).active(1==t)}),e=g.eduicolorsplitbutton({icon:n,caret:!0,name:n,title:i.getLang("labelMap")[n],click:function(){i.execCommand(n,k.getComputedStyle(o[0],"background-color"))}}),o=e.edui().colorLabel(),t=g.eduicolorpicker({name:n,lang_clearColor:i.getLang("clearColor")||"",lang_themeColor:i.getLang("themeColor")||"",lang_standardColor:i.getLang("standardColor")||""}).on("pickcolor",function(t,e){window.setTimeout(function(){o.css("backgroundColor",e),i.execCommand(n,e)},0)}).on("show",function(){UM.setActiveWidget(colorPickerWidget.root())}).css("zIndex",i.getOpt("zIndex")+1),e.edui().on("arrowclick",function(){t.parent().length||i.$container.find(".edui-dialog-container").append(t),t.edui().show(e,{caretDir:"down",offsetTop:-5,offsetLeft:8,caretLeft:11,caretTop:-8}),UM.setTopEditor(i)}).register("click",e,function(){t.edui().hide()}),e})}(jQuery)}).call(this,__webpack_require__(326))},327:function(t,e){UM.I18N["zh-cn"]={labelMap:{anchor:"锚点",undo:"撤销",redo:"重做",bold:"加粗",indent:"首行缩进",snapscreen:"截图",italic:"斜体",underline:"下划线",strikethrough:"删除线",subscript:"下标",fontborder:"字符边框",superscript:"上标",formatmatch:"格式刷",source:"源代码",blockquote:"引用",pasteplain:"纯文本粘贴模式",selectall:"全选",print:"打印",preview:"预览",horizontal:"分隔线",removeformat:"清除格式",time:"时间",date:"日期",unlink:"取消链接",insertrow:"前插入行",insertcol:"前插入列",mergeright:"右合并单元格",mergedown:"下合并单元格",deleterow:"删除行",deletecol:"删除列",splittorows:"拆分成行",splittocols:"拆分成列",splittocells:"完全拆分单元格",mergecells:"合并多个单元格",deletetable:"删除表格",cleardoc:"清空文档",insertparagraphbeforetable:"表格前插入行",insertcode:"代码语言",fontfamily:"字体",fontsize:"字号",paragraph:"段落格式",image:"图片",edittable:"表格属性",edittd:"单元格属性",link:"超链接",emotion:"表情",spechars:"特殊字符",searchreplace:"查询替换",map:"百度地图",gmap:"Google地图",video:"视频",help:"帮助",justifyleft:"居左对齐",justifyright:"居右对齐",justifycenter:"居中对齐",justifyjustify:"两端对齐",forecolor:"字体颜色",backcolor:"背景色",insertorderedlist:"有序列表",insertunorderedlist:"无序列表",fullscreen:"全屏",directionalityltr:"从左向右输入",directionalityrtl:"从右向左输入",rowspacingtop:"段前距",rowspacingbottom:"段后距",highlightcode:"插入代码",pagebreak:"分页",insertframe:"插入Iframe",imagenone:"默认",imageleft:"左浮动",imageright:"右浮动",attachment:"附件",imagecenter:"居中",wordimage:"图片转存",lineheight:"行间距",edittip:"编辑提示",customstyle:"自定义标题",autotypeset:"自动排版",webapp:"百度应用",touppercase:"字母大写",tolowercase:"字母小写",background:"背景",template:"模板",scrawl:"涂鸦",music:"音乐",inserttable:"插入表格",drafts:"草稿箱",formula:"数学公式",code:"插入代码"},paragraph:{p:"段落",h1:"标题 1",h2:"标题 2",h3:"标题 3",h4:"标题 4",h5:"标题 5",h6:"标题 6"},fontfamily:{songti:"宋体",kaiti:"楷体",heiti:"黑体",lishu:"隶书",yahei:"微软雅黑",andaleMono:"andale mono",arial:"arial",arialBlack:"arial black",comicSansMs:"comic sans ms",impact:"impact",timesNewRoman:"times new roman"},ok:"确认",cancel:"取消",closeDialog:"关闭对话框",tableDrag:"表格拖动必须引入uiUtils.js文件！",autofloatMsg:"工具栏浮动依赖编辑器UI，您首先需要引入UI文件!",anthorMsg:"链接",clearColor:"清空颜色",standardColor:"标准颜色",themeColor:"主题颜色",property:"属性",default:"默认",modify:"修改",justifyleft:"左对齐",justifyright:"右对齐",justifycenter:"居中",justify:"默认",clear:"清除",anchorMsg:"锚点",delete:"删除",clickToUpload:"点击上传",unset:"尚未设置语言文件",t_row:"行",t_col:"列",more:"更多",pasteOpt:"粘贴选项",pasteSourceFormat:"保留源格式",tagFormat:"只保留标签",pasteTextFormat:"只保留文本",image:{static:{lang_tab_local:"本地上传",lang_tab_imgSearch:"网络图片",lang_input_dragTip:"支持图片拖拽上传",lang_btn_add:"添加"},uploadError:"上传出错"},emotion:{static:{lang_input_choice:"精选",lang_input_Tuzki:"兔斯基",lang_input_BOBO:"BOBO",lang_input_lvdouwa:"绿豆蛙",lang_input_babyCat:"baby猫",lang_input_bubble:"泡泡",lang_input_youa:"有啊"}},gmap:{static:{lang_input_address:"地址",lang_input_search:"搜索",address:{value:"北京"}},searchError:"无法定位到该地址!"},link:{static:{lang_input_text:"文本内容：",lang_input_url:"链接地址：",lang_input_title:"标题：",lang_input_target:"是否在新窗口打开："},validLink:"只支持选中一个链接时生效",httpPrompt:"您输入的超链接中不包含http等协议名称，默认将为您添加http://前缀"},map:{static:{lang_city:"城市",lang_address:"地址",city:{value:"北京"},lang_search:"搜索",lang_dynamicmap:"插入动态地图"},cityMsg:"请选择城市",errorMsg:"抱歉，找不到该位置！"},video:{static:{lang_tab_insertV:"插入视频",lang_video_url:"视频网址",lang_video_size:"视频尺寸",lang_videoW:"宽度",lang_videoH:"高度",lang_alignment:"对齐方式",videoSearchTxt:{value:"请输入搜索关键字！"},videoType:{options:["全部","热门","娱乐","搞笑","体育","科技","综艺"]},videoSearchBtn:{value:"百度一下"},videoSearchReset:{value:"清空结果"}},numError:"请输入正确的数值，如123,400",floatLeft:"左浮动",floatRight:"右浮动",default:"默认",block:"独占一行",urlError:"输入的视频地址有误，请检查后再试！",loading:" &nbsp;视频加载中，请等待……",clickToSelect:"点击选中",goToSource:"访问源视频",noVideo:" &nbsp; &nbsp;抱歉，找不到对应的视频，请重试！"},formula:{static:{lang_tab_common:"常用公式",lang_tab_symbol:"符号",lang_tab_letter:"字母"}}}},328:function(t,e,n){var i=n(329);"string"==typeof i&&(i=[[t.i,i,""]]);var o={attributes:{class:"webpack-style"},insert:"head",singleton:!1};n(29)(i,o);i.locals&&(t.exports=i.locals)},329:function(t,e,n){(t.exports=n(28)(!1)).push([t.i,".mq-editable-field{display:-moz-inline-box;display:inline-block}.mq-editable-field .mq-cursor{border-left:1px solid black;margin-left:-1px;position:relative;z-index:1;padding:0;display:-moz-inline-box;display:inline-block}.mq-editable-field .mq-cursor.mq-blink{visibility:hidden}.mq-editable-field,.mq-math-mode .mq-editable-field{border:1px solid gray}.mq-editable-field.mq-focused,.mq-math-mode .mq-editable-field.mq-focused{-webkit-box-shadow:#8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;-moz-box-shadow:#8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;box-shadow:#8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;border-color:#709AC0;border-radius:1px}.mq-math-mode .mq-editable-field{margin:1px}.mq-editable-field .mq-latex-command-input{color:inherit;font-family:\"楷体\", monospace;border:1px solid gray;padding-right:1px;margin-right:1px;margin-left:2px}.mq-editable-field .mq-latex-command-input.mq-empty{background:transparent}.mq-editable-field .mq-latex-command-input.mq-hasCursor{border-color:ActiveBorder}.mq-editable-field.mq-empty:after,.mq-editable-field.mq-text-mode:after,.mq-math-mode .mq-empty:after{visibility:hidden;content:'c'}.mq-editable-field .mq-cursor:only-child:after,.mq-editable-field .mq-textarea+.mq-cursor:last-child:after{visibility:hidden;content:'c'}.mq-editable-field .mq-text-mode .mq-cursor:only-child:after{content:''}.mq-editable-field.mq-text-mode{overflow-x:auto;overflow-y:hidden}.mq-root-block,.mq-math-mode .mq-root-block{display:-moz-inline-box;display:inline-block;width:100%;padding:2px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;white-space:nowrap;overflow:hidden;vertical-align:middle}.mq-math-mode{font-variant:normal;font-weight:normal;font-style:normal;font-size:115%;line-height:1;display:-moz-inline-box;display:inline-block}.mq-math-mode .mq-non-leaf,.mq-math-mode .mq-scaled{display:-moz-inline-box;display:inline-block}.mq-math-mode var,.mq-math-mode .mq-text-mode,.mq-math-mode .mq-nonSymbola{font-family:\"楷体\", Symbola, serif;line-height:.9}.mq-math-mode *{font-size:inherit;line-height:inherit;margin:0;padding:0;border-color:black;-webkit-user-select:none;-moz-user-select:none;user-select:none;box-sizing:border-box}.mq-math-mode .mq-empty{background:#ccc}.mq-math-mode .mq-empty.mq-root-block{background:transparent}.mq-math-mode.mq-empty{background:transparent}.mq-math-mode .mq-text-mode{font-size:87%}.mq-math-mode .mq-font{font:1em \"Times New Roman\", Symbola, serif}.mq-math-mode .mq-font *{font-family:inherit;font-style:inherit}.mq-math-mode b,.mq-math-mode b.mq-font{font-weight:bolder}.mq-math-mode var,.mq-math-mode i,.mq-math-mode i.mq-font{font-style:italic}.mq-math-mode var.mq-f{margin-right:0.2em;margin-left:0.1em}.mq-math-mode .mq-roman var.mq-f{margin:0}.mq-math-mode big{font-size:125%}.mq-math-mode .mq-roman{font-style:normal}.mq-math-mode .mq-sans-serif{font-family:'楷体', Symbola, serif}.mq-math-mode .mq-monospace{font-family:'楷体', Symbola, serif}.mq-math-mode .mq-overline{border-top:1px solid black;margin-top:1px}.mq-math-mode .mq-underline{border-bottom:1px solid black;margin-bottom:1px}.mathquill-editable,.mathquill-rendered-math{border:0px;padding:0px;margin:4px}.mq-math-mode .mq-binary-operator{padding:0 0.2em;display:-moz-inline-box;display:inline-block}.mq-math-mode .mq-supsub{font-size:90%;vertical-align:-0.5em}.mq-math-mode .mq-lim-sub{font-size:80%;vertical-align:.5em;float:right}.mq-math-mode .mq-supsub.mq-limit{font-size:80%;vertical-align:-0.4em}.mq-math-mode .mq-supsub.mq-sup-only{vertical-align:.5em}.mq-math-mode .mq-supsub.mq-sup-only .mq-sup{display:inline-block;vertical-align:text-bottom}.mq-math-mode .mq-supsub .mq-sup{display:block}.mq-math-mode .mq-supsub .mq-sub{display:block;float:left}.mq-math-mode .mq-supsub.mq-limit .mq-sub{margin-left:-0.25em}.mq-math-mode .mq-supsub .mq-binary-operator{padding:0 .1em}.mq-math-mode .mq-supsub .mq-fraction{font-size:70%}.mq-math-mode sup.mq-nthroot{font-size:80%;vertical-align:0.8em;margin-right:-0.6em;margin-left:.2em;min-width:.5em}.mq-math-mode .mq-paren{padding:0 .1em;vertical-align:top;-webkit-transform-origin:center .06em;-moz-transform-origin:center .06em;-ms-transform-origin:center .06em;-o-transform-origin:center .06em;transform-origin:center .06em}.mq-math-mode .mq-paren.mq-ghost{color:silver}.mq-scaled{font-family:'宋体'}.mq-math-mode .mq-paren+span{margin-top:.1em;margin-bottom:.1em}.mq-math-mode .mq-array{vertical-align:middle;text-align:center}.mq-math-mode .mq-array>span{display:block}.mq-math-mode .mq-operator-name{font-family:'楷体', \"Times New Roman\", serif;line-height:.9;font-style:normal}.mq-math-mode var.mq-operator-name.mq-first{padding-left:.2em}.mq-math-mode var.mq-operator-name.mq-last{padding-right:.2em}.mq-math-mode .mq-fraction{font-size:90%;text-align:center;vertical-align:-0.4em;padding:0 .2em}.mq-math-mode .mq-fraction,.mq-math-mode .mq-large-operator,.mq-math-mode x:-moz-any-link{display:-moz-groupbox}.mq-math-mode .mq-fraction,.mq-math-mode .mq-large-operator,.mq-math-mode x:-moz-any-link,.mq-math-mode x:default{display:inline-block}.mq-math-mode .mq-numerator,.mq-math-mode .mq-denominator{display:block}.mq-math-mode .mq-numerator{padding:0 0.1em}.mq-math-mode .mq-denominator{border-top:1px solid;float:right;width:100%;padding:0.1em}.mq-math-mode .mq-sqrt-prefix{padding-top:0;position:relative;top:0em;left:5px;vertical-align:top;-webkit-transform-origin:top;-moz-transform-origin:top;-ms-transform-origin:top;-o-transform-origin:top;transform-origin:top}.mq-math-mode .mq-sqrt-stem{border-top:1px solid;margin-top:1px;padding-left:.15em;padding-right:.2em;margin-right:.1em;padding-top:1px}.mq-math-mode .mq-vector-prefix{display:block;text-align:center;line-height:.25em;margin-bottom:-0.1em;font-size:0.75em}.mq-math-mode .mq-vector-stem{display:block}.mq-math-mode .mq-large-operator{text-align:center}.mq-math-mode .mq-large-operator .mq-from,.mq-math-mode .mq-large-operator big,.mq-math-mode .mq-large-operator .mq-to{display:block}.mq-math-mode .mq-large-operator .mq-from,.mq-math-mode .mq-large-operator .mq-to{font-size:80%}.mq-math-mode .mq-large-operator .mq-from{float:right;width:100%}.mq-math-mode,.mq-math-mode .mq-editable-field{cursor:text;font-family:'楷体', \"Times New Roman\", serif}.mq-math-mode .mq-overarrow{border-top:1px solid black;margin-top:1px;padding-top:0.2em}.mq-math-mode .mq-overarrow:before{display:block;position:relative;top:-0.34em;font-size:0.5em;line-height:0em;content:'\\27A4';text-align:right}.mq-math-mode .mq-overarrow.mq-arrow-left:before{-moz-transform:scaleX(-1);-o-transform:scaleX(-1);-webkit-transform:scaleX(-1);transform:scaleX(-1);filter:FlipH;-ms-filter:\"FlipH\"}.mq-math-mode .mq-selection,.mq-editable-field .mq-selection,.mq-math-mode .mq-selection .mq-non-leaf,.mq-editable-field .mq-selection .mq-non-leaf,.mq-math-mode .mq-selection .mq-scaled,.mq-editable-field .mq-selection .mq-scaled{background:#B4D5FE !important;background:Highlight !important;color:HighlightText;border-color:HighlightText}.mq-math-mode .mq-selection .mq-matrixed,.mq-editable-field .mq-selection .mq-matrixed{background:#39F !important}.mq-math-mode .mq-selection .mq-matrixed-container,.mq-editable-field .mq-selection .mq-matrixed-container{filter:progid:DXImageTransform.Microsoft.Chroma(color='#3399FF') !important}.mq-math-mode .mq-selection.mq-blur,.mq-editable-field .mq-selection.mq-blur,.mq-math-mode .mq-selection.mq-blur .mq-non-leaf,.mq-editable-field .mq-selection.mq-blur .mq-non-leaf,.mq-math-mode .mq-selection.mq-blur .mq-scaled,.mq-editable-field .mq-selection.mq-blur .mq-scaled,.mq-math-mode .mq-selection.mq-blur .mq-matrixed,.mq-editable-field .mq-selection.mq-blur .mq-matrixed{background:#D4D4D4 !important;color:black;border-color:black}.mq-math-mode .mq-selection.mq-blur .mq-matrixed-container,.mq-editable-field .mq-selection.mq-blur .mq-matrixed-container{filter:progid:DXImageTransform.Microsoft.Chroma(color='#D4D4D4') !important}.mq-editable-field .mq-textarea,.mq-math-mode .mq-textarea{position:relative;-webkit-user-select:text;-moz-user-select:text;user-select:text}.mq-editable-field .mq-textarea *,.mq-math-mode .mq-textarea *,.mq-editable-field .mq-selectable,.mq-math-mode .mq-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text;position:absolute;clip:rect(1em 1em 1em 1em);-webkit-transform:scale(0);-moz-transform:scale(0);-ms-transform:scale(0);-o-transform:scale(0);transform:scale(0);resize:none;width:1px;height:1px}.mq-math-mode .mq-matrixed{background:white;display:-moz-inline-box;display:inline-block}.mq-math-mode .mq-matrixed-container{filter:progid:DXImageTransform.Microsoft.Chroma(color='white');margin-top:-0.1em}\n",""])},330:function(t,e,n){var i=n(331);"string"==typeof i&&(i=[[t.i,i,""]]);var o={attributes:{class:"webpack-style"},insert:"head",singleton:!1};n(29)(i,o);i.locals&&(t.exports=i.locals)},331:function(t,e,n){(t.exports=n(28)(!1)).push([t.i,'/*! \n* @package IcoFont \n* @version 1.0.1 \n* @author IcoFont https://icofont.com \n* @copyright Copyright (c) 2015 - 2019 IcoFont \n* @license - https://icofont.com/license/\n*/@font-face{font-family:IcoFont;font-weight:400;font-style:Regular;src:url(data:application/font-woff2;charset=utf-8;base64,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) format("woff2"),url(data:application/font-woff;charset=utf-8;base64,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) format("woff")}[class*=" icofont-"],[class^=icofont-]{font-family:IcoFont !important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;white-space:nowrap;word-wrap:normal;direction:ltr;line-height:1;-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}.icofont-computer:before{content:"\\eeee"}.icofont-info:before{content:"\\ef50"}.icofont-listine-dots:before{content:"\\ef74"}.icofont-listing-number:before{content:"\\ef76"}.icofont-print:before{content:"\\efc6"}.icofont-laughing:before{content:"\\eafc"}.icofont-file-file:before{content:"\\eb12"}.icofont-align-center:before{content:"\\eddf"}.icofont-align-left:before{content:"\\ede0"}.icofont-align-right:before{content:"\\ede1"}.icofont-bold:before{content:"\\ede3"}.icofont-brush:before{content:"\\ede4"}.icofont-eraser-alt:before{content:"\\edee"}.icofont-italic-alt:before{content:"\\edf2"}.icofont-link-broken:before{content:"\\edf8"}.icofont-paper-clip:before{content:"\\edfa"}.icofont-save:before{content:"\\ee00"}.icofont-strike-through:before{content:"\\ee02"}.icofont-subscript:before{content:"\\ee04"}.icofont-superscript:before{content:"\\ee05"}.icofont-undo:before{content:"\\ee0b"}.icofont-redo:before{content:"\\edfe"}.icofont-pin:before{content:"\\edfc"}.icofont-font:before{content:"\\edef"}.icofont-picture:before{content:"\\efbc"}.icofont-ui-video-play:before{content:"\\ec92"}.icofont-code-alt:before{content:"\\ede6"}.icofont-architecture-alt:before{content:"\\e985"}.icofont-square-root:before{content:"\\ec04"}.icofont-clip-board:before{content:"\\ede5"}.icofont-code:before{content:"\\eeea"}.icofont-underline:before{content:"\\ee0a"}.icofont-xs{font-size:.5em}.icofont-sm{font-size:.75em}.icofont-md{font-size:1.25em}.icofont-lg{font-size:1.5em}.icofont-1x{font-size:1em}.icofont-2x{font-size:2em}.icofont-3x{font-size:3em}.icofont-4x{font-size:4em}.icofont-5x{font-size:5em}.icofont-6x{font-size:6em}.icofont-7x{font-size:7em}.icofont-8x{font-size:8em}.icofont-9x{font-size:9em}.icofont-10x{font-size:10em}.icofont-fw{text-align:center;width:1.25em}.icofont-ul{list-style-type:none;padding-left:0;margin-left:0}.icofont-ul>li{position:relative;line-height:2em}.icofont-ul>li .icofont{display:inline-block;vertical-align:middle}.icofont-border{border:solid .08em #f1f1f1;border-radius:.1em;padding:.2em .25em .15em}.icofont-pull-left{float:left}.icofont-pull-right{float:right}.icofont.icofont-pull-left{margin-right:.3em}.icofont.icofont-pull-right{margin-left:.3em}.icofont-spin{-webkit-animation:icofont-spin 2s infinite linear;animation:icofont-spin 2s infinite linear;display:inline-block}.icofont-pulse{-webkit-animation:icofont-spin 1s infinite steps(8);animation:icofont-spin 1s infinite steps(8);display:inline-block}@-webkit-keyframes icofont-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes icofont-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.icofont-rotate-90{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.icofont-rotate-180{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.icofont-rotate-270{-webkit-transform:rotate(270deg);transform:rotate(270deg)}.icofont-flip-horizontal{-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.icofont-flip-vertical{-webkit-transform:scale(1, -1);transform:scale(1, -1)}.icofont-flip-horizontal.icofont-flip-vertical{-webkit-transform:scale(-1, -1);transform:scale(-1, -1)}:root .icofont-flip-horizontal,:root .icofont-flip-vertical,:root .icofont-rotate-180,:root .icofont-rotate-270,:root .icofont-rotate-90{-webkit-filter:none;filter:none;display:inline-block}.icofont-inverse{color:#fff}.sr-only{border:0;clip:rect(0, 0, 0, 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.sr-only-focusable:active,.sr-only-focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;width:auto}\n',""])},332:function(t,e){function re(t){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(c,d){function h(){}function e(n){var i=n.length-1;return function(){var t=Rt.call(arguments,0,i),e=Rt.call(arguments,i);return n.apply(this,t.concat([e]))}}function n(t){return e(function(e,n){"function"!=typeof e&&(e=Qt(e));return t.call(this,function(t){return e.apply(t,[t].concat(n))})})}function o(t){var e=Rt.call(arguments,1);return function(){return t.apply(this,e)}}function l(t,e){if(!e)throw new Error("prayer failed: "+t)}function s(t){l("a direction was passed",-1===t||t===zt)}function a(t,e,n){l("a parent is always present",t),l("leftward is properly set up",e?e[zt]===n&&e.parent===t:t.ends[-1]===n),l("rightward is properly set up",n?n[-1]===e&&n.parent===t:t.ends[zt]===e)}function i(){c.console&&console.warn('You are using the MathQuill API without specifying an interface version, which will fail in v1.0.0. Easiest fix is to do the following before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014–2015) → v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')}function r(t){return i(),ut(t)}function t(a){function s(t){var e,n;return t&&t.nodeType?(n=(e=Ft(t).children(".mq-root-block").attr(Lt))&&Pt.byId[e].controller)?l[n.KIND_OF_MQ](n):null:null}function e(t,e){var n,i,o;for(n in e&&e.handlers&&(e.handlers={fns:e.handlers,APIClasses:l}),e)e.hasOwnProperty(n)&&(i=e[n],o=Xt[n],t[n]=o?o(i):i)}var l,t,n;if(!(v<=a&&a<=y))throw"Only interface versions between "+v+" and "+y+" supported. You specified: "+a;for(n in l={},s.L=-1,s.R=zt,s.config=function(t){return e(Kt.p,t),this},s.registerEmbed=function(t,e){if(!/^[a-z][a-z0-9]*$/i.test(t))throw"Embed name must start with letter and be only letters and digits";te[t]=e},t=l.AbstractMathQuill=Bt(Zt,function(t){t.init=function(t){this.__controller=t,this.__options=t.options,this.id=t.id,this.data=t.data},t.__mathquillify=function(t){var e,n=this.__controller,i=n.root,o=n.container;n.createTextarea(),e=o.addClass(t).contents().detach(),i.jQ=Ft('<span class="mq-root-block"/>').attr(Lt,i.id).appendTo(o),this.latex(e.text()),this.revert=function(){return o.empty().unbind(".mathquill").removeClass("mq-editable-field mq-math-mode mq-text-mode").append(e)}},t.config=function(t){return e(this.__options,t),this},t.el=function(){return this.__controller.container[0]},t.text=function(){return this.__controller.exportText()},t.latex=function(t){return 0<arguments.length?(this.__controller.renderLatexMath(t),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()},t.html=function(){return this.__controller.root.jQ.html().replace(/ mathquill-(?:command|block)-id="?\d+"?/g,"").replace(/<span class="?mq-cursor( mq-blink)?"?>.?<\/span>/i,"").replace(/ mq-hasCursor|mq-hasCursor ?/,"").replace(/ class=(""|(?= |>))/g,"")},t.reflow=function(){return this.__controller.root.postOrder("reflow"),this}}),s.prototype=t.prototype,l.EditableField=Bt(t,function(t,e){t.__mathquillify=function(){return e.__mathquillify.apply(this,arguments),this.__controller.editable=!0,this.__controller.delegateMouseEvents(),this.__controller.editablesTextareaEvents(),this},t.focus=function(){return this.__controller.textarea.focus(),this},t.blur=function(){return this.__controller.textarea.blur(),this},t.write=function(t){return this.__controller.writeLatex(t),this.__controller.scrollHoriz(),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this},t.cmd=function(t){var e,n=this.__controller.notify(),i=n.cursor;return/^\\[a-z]+$/i.test(t)?(t=t.slice(1),(e=Ht[t])&&(t=e(t),i.selection&&t.replaces(i.replaceSelection()),t.createLeftOf(i.show()),this.__controller.scrollHoriz())):i.parent.write(i,t),n.blurred&&i.hide().parent.blur(),this},t.select=function(){var t=this.__controller;for(t.notify("move").cursor.insAtRightEnd(t.root);t.cursor[-1];)t.selectLeft();return this},t.clearSelection=function(){return this.__controller.cursor.clearSelection(),this},t.moveToDirEnd=function(t){return this.__controller.notify("move").cursor.insAtDirEnd(t,this.__controller.root),this},t.moveToLeftEnd=function(){return this.moveToDirEnd(-1)},t.moveToRightEnd=function(){return this.moveToDirEnd(zt)},t.keystroke=function(t){var e;for(t=t.replace(/^\s+|\s+$/g,"").split(/\s+/),e=0;e<t.length;e+=1)this.__controller.keystroke(t[e],{preventDefault:h});return this},t.typedText=function(t){for(var e=0;e<t.length;e+=1)this.__controller.typedText(t.charAt(e));return this},t.dropEmbedded=function(t,e,n){var i=t-Ft(c).scrollLeft(),o=e-Ft(c).scrollTop(),r=d.elementFromPoint(i,o);this.__controller.seek(Ft(r),t,e),pt().setOptions(n).createLeftOf(this.__controller.cursor)},t.clickAt=function(t,e,n){n=n||d.elementFromPoint(t,e);var i=this.__controller,o=i.root;return _t.contains(o.jQ[0],n)||(n=o.jQ[0]),i.seek(Ft(n),t+pageXOffset,e+pageYOffset),i.blurred&&this.focus(),this},t.ignoreNextMousedown=function(t){return this.__controller.cursor.options.ignoreNextMousedown=t,this}}),(s.EditableField=function(){throw"wtf don't call me, I'm 'abstract'"}).prototype=l.EditableField.prototype,Jt)!function(o,t){var r=l[o]=t(l);(s[o]=function(t,e){var n,i=s(t);return i instanceof r||!t||!t.nodeType?i:((n=Yt(r.RootBlock(),Ft(t),Kt())).KIND_OF_MQ=o,r(n).__mathquillify(e,a))}).prototype=r.prototype}(n,Jt[n]);return s}function u(t){var e,n="moveOutOf deleteOutOf selectOutOf upOutOf downOutOf".split(" ");for(e=0;e<n.length;e+=1)!function(e){t[e]=function(t){this.controller.handle(e,t)}}(n[e]);t.reflow=function(){this.controller.handle("reflow"),this.controller.handle("edited"),this.controller.handle("edit")}}function p(t,e,n){return Bt(N,{ctrlSeq:t,htmlTemplate:"<"+e+" "+n+">&0</"+e+">"})}function f(t){var e=this.parent,n=t;do{if(n[zt])return t.insLeftOf(e);n=n.parent.parent}while(n!==e);t.insRightOf(e)}function m(t,e){t.jQadd=function(){e.jQadd.apply(this,arguments),this.delimjQs=this.jQ.children(":first").add(this.jQ.children(":last")),this.contentjQ=this.jQ.children(":eq(1)")},t.reflow=function(){var t=this.contentjQ.outerHeight()/parseFloat(this.contentjQ.css("fontSize"));J(this.delimjQs,1.5,1.2*t)}}function g(t,e){e=e||t;var n=ct[t],i=ct[e];Wt[t]=o(lt,-1,t,n,e,i),Wt[n]=o(lt,zt,t,n,e,i)}c=c||window,d=d||document;var b,v,y,x,w,k,C,q,E,T,j,A,O,S,N,_,M,L,D,I,R,Q,B,z,F,U,P,$,H,W,V,G,Y,J,K,X,Z,tt,et,nt,it,ot,rt,at,st,lt,ct,dt,ut,pt,ht,ft,mt,gt,bt,vt,yt,xt,wt,kt,Ct,qt,Et,Tt,jt,At,Ot,St,Nt,_t=c.jQuery,Mt="mathquill-command-id",Lt="mathquill-block-id",Dt=Math.min,It=Math.max,Rt=[].slice,Qt=e(function(n,i){return e(function(t,e){return n in t?t[n].apply(t,i.concat(e)):void 0})}),Bt=(ft="prototype",mt={}.hasOwnProperty,function e(n,t){function i(){var t=new o;return ne(t.init)&&t.init.apply(t,arguments),t}function o(){}var r,a,s;return void 0===t&&(t=n,n=Object),i.Bare=o,r=ie[ft]=n[ft],((a=o[ft]=i[ft]=i.p=new ie).constructor=i).extend=function(t){return e(i,t)},(i.open=function(t){if(s={},ne(t)?s=t.call(i,a,r,i,n):ee(t)&&(s=t),ee(s))for(var e in s)mt.call(s,e)&&(a[e]=s[e]);return ne(a.init)||(a.init=n),i})(t)}),zt=1,Ft=Bt(_t,function(t){t.insDirOf=function(t,e){return-1===t?this.insertBefore(e.first()):this.insertAfter(e.last())},t.insAtDirEnd=function(t,e){return-1===t?this.prependTo(e):this.appendTo(e)}}),Ut=Bt(function(t){t.parent=0,t[-1]=0,t[zt]=0,t.init=function(t,e,n){this.parent=t,this[-1]=e,this[zt]=n},this.copy=function(t){return Ut(t.parent,t[-1],t[zt])}}),Pt=Bt(function(t){t[-1]=0,t[zt]=0;var e=t.parent=0;this.byId={},t.init=function(){this.id=e+=1,(Pt.byId[this.id]=this).ends={},this.ends[-1]=0,this.ends[zt]=0},t.dispose=function(){delete Pt.byId[this.id]},t.toString=function(){return"{{ MathQuill Node #"+this.id+" }}"},t.jQ=Ft(),t.jQadd=function(t){return this.jQ=this.jQ.add(t)},t.jQize=function(t){function i(t){var e,n;for(t.getAttribute&&(e=t.getAttribute("mathquill-command-id"),n=t.getAttribute("mathquill-block-id"),e&&Pt.byId[e].jQadd(t),n&&Pt.byId[n].jQadd(t)),t=t.firstChild;t;t=t.nextSibling)i(t)}var e;for(t=Ft(t||this.html()),e=0;e<t.length;e+=1)i(t[e]);return t},t.createDir=function(t,e){s(t);return this.jQize(),this.jQ.insDirOf(t,e.jQ),e[t]=this.adopt(e.parent,e[-1],e[zt]),this},t.createLeftOf=function(t){return this.createDir(-1,t)},t.selectChildren=function(t,e){return Gt(t,e)},t.bubble=n(function(t){var e;for(e=this;e&&!1!==t(e);e=e.parent);return this}),t.postOrder=n(function(n){return function t(e){e.eachChild(t),n(e)}(this),this}),t.isEmpty=function(){return 0===this.ends[-1]&&0===this.ends[zt]},t.children=function(){return $t(this.ends[-1],this.ends[zt])},t.eachChild=function(){var t=this.children();return t.each.apply(t,arguments),this},t.foldChildren=function(t,e){return this.children().fold(t,e)},t.withDirAdopt=function(t,e,n,i){return $t(this,this).withDirAdopt(t,e,n,i),this},t.adopt=function(t,e,n){return $t(this,this).adopt(t,e,n),this},t.disown=function(){return $t(this,this).disown(),this},t.remove=function(){return this.jQ.remove(),this.postOrder("dispose"),this.disown()}}),$t=Bt(function(t){t.init=function(t,e,n){if(n===b&&(n=-1),s(n),l("no half-empty fragments",!t==!e),this.ends={},t){l("withDir is passed to Fragment",t instanceof Pt),l("oppDir is passed to Fragment",e instanceof Pt),l("withDir and oppDir have the same parent",t.parent===e.parent),this.ends[n]=t,this.ends[-n]=e;var i=this.fold([],function(t,e){return t.push.apply(t,e.jQ.get()),t});this.jQ=this.jQ.add(i)}},t.jQ=Ft(),t.withDirAdopt=function(t,e,n,i){return-1===t?this.adopt(e,n,i):this.adopt(e,i,n)},t.adopt=function(e,n,t){var i,o,r;return a(e,n,t),(i=this).disowned=!1,(o=i.ends[-1])?(r=i.ends[zt],n||(e.ends[-1]=o),t?t[-1]=r:e.ends[zt]=r,i.ends[zt][zt]=t,i.each(function(t){t[-1]=n,t.parent=e,n&&(n[zt]=t),n=t}),i):this},t.disown=function(){var t,e,n=this,i=n.ends[-1];return!i||n.disowned||(n.disowned=!0,t=n.ends[zt],a(e=i.parent,i[-1],i),a(e,t,t[zt]),i[-1]?i[-1][zt]=t[zt]:e.ends[-1]=t[zt],t[zt]?t[zt][-1]=i[-1]:e.ends[zt]=i[-1]),n},t.remove=function(){return this.jQ.remove(),this.each("postOrder","dispose"),this.disown()},t.each=n(function(t){var e=this.ends[-1];if(!e)return this;for(;e!==this.ends[zt][zt]&&!1!==t(e);e=e[zt]);return this}),t.fold=function(e,n){return this.each(function(t){e=n.call(this,e,t)}),e}}),Ht={},Wt={},Vt=Bt(Ut,function(t){t.init=function(t,e){this.parent=t,this.options=e;var n=this.jQ=this._jQ=Ft('<span class="mq-cursor">&#8203;</span>');this.blink=function(){n.toggleClass("mq-blink")},this.upDownCache={}},t.show=function(){return this.jQ=this._jQ.removeClass("mq-blink"),"intervalId"in this?clearInterval(this.intervalId):(this[zt]?this.selection&&this.selection.ends[-1][-1]===this[-1]?this.jQ.insertBefore(this.selection.jQ):this.jQ.insertBefore(this[zt].jQ.first()):this.jQ.appendTo(this.parent.jQ),this.parent.focus()),this.intervalId=setInterval(this.blink,500),this},t.hide=function(){return"intervalId"in this&&clearInterval(this.intervalId),delete this.intervalId,this.jQ.detach(),this.jQ=Ft(),this},t.withDirInsertAt=function(t,e,n,i){var o=this.parent;this.parent=e,this[t]=n,this[-t]=i,o!==e&&o.blur&&o.blur(this)},t.insDirOf=function(t,e){return s(t),this.jQ.insDirOf(t,e.jQ),this.withDirInsertAt(t,e.parent,e[t],e),this.parent.jQ.addClass("mq-hasCursor"),this},t.insLeftOf=function(t){return this.insDirOf(-1,t)},t.insRightOf=function(t){return this.insDirOf(zt,t)},t.insAtDirEnd=function(t,e){return s(t),this.jQ.insAtDirEnd(t,e.jQ),this.withDirInsertAt(t,e,0,e.ends[t]),e.focus(),this},t.insAtLeftEnd=function(t){return this.insAtDirEnd(-1,t)},t.insAtRightEnd=function(t){return this.insAtDirEnd(zt,t)},t.jumpUpDown=function(t,e){var n,i,o=this;o.upDownCache[t.id]=Ut.copy(o),(n=o.upDownCache[e.id])?n[zt]?o.insLeftOf(n[zt]):o.insAtRightEnd(n.parent):(i=o.offset().left,e.seek(i,o))},t.offset=function(){var t=this.jQ.removeClass("mq-cursor").offset();return this.jQ.addClass("mq-cursor"),t},t.unwrapGramp=function(){var e=this.parent.parent,n=e.parent,i=e[zt],o=e[-1];if(e.disown().eachChild(function(t){t.isEmpty()||(t.children().adopt(n,o,i).each(function(t){t.jQ.insertBefore(e.jQ.first())}),o=t.ends[zt])}),!this[zt])if(this[-1])this[zt]=this[-1][zt];else for(;!this[zt];){if(this.parent=this.parent[zt],!this.parent){this[zt]=e[zt],this.parent=n;break}this[zt]=this.parent.ends[-1]}this[zt]?this.insLeftOf(this[zt]):this.insAtRightEnd(n),e.jQ.remove(),e[-1].siblingDeleted&&e[-1].siblingDeleted(this.options,zt),e[zt].siblingDeleted&&e[zt].siblingDeleted(this.options,-1)},t.startSelection=function(){var t,e=this.anticursor=Ut.copy(this),n=e.ancestors={};for(t=e;t.parent;t=t.parent)n[t.parent.id]=t},t.endSelection=function(){delete this.anticursor},t.select=function(){var t,e,n,i,o,r,a,s=this.anticursor;if(this[-1]===s[-1]&&this.parent===s.parent)return!1;for(t=this;t.parent;t=t.parent)if(t.parent.id in s.ancestors){e=t.parent;break}if(l("cursor and anticursor in the same tree",e),n=s.ancestors[e.id],r=zt,t[-1]!==n)for(a=t;a;a=a[zt])if(a[zt]===n[zt]){r=-1,i=t,o=n;break}return r===zt&&(i=n,o=t),i instanceof Ut&&(i=i[zt]),o instanceof Ut&&(o=o[-1]),this.hide().selection=e.selectChildren(i,o),this.insDirOf(r,this.selection.ends[r]),this.selectionChanged(),!0},t.clearSelection=function(){return this.selection&&(this.selection.clear(),delete this.selection,this.selectionChanged()),this},t.deleteSelection=function(){this.selection&&(this[-1]=this.selection.ends[-1][-1],this[zt]=this.selection.ends[zt][zt],this.selection.remove(),this.selectionChanged(),delete this.selection)},t.replaceSelection=function(){var t=this.selection;return t&&(this[-1]=t.ends[-1][-1],this[zt]=t.ends[zt][zt],delete this.selection),t}}),Gt=Bt($t,function(t,e){t.init=function(){e.init.apply(this,arguments),this.jQ=this.jQ.wrapAll('<span class="mq-selection"></span>').parent()},t.adopt=function(){return this.jQ.replaceWith(this.jQ=this.jQ.children()),e.adopt.apply(this,arguments)},t.clear=function(){return this.jQ.replaceWith(this.jQ[0].childNodes),this},t.join=function(n){return this.fold("",function(t,e){return t+e[n]()})}}),Yt=Bt(function(t){t.init=function(t,e,n){this.id=t.id,this.data={},this.root=t,this.container=e,this.options=n,(t.controller=this).cursor=t.cursor=Vt(t,n)},t.handle=function(t,e){var n,i=this.options.handlers;i&&i.fns[t]&&(n=i.APIClasses[this.KIND_OF_MQ](this),-1===e||e===zt?i.fns[t](e,n):i.fns[t](n))};var e=[];this.onNotify=function(t){e.push(t)},t.notify=function(){for(var t=0;t<e.length;t+=1)e[t].apply(this.cursor,arguments);return this}}),Jt={},Kt=Bt(),Xt={},Zt=Bt(),te={};function ee(t){return"object"==re(t)}function ne(t){return"function"==typeof t}function ie(){}function oe(t){var e,n=t[0]||O();for(e=1;e<t.length;e+=1)t[e].children().adopt(n,n.ends[zt],0);return n}for(U in r.prototype=Zt.p,r.interfaceVersion=function(t){if(1!==t)throw"Only interface version 1 supported. You specified: "+t;return(i=function(){c.console&&c.console.warn('You called MathQuill.interfaceVersion(1); to specify the interface version, which will fail in v1.0.0. You can fix this easily by doing this before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014–2015) → v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')})(),r},v=(r.getInterface=t).MIN=1,y=t.MAX=2,r.noConflict=function(){return c.MathQuill=x,r},x=c.MathQuill,c.MathQuill=r,w=Bt(function(t,e,s){function n(t,e){throw"Parse Error: "+e+" at "+(t=t?"'"+t+"'":"EOF")}var i,o,r;t.init=function(t){this._=t},t.parse=function(t){return this.skip(r)._(""+t,function(t,e){return e},n)},t.or=function(o){l("or is passed a parser",o instanceof s);var t=this;return s(function(e,n,i){return t._(e,n,function(t){return o._(e,n,i)})})},t.then=function(r){var e=this;return s(function(t,i,o){return e._(t,function(t,e){var n=r instanceof s?r:r(e);return l("a parser is returned",n instanceof s),n._(t,i,o)},o)})},t.many=function(){var a=this;return s(function(n,t,e){function i(t,e){return n=t,r.push(e),!0}function o(){return!1}for(var r=[];a._(n,i,o););return t(n,r)})},t.times=function(d,u){arguments.length<2&&(u=d);var p=this;return s(function(n,t,e){function i(t,e){return l.push(e),n=t,!0}function o(t,e){return a=e,n=t,!1}function r(t,e){return!1}var a,s,l=[],c=!0;for(s=0;s<d;s+=1)if(!(c=p._(n,i,o)))return e(n,a);for(;s<u&&c;s+=1)c=p._(n,i,r);return t(n,l)})},t.result=function(t){return this.then(o(t))},t.atMost=function(t){return this.times(0,t)},t.atLeast=function(t){var n=this;return n.times(t).then(function(e){return n.many().map(function(t){return e.concat(t)})})},t.map=function(e){return this.then(function(t){return o(e(t))})},t.skip=function(e){return this.then(function(t){return e.result(t)})},this.string=function(o){var r=o.length,a="expected '"+o+"'";return s(function(t,e,n){var i=t.slice(0,r);return i===o?e(t.slice(r),i):n(t,a)})},i=this.regex=function(r){l("regexp parser is anchored","^"===r.toString().charAt(1));var a="expected "+r;return s(function(t,e,n){var i,o=r.exec(t);return o?(i=o[0],e(t.slice(i.length),i)):n(t,a)})},o=s.succeed=function(n){return s(function(t,e){return e(t,n)})},s.fail=function(i){return s(function(t,e,n){return n(t,i)})},s.letter=i(/^[a-z]/i),s.letters=i(/^[a-z]*/i),s.digit=i(/^[0-9]/),s.digits=i(/^[0-9]*/),s.whitespace=i(/^\s+/),s.optWhitespace=i(/^\s*/),s.any=s(function(t,e,n){return t?e(t.slice(1),t.charAt(0)):n(t,"expected any character")}),s.all=s(function(t,e,n){return e("",t)}),r=s.eof=s(function(t,e,n){return t?n(t,"expected EOF"):e(t,t)})}),Nt={8:"Backspace",9:"Tab",10:"Enter",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",144:"NumLock"},k=function(t,e){function n(t){p=t,clearTimeout(a),a=setTimeout(t)}function i(){e.keystroke(function(t){var e,n=t.which||t.keyCode,i=Nt[n],o=[];return t.ctrlKey&&o.push("Ctrl"),t.originalEvent&&t.originalEvent.metaKey&&o.push("Meta"),t.altKey&&o.push("Alt"),t.shiftKey&&o.push("Shift"),e=i||String.fromCharCode(n),o.length||i?(o.push(e),o.join("-")):e}(l),l)}function o(){if(!function(){var t=d[0];return"selectionStart"in t&&t.selectionStart!==t.selectionEnd}()){var t=d.val();1===t.length?(d.val(""),e.typedText(t)):t&&d[0].select&&d[0].select()}}function r(){var t=d.val();d.val(""),t&&e.paste(t)}var a,s,l=null,c=null,d=_t(t),u=_t(e.container||d),p=h;return u.bind("keydown keypress input keyup focusout paste",function(t){p(t)}),s=!1,u.bind({keydown:function(t){l=t,c=null,s&&n(function(t){t&&"focusout"===t.type||!d[0].select||d[0].select(),p=h,clearTimeout(a)}),i()},keypress:function(t){l&&c&&i(),c=t,n(o)},focusout:function(){l=c=null},paste:function(t){d.focus(),n(r)}}),{select:function(t){p(),p=h,clearTimeout(a),d.val(t),t&&d[0].select&&d[0].select(),s=!!t}}},Yt.open(function(t,e){t.exportText=function(){return this.root.foldChildren("",function(t,e){return t+e.text()})}}),Yt.open(function(t){t.focusBlurEvents=function(){function t(){clearTimeout(n),r.selection&&r.selection.jQ.addClass("mq-blur"),e()}function e(){r.hide().parent.blur(),i.container.removeClass("mq-focused"),Ft(c).off("blur",t)}var n,i=this,o=i.root,r=i.cursor;i.textarea.focus(function(){i.blurred=!1,clearTimeout(n),i.container.addClass("mq-focused"),r.parent||r.insAtRightEnd(o),r.selection?(r.selection.jQ.removeClass("mq-blur"),i.selectionChanged()):r.show()}).blur(function(){i.blurred=!0,n=setTimeout(function(){o.postOrder("intentionalBlur"),r.clearSelection().endSelection(),e()}),Ft(c).on("blur",t)}),i.blurred=!0,r.hide().parent.blur()}}),Yt.open(function(t){t.keystroke=function(t,e){this.cursor.parent.keystroke(t,e,this)}}),Pt.open(function(t){t.keystroke=function(t,e,n){var i=n.cursor;switch(t){case"Ctrl-Shift-Backspace":case"Ctrl-Backspace":n.ctrlDeleteDir(-1);break;case"Shift-Backspace":case"Backspace":n.backspace();break;case"Esc":case"Tab":return void n.escapeDir(zt,t,e);case"Shift-Tab":case"Shift-Esc":return void n.escapeDir(-1,t,e);case"End":n.notify("move").cursor.insAtRightEnd(i.parent);break;case"Ctrl-End":n.notify("move").cursor.insAtRightEnd(n.root);break;case"Shift-End":for(;i[zt];)n.selectRight();break;case"Ctrl-Shift-End":for(;i[zt]||i.parent!==n.root;)n.selectRight();break;case"Home":n.notify("move").cursor.insAtLeftEnd(i.parent);break;case"Ctrl-Home":n.notify("move").cursor.insAtLeftEnd(n.root);break;case"Shift-Home":for(;i[-1];)n.selectLeft();break;case"Ctrl-Shift-Home":for(;i[-1]||i.parent!==n.root;)n.selectLeft();break;case"Left":n.moveLeft();break;case"Shift-Left":n.selectLeft();break;case"Ctrl-Left":break;case"Right":n.moveRight();break;case"Shift-Right":n.selectRight();break;case"Ctrl-Right":break;case"Up":n.moveUp();break;case"Down":n.moveDown();break;case"Shift-Up":if(i[-1])for(;i[-1];)n.selectLeft();else n.selectLeft();case"Shift-Down":if(i[zt])for(;i[zt];)n.selectRight();else n.selectRight();case"Ctrl-Up":case"Ctrl-Down":break;case"Ctrl-Shift-Del":case"Ctrl-Del":n.ctrlDeleteDir(zt);break;case"Shift-Del":case"Del":n.deleteForward();break;case"Meta-A":case"Ctrl-A":for(n.notify("move").cursor.insAtRightEnd(n.root);i[-1];)n.selectLeft();break;default:return}e.preventDefault(),n.scrollHoriz()},t.moveOutOf=t.moveTowards=t.deleteOutOf=t.deleteTowards=t.unselectInto=t.selectOutOf=t.selectTowards=function(){l("overridden or never called on this node")}}),Yt.open(function(t){function e(t,e){var n=t.notify("upDown").cursor,i=e+"Into",o=e+"OutOf";return n[zt][i]?n.insAtLeftEnd(n[zt][i]):n[-1][i]?n.insAtRightEnd(n[-1][i]):n.parent.bubble(function(t){var e=t[o];return(!e||("function"==typeof e&&(e=t[o](n)),e instanceof Pt&&n.jumpUpDown(t,e),!0===e))&&void 0}),t}this.onNotify(function(t){"move"!==t&&"upDown"!==t||this.show().clearSelection()}),t.escapeDir=function(t,e,n){s(t);var i=this.cursor;return i.parent!==this.root&&n.preventDefault(),i.parent!==this.root?(i.parent.moveOutOf(t,i),this.notify("move")):void 0},Xt.leftRightIntoCmdGoes=function(t){if(t&&"up"!==t&&"down"!==t)throw'"up" or "down" required for leftRightIntoCmdGoes option, got "'+t+'"';return t},t.moveDir=function(t){s(t);var e=this.cursor,n=e.options.leftRightIntoCmdGoes;return e.selection?e.insDirOf(t,e.selection.ends[t]):e[t]?e[t].moveTowards(t,e,n):e.parent.moveOutOf(t,e,n),this.notify("move")},t.moveLeft=function(){return this.moveDir(-1)},t.moveRight=function(){return this.moveDir(zt)},t.moveUp=function(){return e(this,"up")},t.moveDown=function(){return e(this,"down")},this.onNotify(function(t){"upDown"!==t&&(this.upDownCache={})}),this.onNotify(function(t){"edit"===t&&this.show().deleteSelection()}),t.deleteDir=function(t){var e,n;return s(t),n=(e=this.cursor).selection,this.notify("edit"),n||(e[t]?e[t].deleteTowards(t,e):e.parent.deleteOutOf(t,e)),e[-1].siblingDeleted&&e[-1].siblingDeleted(e.options,zt),e[zt].siblingDeleted&&e[zt].siblingDeleted(e.options,-1),e.parent.bubble("reflow"),this},t.ctrlDeleteDir=function(t){s(t);var e=this.cursor;return!e[-1]||e.selection?ctrlr.deleteDir():(this.notify("edit"),$t(e.parent.ends[-1],e[-1]).remove(),e.insAtDirEnd(-1,e.parent),e[-1].siblingDeleted&&e[-1].siblingDeleted(e.options,zt),e[zt].siblingDeleted&&e[zt].siblingDeleted(e.options,-1),e.parent.bubble("reflow"),this)},t.backspace=function(){return this.deleteDir(-1)},t.deleteForward=function(){return this.deleteDir(zt)},this.onNotify(function(t){"select"!==t&&this.endSelection()}),t.selectDir=function(t){var e,n=this.notify("select").cursor,i=n.selection;s(t),n.anticursor||n.startSelection(),(e=n[t])?i&&i.ends[t]===e&&n.anticursor[-t]!==e?e.unselectInto(t,n):e.selectTowards(t,n):n.parent.selectOutOf(t,n),n.clearSelection(),n.select()||n.show()},t.selectLeft=function(){return this.selectDir(-1)},t.selectRight=function(){return this.selectDir(zt)}}),gt=w.string,bt=w.regex,vt=w.letter,yt=w.any,xt=w.optWhitespace,wt=w.succeed,kt=w.fail,Ct=vt.map(function(t){return R(t)}),qt=bt(/^[^${}\\_^]/).map(function(t){return j(t)}),Et=bt(/^[^\\a-eg-zA-Z]/).or(gt("\\").then(bt(/^[a-z]+/i).or(bt(/^\s+/).result(" ")).or(yt))).then(function(t){var e=Ht[t];return e?e(t).parser():kt("unknown command: \\"+t)}).or(Ct).or(qt),Tt=gt("{").then(function(){return At}).skip(gt("}")),jt=xt.then(Tt.or(Et.map(function(t){var e=O();return t.adopt(e,0,0),e}))),At=jt.many().map(oe).skip(xt),Ot=gt("[").then(jt.then(function(t){return"]"!==t.join("latex")?wt(t):kt()}).many().map(oe).skip(xt)).skip(gt("]")),(St=At).block=jt,St.optBlock=Ot,C=St,Yt.open(function(t,e){t.exportLatex=function(){return this.root.latex().replace(/(\\[a-z]+) (?![a-z])/gi,"$1")},t.writeLatex=function(t){var e=this.notify("edit").cursor,n=w.all,i=w.eof,o=C.skip(i).or(n.result(!1)).parse(t);return o&&!o.isEmpty()&&(o.children().adopt(e.parent,e[-1],e[zt]),o.jQize().insertBefore(e.jQ),e[-1]=o.ends[zt],o.finalizeInsert(e.options,e),o.ends[zt][zt].siblingCreated&&o.ends[zt][zt].siblingCreated(e.options,-1),o.ends[-1][-1].siblingCreated&&o.ends[-1][-1].siblingCreated(e.options,zt),e.parent.bubble("reflow")),this},t.renderLatexMath=function(t){var e,n,i=this.root,o=this.cursor,r=w.all,a=w.eof,s=C.skip(a).or(r.result(!1)).parse(t);i.eachChild("postOrder","dispose"),i.ends[-1]=i.ends[zt]=0,s&&s.children().adopt(i,0,0),e=i.jQ,s?(n=s.join("html"),e.html(n),i.jQize(e.children()),i.finalizeInsert(o.options)):e.empty(),delete o.selection,o.insAtRightEnd(i)},t.renderLatexText=function(t){var e,n,i,o,r,a,s,l,c=this.root,d=this.cursor;if(c.jQ.children().slice(1).remove(),c.eachChild("postOrder","dispose"),c.ends[-1]=c.ends[zt]=0,delete d.selection,d.show().insAtRightEnd(c),e=w.regex,n=w.string,i=w.eof,o=w.all,r=n("$").then(C).skip(n("$").or(i)).map(function(t){var e,n=M(d);return n.createBlocks(),e=n.ends[-1],t.children().adopt(e,0,0),n}),a=n("\\$").result("$").or(e(/^[^$]/)).map(j),s=r.or(a).many().skip(i).or(o.result(!1)).parse(t)){for(l=0;l<s.length;l+=1)s[l].adopt(c,c.ends[zt],0);c.jQize().appendTo(c.jQ),c.finalizeInsert(d.options)}}}),Yt.open(function(t){Kt.p.ignoreNextMousedown=h,t.delegateMouseEvents=function(){var d=this.root.jQ;this.container.bind("mousedown.mathquill",function(t){function n(t){e=Ft(t.target)}function i(t){a.anticursor||a.startSelection(),r.seek(e,t.pageX,t.pageY).cursor.select(),e=b}var e,o=Ft(t.target).closest(".mq-root-block"),r=Pt.byId[o.attr(Lt)||d.attr(Lt)].controller,a=r.cursor,s=a.blink,l=r.textareaSpan,c=r.textarea;t.preventDefault(),t.target.unselectable=!0,a.options.ignoreNextMousedown(t)||(a.options.ignoreNextMousedown=h,r.blurred&&(r.editable||o.prepend(l),c.focus()),a.blink=h,r.seek(Ft(t.target),t.pageX,t.pageY).cursor.startSelection(),o.mousemove(n),Ft(t.target.ownerDocument).mousemove(i).mouseup(function t(e){a.blink=s,a.selection||(r.editable?a.show():l.detach()),o.unbind("mousemove",n),Ft(e.target.ownerDocument).unbind("mousemove",i).unbind("mouseup",t)}))})}}),Yt.open(function(t){t.seek=function(t,e,n){var i,o,r,a=this.notify("select").cursor;return t&&((i=t.attr(Lt)||t.attr(Mt))||(i=(o=t.parent()).attr(Lt)||o.attr(Mt))),l("nodeId is the id of some Node that exists",r=i?Pt.byId[i]:this.root),a.clearSelection().show(),r.seek(e,a),this.scrollHoriz(),this}}),Yt.open(function(t){t.scrollHoriz=function(){var t,e,n,i,o,r=this.cursor,a=r.selection,s=this.root.jQ[0].getBoundingClientRect();if(a)if(i=(n=a.jQ[0].getBoundingClientRect()).left-(s.left+20),o=n.right-(s.right-20),a.ends[-1]===r[zt])if(i<0)e=i;else{if(!(0<o))return;e=n.left-o<s.left+20?i:o}else if(0<o)e=o;else{if(!(i<0))return;e=n.right-i>s.right-20?o:i}else if((t=r.jQ[0].getBoundingClientRect().left)>s.right-20)e=t-(s.right-20);else{if(!(t<s.left+20))return;e=t-(s.left+20)}this.root.jQ.stop().animate({scrollLeft:"+="+e},100)}}),Yt.open(function(t){Kt.p.substituteTextarea=function(){return Ft("<textarea autocapitalize=off autocomplete=off autocorrect=off spellcheck=false x-palm-disable-ste-all=true />")[0]},t.createTextarea=function(){var t,e=this.textareaSpan=Ft('<span class="mq-textarea"></span>'),n=this.options.substituteTextarea();if(!n.nodeType)throw"substituteTextarea() must return a DOM element, got "+n;n=this.textarea=Ft(n).appendTo(e),(t=this).cursor.selectionChanged=function(){t.selectionChanged()},t.container.bind("copy",function(){t.setTextareaSelection()})},t.selectionChanged=function(){var t=this;K(t.container[0]),t.textareaSelectionTimeout===b&&(t.textareaSelectionTimeout=setTimeout(function(){t.setTextareaSelection()}))},t.setTextareaSelection=function(){this.textareaSelectionTimeout=b;var t="";this.cursor.selection&&(t=this.cursor.selection.join("latex"),this.options.statelessClipboard&&(t="$"+t+"$")),this.selectFn(t)},t.staticMathTextareaEvents=function(){function t(){o.detach(),e.blurred=!0}var e=this,n=(e.root,e.cursor),i=e.textarea,o=e.textareaSpan;this.container.prepend('<span class="mq-selectable">$'+e.exportLatex()+"$</span>"),e.blurred=!0,i.bind("cut paste",!1).focus(function(){e.blurred=!1}).blur(function(){n.selection&&n.selection.clear(),setTimeout(t)}),e.selectFn=function(t){i.val(t),t&&i.select()}},t.editablesTextareaEvents=function(){var e=this,n=(e.root,e.cursor),t=e.textarea,i=e.textareaSpan,o=k(t,this);this.selectFn=function(t){o.select(t)},this.container.prepend(i).on("cut",function(t){n.selection&&setTimeout(function(){e.notify("edit"),n.parent.bubble("reflow")})}),this.focusBlurEvents()},t.typedText=function(t){if("\n"===t)return this.handle("enter");var e=this.notify().cursor;e.parent.write(e,t),this.scrollHoriz()},t.paste=function(t){this.options.statelessClipboard&&(t="$"===t.slice(0,1)&&"$"===t.slice(-1)?t.slice(1,-1):"\\text{"+t+"}"),this.writeLatex(t).cursor.show()}}),q=Bt(Pt,function(t,e){t.finalizeInsert=function(t,e){var n=this;n.postOrder("finalizeTree",t),n.postOrder("contactWeld",e),n.postOrder("blur"),n.postOrder("reflow"),n[zt].siblingCreated&&n[zt].siblingCreated(t,-1),n[-1].siblingCreated&&n[-1].siblingCreated(t,zt),n.bubble("reflow")}}),E=Bt(q,function(t,o){t.init=function(t,e,n){var i=this;o.init.call(i),i.ctrlSeq||(i.ctrlSeq=t),e&&(i.htmlTemplate=e),n&&(i.textTemplate=n)},t.replaces=function(t){t.disown(),this.replacedFragment=t},t.isEmpty=function(){return this.foldChildren(!0,function(t,e){return t&&e.isEmpty()})},t.parser=function(){var t=C.block,n=this;return t.times(n.numBlocks()).map(function(t){n.blocks=t;for(var e=0;e<t.length;e+=1)t[e].adopt(n,n.ends[zt],0);return n})},t.createLeftOf=function(t){var e=this,n=e.replacedFragment;e.createBlocks(),o.createLeftOf.call(e,t),n&&(n.adopt(e.ends[-1],0,0),n.jQ.appendTo(e.ends[-1].jQ)),e.finalizeInsert(t.options),e.placeCursor(t)},t.createBlocks=function(){var t,e=this.numBlocks(),n=this.blocks=Array(e);for(t=0;t<e;t+=1)(n[t]=O()).adopt(this,this.ends[zt],0)},t.placeCursor=function(t){t.insAtRightEnd(this.foldChildren(this.ends[-1],function(t,e){return t.isEmpty()?t:e}))},t.moveTowards=function(t,e,n){var i=n&&this[n+"Into"];e.insAtDirEnd(-t,i||this.ends[-t])},t.deleteTowards=function(t,e){this.isEmpty()?e[t]=this.remove()[t]:this.moveTowards(t,e,null)},t.selectTowards=function(t,e){e[-t]=this,e[t]=this[t]},t.selectChildren=function(){return Gt(this,this)},t.unselectInto=function(t,e){e.insAtDirEnd(-t,e.anticursor.ancestors[this.id])},t.seek=function(n,i){function o(t){var e={};return e[-1]=t.jQ.offset().left,e[zt]=e[-1]+t.jQ.outerWidth(),e}var r,a=this,s=o(a);return n<s[-1]?i.insLeftOf(a):n>s[zt]?i.insRightOf(a):(r=s[-1],void a.eachChild(function(t){var e=o(t);return n<e[-1]?(n-r<e[-1]-n?t[-1]?i.insAtRightEnd(t[-1]):i.insLeftOf(a):i.insAtLeftEnd(t),!1):n>e[zt]?void(t[zt]?r=e[zt]:s[zt]-n<n-e[zt]?i.insRightOf(a):i.insAtRightEnd(t)):(t.seek(n,i),!1)}))},t.numBlocks=function(){var t=this.htmlTemplate.match(/&\d+/g);return t?t.length:0},t.html=function(){var t,e,n,i=this.blocks,o=" mathquill-command-id="+this.id,r=this.htmlTemplate.match(/<[^<>]+>|[^<>]+/g);for(l("no unmatched angle brackets",r.join("")===this.htmlTemplate),e=r[t=0];e;e=r[t+=1])if("/>"===e.slice(-2))r[t]=e.slice(0,-2)+o+"/>";else if("<"===e.charAt(0))for(l("not an unmatched top-level close tag","/"!==e.charAt(1)),r[t]=e.slice(0,-1)+o+">",n=1;l("no missing close tags",e=r[t+=1]),"</"===e.slice(0,2)?n-=1:"<"===e.charAt(0)&&"/>"!==e.slice(-2)&&(n+=1),0<n;);return r.join("").replace(/>&(\d+)/g,function(t,e){return" mathquill-block-id="+i[e].id+">"+i[e].join("html")})},t.latex=function(){return this.foldChildren(this.ctrlSeq,function(t,e){return t+"{"+(e.latex()||" ")+"}"})},t.textTemplate=[""],t.text=function(){var i=this,o=0;return i.foldChildren(i.textTemplate[o],function(t,e){o+=1;var n=e.text();return t&&"("===i.textTemplate[o]&&"("===n[0]&&")"===n.slice(-1)?t+n.slice(1,-1)+i.textTemplate[o]:t+e.text()+(i.textTemplate[o]||"")})}}),T=Bt(E,function(t,i){t.init=function(t,e,n){n=n||(t&&1<t.length?t.slice(1):t),i.init.call(this,t,e,[n])},t.parser=function(){return w.succeed(this)},t.numBlocks=function(){return 0},t.replaces=function(t){t.remove()},t.createBlocks=h,t.moveTowards=function(t,e){e.jQ.insDirOf(t,this.jQ),e[-t]=this,e[t]=this[t]},t.deleteTowards=function(t,e){e[t]=this.remove()[t]},t.seek=function(t,e){t-this.jQ.offset().left<this.jQ.outerWidth()/2?e.insLeftOf(this):e.insRightOf(this)},t.latex=function(){return this.ctrlSeq},t.text=function(){return this.textTemplate},t.placeCursor=h,t.isEmpty=function(){return!0}}),j=Bt(T,function(t,n){t.init=function(t,e){n.init.call(this,t,"<span>"+(e||t)+"</span>")}}),A=Bt(T,function(t,i){t.init=function(t,e,n){i.init.call(this,t,'<span class="mq-binary-operator">'+e+"</span>",n)}}),O=Bt(q,function(t,i){t.join=function(n){return this.foldChildren("",function(t,e){return t+e[n]()})},t.html=function(){return this.join("html")},t.latex=function(){return this.join("latex")},t.text=function(){return this.ends[-1]===this.ends[zt]&&0!==this.ends[-1]?this.ends[-1].text():this.join("text")},t.keystroke=function(t,e,n){return!n.options.spaceBehavesLikeTab||"Spacebar"!==t&&"Shift-Spacebar"!==t?i.keystroke.apply(this,arguments):(e.preventDefault(),void n.escapeDir("Shift-Spacebar"===t?-1:zt,t,e))},t.moveOutOf=function(t,e,n){!(n&&this.parent[n+"Into"])&&this[t]?e.insAtDirEnd(-t,this[t]):e.insDirOf(t,this.parent)},t.selectOutOf=function(t,e){e.insDirOf(t,this.parent)},t.deleteOutOf=function(t,e){e.unwrapGramp()},t.seek=function(t,e){var n=this.ends[zt];if(!n||n.jQ.offset().left+n.jQ.outerWidth()<t)return e.insAtRightEnd(this);if(t<this.ends[-1].jQ.offset().left)return e.insAtLeftEnd(this);for(;t<n.jQ.offset().left;)n=n[-1];return n.seek(t,e)},t.chToCmd=function(t){var e;return t.match(/^[a-eg-zA-Z]$/)?R(t):/^\d$/.test(t)?D(t):(e=Wt[t]||Ht[t])?e(t):j(t)},t.write=function(t,e){var n=this.chToCmd(e);t.selection&&n.replaces(t.replaceSelection()),n.createLeftOf(t.show())},t.focus=function(){return this.jQ.addClass("mq-hasCursor"),this.jQ.removeClass("mq-empty"),this},t.blur=function(){return this.jQ.removeClass("mq-hasCursor"),this.isEmpty()&&this.jQ.addClass("mq-empty"),this}}),Jt.StaticMath=function(n){return Bt(n.AbstractMathQuill,function(t,e){this.RootBlock=O,t.__mathquillify=function(){return e.__mathquillify.call(this,"mq-math-mode"),this.__controller.delegateMouseEvents(),this.__controller.staticMathTextareaEvents(),this},t.init=function(){e.init.apply(this,arguments),this.__controller.root.postOrder("registerInnerField",this.innerFields=[],n.MathField)},t.latex=function(){var t=e.latex.apply(this,arguments);return 0<arguments.length&&this.__controller.root.postOrder("registerInnerField",this.innerFields=[],n.MathField),t}})},S=Bt(O,u),Jt.MathField=function(t){return Bt(t.EditableField,function(t,n){this.RootBlock=S,t.__mathquillify=function(t,e){return this.config(t),1<e&&(this.__controller.root.reflow=h),n.__mathquillify.call(this,"mq-editable-field mq-math-mode"),delete this.__controller.root.reflow,this}})},N=Bt(Pt,function(t,o){function d(t){var e,n;return t.jQ[0].normalize(),(e=t.jQ[0].firstChild)?(l("only node in TextBlock span is Text node",3===e.nodeType),(n=_(e.data)).jQadd(e),t.children().disown(),n.adopt(t,0,0)):void 0}t.ctrlSeq="\\text",t.replaces=function(t){t instanceof $t?this.replacedText=t.remove().jQ.text():"string"==typeof t&&(this.replacedText=t)},t.jQadd=function(t){o.jQadd.call(this,t),this.ends[-1]&&this.ends[-1].jQadd(this.jQ[0].firstChild)},t.createLeftOf=function(t){var e,n=this;if(o.createLeftOf.call(this,t),n[zt].siblingCreated&&n[zt].siblingCreated(t.options,-1),n[-1].siblingCreated&&n[-1].siblingCreated(t.options,zt),n.bubble("reflow"),t.insAtRightEnd(n),n.replacedText)for(e=0;e<n.replacedText.length;e+=1)n.write(t,n.replacedText.charAt(e))},t.parser=function(){var e=this,t=w.string,n=w.regex;return w.optWhitespace.then(t("{")).then(n(/^[^}]*/)).skip(t("}")).map(function(t){return 0===t.length?$t():(_(t).adopt(e,0,0),e)})},t.textContents=function(){return this.foldChildren("",function(t,e){return t+e.text})},t.text=function(){return'"'+this.textContents()+'"'},t.latex=function(){var t=this.textContents();return 0===t.length?"":"\\text{"+t+"}"},t.html=function(){return'<span class="mq-text-mode" mathquill-command-id='+this.id+">"+this.textContents()+"</span>"},t.moveTowards=function(t,e){e.insAtDirEnd(-t,this)},t.moveOutOf=function(t,e){e.insDirOf(t,this)},t.unselectInto=t.moveTowards,t.selectTowards=E.prototype.selectTowards,t.deleteTowards=E.prototype.deleteTowards,t.selectOutOf=function(t,e){e.insDirOf(t,this)},t.deleteOutOf=function(t,e){this.isEmpty()&&e.insRightOf(this)},t.write=function(t,e){var n,i;t.show().deleteSelection(),"$"!==e?t[-1]?t[-1].appendText(e):_(e).createLeftOf(t):this.isEmpty()?(t.insRightOf(this),j("\\$","$").createLeftOf(t)):t[zt]?t[-1]?(n=N(),(i=this.ends[-1]).disown().jQ.detach(),i.adopt(n,0,0),t.insLeftOf(this),o.createLeftOf.call(n,t)):t.insLeftOf(this):t.insRightOf(this)},t.seek=function(t,e){var n,i,o,r,a,s,l,c;for(e.hide(),n=d(this),i=this.jQ.width()/this.text.length,(o=Math.round((t-this.jQ.offset().left)/i))<=0?e.insAtLeftEnd(this):o>=n.text.length?e.insAtRightEnd(this):e.insLeftOf(n.splitRight(o)),s=a=(r=t-e.show().offset().left)&&r<0?-1:zt;e[a]&&0<r*s;)e[a].moveTowards(a,e),s=r,r=t-e.offset().left;a*r<-a*s&&e[-a].moveTowards(-a,e),e.anticursor?e.anticursor.parent===this&&(l=e[-1]&&e[-1].text.length,this.anticursorPosition===l?e.anticursor=Ut.copy(e):(this.anticursorPosition<l?(c=e[-1].splitRight(this.anticursorPosition),e[-1]=c):c=e[zt].splitRight(this.anticursorPosition-l),e.anticursor=Ut(this,c[-1],c))):this.anticursorPosition=e[-1]&&e[-1].text.length},t.blur=function(t){O.prototype.blur.call(this),t&&(""===this.textContents()?(this.remove(),t[-1]===this?t[-1]=this[-1]:t[zt]===this&&(t[zt]=this[zt])):d(this))},t.focus=O.prototype.focus}),_=Bt(Pt,function(t,e){function a(t,e){return e.charAt(-1===t?0:-1+e.length)}t.init=function(t){e.init.call(this),this.text=t},t.jQadd=function(t){this.dom=t,this.jQ=Ft(t)},t.jQize=function(){return this.jQadd(d.createTextNode(this.text))},t.appendText=function(t){this.text+=t,this.dom.appendData(t)},t.prependText=function(t){this.text=t+this.text,this.dom.insertData(0,t)},t.insTextAtDirEnd=function(t,e){s(e),e===zt?this.appendText(t):this.prependText(t)},t.splitRight=function(t){var e=_(this.text.slice(t)).adopt(this.parent,this,this[zt]);return e.jQadd(this.dom.splitText(t)),this.text=this.text.slice(0,t),e},t.moveTowards=function(t,e){var n,i;return s(t),n=a(-t,this.text),(i=this[-t])?i.insTextAtDirEnd(n,t):_(n).createDir(-t,e),this.deleteTowards(t,e)},t.latex=function(){return this.text},t.deleteTowards=function(t,e){1<this.text.length?t===zt?(this.dom.deleteData(0,1),this.text=this.text.slice(1)):(this.dom.deleteData(-1+this.text.length,1),this.text=this.text.slice(0,-1)):(this.remove(),this.jQ.remove(),e[t]=this[t])},t.selectTowards=function(t,e){var n,i,o,r;return s(t),n=e.anticursor,i=a(-t,this.text),n[t]===this?(o=_(i).createDir(t,e),n[t]=o,e.insDirOf(t,o)):((r=this[-t])?r.insTextAtDirEnd(i,t):(o=_(i).createDir(-t,e)).jQ.insDirOf(-t,e.selection.jQ),1===this.text.length&&n[-t]===this&&(n[-t]=this[-t])),this.deleteTowards(t,e)}}),Wt.$=Ht.text=Ht.textnormal=Ht.textrm=Ht.textup=Ht.textmd=N,Ht.em=Ht.italic=Ht.italics=Ht.emph=Ht.textit=Ht.textsl=p("\\textit","i",'class="mq-text-mode"'),Ht.strong=Ht.bold=Ht.textbf=p("\\textbf","b",'class="mq-text-mode"'),Ht.sf=Ht.textsf=p("\\textsf","span",'class="mq-sans-serif mq-text-mode"'),Ht.tt=Ht.texttt=p("\\texttt","span",'class="mq-monospace mq-text-mode"'),Ht.textsc=p("\\textsc","span",'style="font-variant:small-caps" class="mq-text-mode"'),Ht.uppercase=p("\\uppercase","span",'style="text-transform:uppercase" class="mq-text-mode"'),Ht.lowercase=p("\\lowercase","span",'style="text-transform:lowercase" class="mq-text-mode"'),M=Bt(E,function(t,e){t.init=function(t){e.init.call(this,"$"),this.cursor=t},t.htmlTemplate='<span class="mq-math-mode">&0</span>',t.createBlocks=function(){e.createBlocks.call(this),this.ends[-1].cursor=this.cursor,this.ends[-1].write=function(t,e){"$"!==e?O.prototype.write.call(this,t,e):this.isEmpty()?(t.insRightOf(this.parent),this.parent.deleteTowards(dir,t),j("\\$","$").createLeftOf(t.show())):t[zt]?t[-1]?O.prototype.write.call(this,t,e):t.insLeftOf(this.parent):t.insRightOf(this.parent)}},t.latex=function(){return"$"+this.ends[-1].latex()+"$"}}),L=Bt(S,function(t,e){t.keystroke=function(t){return"Spacebar"!==t&&"Shift-Spacebar"!==t?e.keystroke.apply(this,arguments):void 0},t.write=function(t,e){var n;(t.show().deleteSelection(),"$"===e)?M(t).createLeftOf(t):("<"===e?n="&lt;":">"===e&&(n="&gt;"),j(e,n).createLeftOf(t))}}),Jt.TextField=function(t){return Bt(t.EditableField,function(t,e){this.RootBlock=L,t.__mathquillify=function(){return e.__mathquillify.call(this,"mq-editable-field mq-text-mode")},t.latex=function(t){return 0<arguments.length?(this.__controller.renderLatexText(t),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()}})},Ht.notin=Ht.cong=Ht.equiv=Ht.oplus=Ht.otimes=Bt(A,function(t,e){t.init=function(t){e.init.call(this,"\\"+t+" ","&"+t+";")}}),Ht["≠"]=Ht.ne=Ht.neq=o(A,"\\ne ","&ne;"),Ht.ast=Ht.star=Ht.loast=Ht.lowast=o(A,"\\ast ","&lowast;"),Ht.therefor=Ht.therefore=o(A,"\\therefore ","&there4;"),Ht.cuz=Ht.because=o(A,"\\because ","&#8757;"),Ht.prop=Ht.propto=o(A,"\\propto ","&prop;"),Ht["≈"]=Ht.asymp=Ht.approx=o(A,"\\approx ","&asymp;"),Ht.isin=Ht.in=o(A,"\\in ","&isin;"),Ht.ni=Ht.contains=o(A,"\\ni ","&ni;"),Ht.notni=Ht.niton=Ht.notcontains=Ht.doesnotcontain=o(A,"\\not\\ni ","&#8716;"),Ht.sub=Ht.subset=o(A,"\\subset ","&sub;"),Ht.sup=Ht.supset=Ht.superset=o(A,"\\supset ","&sup;"),Ht.nsub=Ht.notsub=Ht.nsubset=Ht.notsubset=o(A,"\\not\\subset ","&#8836;"),Ht.nsup=Ht.notsup=Ht.nsupset=Ht.notsupset=Ht.nsuperset=Ht.notsuperset=o(A,"\\not\\supset ","&#8837;"),Ht.sube=Ht.subeq=Ht.subsete=Ht.subseteq=o(A,"\\subseteq ","&sube;"),Ht.supe=Ht.supeq=Ht.supsete=Ht.supseteq=Ht.supersete=Ht.superseteq=o(A,"\\supseteq ","&supe;"),Ht.nsube=Ht.nsubeq=Ht.notsube=Ht.notsubeq=Ht.nsubsete=Ht.nsubseteq=Ht.notsubsete=Ht.notsubseteq=o(A,"\\not\\subseteq ","&#8840;"),Ht.nsupe=Ht.nsupeq=Ht.notsupe=Ht.notsupeq=Ht.nsupsete=Ht.nsupseteq=Ht.notsupsete=Ht.notsupseteq=Ht.nsupersete=Ht.nsuperseteq=Ht.notsupersete=Ht.notsuperseteq=o(A,"\\not\\supseteq ","&#8841;"),Ht.N=Ht.naturals=Ht.Naturals=o(j,"\\mathbb{N}","&#8469;"),Ht.P=Ht.primes=Ht.Primes=Ht.projective=Ht.Projective=Ht.probability=Ht.Probability=o(j,"\\mathbb{P}","&#8473;"),Ht.Z=Ht.integers=Ht.Integers=o(j,"\\mathbb{Z}","&#8484;"),Ht.Q=Ht.rationals=Ht.Rationals=o(j,"\\mathbb{Q}","&#8474;"),Ht.R=Ht.reals=Ht.Reals=o(j,"\\mathbb{R}","&#8477;"),Ht.C=Ht.complex=Ht.Complex=Ht.complexes=Ht.Complexes=Ht.complexplane=Ht.Complexplane=Ht.ComplexPlane=o(j,"\\mathbb{C}","&#8450;"),Ht.H=Ht.Hamiltonian=Ht.quaternions=Ht.Quaternions=o(j,"\\mathbb{H}","&#8461;"),Ht.quad=Ht.emsp=o(j,"\\quad ","    "),Ht.qquad=o(j,"\\qquad ","        "),Ht.diamond=o(j,"\\diamond ","&#9671;"),Ht.bigtriangleup=o(j,"\\bigtriangleup ","&#9651;"),Ht.ominus=o(j,"\\ominus ","&#8854;"),Ht.uplus=o(j,"\\uplus ","&#8846;"),Ht.bigtriangledown=o(j,"\\bigtriangledown ","&#9661;"),Ht.sqcap=o(j,"\\sqcap ","&#8851;"),Ht.triangleleft=o(j,"\\triangleleft ","&#8882;"),Ht.sqcup=o(j,"\\sqcup ","&#8852;"),Ht.triangleright=o(j,"\\triangleright ","&#8883;"),Ht.odot=Ht.circledot=o(j,"\\odot ","&#8857;"),Ht.bigcirc=o(j,"\\bigcirc ","&#9711;"),Ht.dagger=o(j,"\\dagger ","&#0134;"),Ht.ddagger=o(j,"\\ddagger ","&#135;"),Ht.wr=o(j,"\\wr ","&#8768;"),Ht.amalg=o(j,"\\amalg ","&#8720;"),Ht.models=o(j,"\\models ","&#8872;"),Ht.prec=o(j,"\\prec ","&#8826;"),Ht.succ=o(j,"\\succ ","&#8827;"),Ht.preceq=o(j,"\\preceq ","&#8828;"),Ht.succeq=o(j,"\\succeq ","&#8829;"),Ht.simeq=o(j,"\\simeq ","&#8771;"),Ht.mid=o(j,"\\mid ","&#8739;"),Ht.ll=o(j,"\\ll ","&#8810;"),Ht.gg=o(j,"\\gg ","&#8811;"),Ht.parallel=o(j,"\\parallel ","&#8741;"),Ht.nparallel=o(j,"\\nparallel ","&#8742;"),Ht.bowtie=o(j,"\\bowtie ","&#8904;"),Ht.sqsubset=o(j,"\\sqsubset ","&#8847;"),Ht.sqsupset=o(j,"\\sqsupset ","&#8848;"),Ht.smile=o(j,"\\smile ","&#8995;"),Ht.sqsubseteq=o(j,"\\sqsubseteq ","&#8849;"),Ht.sqsupseteq=o(j,"\\sqsupseteq ","&#8850;"),Ht.doteq=o(j,"\\doteq ","&#8784;"),Ht.frown=o(j,"\\frown ","&#8994;"),Ht.vdash=o(j,"\\vdash ","&#8870;"),Ht.dashv=o(j,"\\dashv ","&#8867;"),Ht.nless=o(j,"\\nless ","&#8814;"),Ht.ngtr=o(j,"\\ngtr ","&#8815;"),Ht.longleftarrow=o(j,"\\longleftarrow ","&#8592;"),Ht.longrightarrow=o(j,"\\longrightarrow ","&#8594;"),Ht.Longleftarrow=o(j,"\\Longleftarrow ","&#8656;"),Ht.Longrightarrow=o(j,"\\Longrightarrow ","&#8658;"),Ht.longleftrightarrow=o(j,"\\longleftrightarrow ","&#8596;"),Ht.updownarrow=o(j,"\\updownarrow ","&#8597;"),Ht.Longleftrightarrow=o(j,"\\Longleftrightarrow ","&#8660;"),Ht.Updownarrow=o(j,"\\Updownarrow ","&#8661;"),Ht.mapsto=o(j,"\\mapsto ","&#8614;"),Ht.nearrow=o(j,"\\nearrow ","&#8599;"),Ht.hookleftarrow=o(j,"\\hookleftarrow ","&#8617;"),Ht.hookrightarrow=o(j,"\\hookrightarrow ","&#8618;"),Ht.searrow=o(j,"\\searrow ","&#8600;"),Ht.leftharpoonup=o(j,"\\leftharpoonup ","&#8636;"),Ht.rightharpoonup=o(j,"\\rightharpoonup ","&#8640;"),Ht.swarrow=o(j,"\\swarrow ","&#8601;"),Ht.leftharpoondown=o(j,"\\leftharpoondown ","&#8637;"),Ht.rightharpoondown=o(j,"\\rightharpoondown ","&#8641;"),Ht.nwarrow=o(j,"\\nwarrow ","&#8598;"),Ht.ldots=o(j,"\\ldots ","&#8230;"),Ht.cdots=o(j,"\\cdots ","&#8943;"),Ht.vdots=o(j,"\\vdots ","&#8942;"),Ht.ddots=o(j,"\\ddots ","&#8945;"),Ht.surd=o(j,"\\surd ","&#8730;"),Ht.triangle=o(j,"\\triangle ","&#9651;"),Ht.ell=o(j,"\\ell ","&#8467;"),Ht.top=o(j,"\\top ","&#8868;"),Ht.flat=o(j,"\\flat ","&#9837;"),Ht.natural=o(j,"\\natural ","&#9838;"),Ht.sharp=o(j,"\\sharp ","&#9839;"),Ht.wp=o(j,"\\wp ","&#8472;"),Ht.bot=o(j,"\\bot ","&#8869;"),Ht.clubsuit=o(j,"\\clubsuit ","&#9827;"),Ht.diamondsuit=o(j,"\\diamondsuit ","&#9826;"),Ht.heartsuit=o(j,"\\heartsuit ","&#9825;"),Ht.spadesuit=o(j,"\\spadesuit ","&#9824;"),Ht.parallelogram=o(j,"\\parallelogram ","&#9649;"),Ht.square=o(j,"\\square ","&#11036;"),Ht.oint=o(j,"\\oint ","&#8750;"),Ht.bigcap=o(j,"\\bigcap ","&#8745;"),Ht.bigcup=o(j,"\\bigcup ","&#8746;"),Ht.bigsqcup=o(j,"\\bigsqcup ","&#8852;"),Ht.bigvee=o(j,"\\bigvee ","&#8744;"),Ht.bigwedge=o(j,"\\bigwedge ","&#8743;"),Ht.bigodot=o(j,"\\bigodot ","&#8857;"),Ht.bigotimes=o(j,"\\bigotimes ","&#8855;"),Ht.bigoplus=o(j,"\\bigoplus ","&#8853;"),Ht.biguplus=o(j,"\\biguplus ","&#8846;"),Ht.lfloor=o(j,"\\lfloor ","&#8970;"),Ht.rfloor=o(j,"\\rfloor ","&#8971;"),Ht.lceil=o(j,"\\lceil ","&#8968;"),Ht.rceil=o(j,"\\rceil ","&#8969;"),Ht.opencurlybrace=Ht.lbrace=o(j,"\\lbrace ","{"),Ht.closecurlybrace=Ht.rbrace=o(j,"\\rbrace ","}"),Ht.lbrack=o(j,"["),Ht.rbrack=o(j,"]"),Ht.slash=o(j,"/"),Ht.vert=o(j,"|"),Ht.perp=Ht.perpendicular=o(j,"\\perp ","&perp;"),Ht.nabla=Ht.del=o(j,"\\nabla ","&nabla;"),Ht.hbar=o(j,"\\hbar ","&#8463;"),Ht.AA=Ht.Angstrom=Ht.angstrom=o(j,"\\text\\AA ","&#8491;"),Ht.ring=Ht.circ=Ht.circle=o(j,"\\circ ","&#8728;"),Ht.bull=Ht.bullet=o(j,"\\bullet ","&bull;"),Ht.setminus=Ht.smallsetminus=o(j,"\\setminus ","&#8726;"),Ht.not=Ht["¬"]=Ht.neg=o(j,"\\neg ","&not;"),Ht["…"]=Ht.dots=Ht.ellip=Ht.hellip=Ht.ellipsis=Ht.hellipsis=o(j,"\\dots ","&hellip;"),Ht.converges=Ht.darr=Ht.dnarr=Ht.dnarrow=Ht.downarrow=o(j,"\\downarrow ","&darr;"),Ht.dArr=Ht.dnArr=Ht.dnArrow=Ht.Downarrow=o(j,"\\Downarrow ","&dArr;"),Ht.diverges=Ht.uarr=Ht.uparrow=o(j,"\\uparrow ","&uarr;"),Ht.uArr=Ht.Uparrow=o(j,"\\Uparrow ","&uArr;"),Ht.to=o(A,"\\to ","&rarr;"),Ht.rarr=Ht.rightarrow=o(j,"\\rightarrow ","&rarr;"),Ht.implies=o(A,"\\Rightarrow ","&rArr;"),Ht.rArr=Ht.Rightarrow=o(j,"\\Rightarrow ","&rArr;"),Ht.gets=o(A,"\\gets ","&larr;"),Ht.larr=Ht.leftarrow=o(j,"\\leftarrow ","&larr;"),Ht.impliedby=o(A,"\\Leftarrow ","&lArr;"),Ht.lArr=Ht.Leftarrow=o(j,"\\Leftarrow ","&lArr;"),Ht.harr=Ht.lrarr=Ht.leftrightarrow=o(j,"\\leftrightarrow ","&harr;"),Ht.iff=o(A,"\\Leftrightarrow ","&hArr;"),Ht.hArr=Ht.lrArr=Ht.Leftrightarrow=o(j,"\\Leftrightarrow ","&hArr;"),Ht.Re=Ht.Real=Ht.real=o(j,"\\Re ","&real;"),Ht.Im=Ht.imag=Ht.image=Ht.imagin=Ht.imaginary=Ht.Imaginary=o(j,"\\Im ","&image;"),Ht.part=Ht.partial=o(j,"\\partial ","&part;"),Ht.infty=Ht.infin=Ht.infinity=o(j,"\\infty ","&infin;"),Ht.alef=Ht.alefsym=Ht.aleph=Ht.alephsym=o(j,"\\aleph ","&alefsym;"),Ht.xist=Ht.xists=Ht.exist=Ht.exists=o(j,"\\exists ","&exist;"),Ht.nexists=Ht.nexist=o(j,"\\nexists ","&#8708;"),Ht.and=Ht.land=Ht.wedge=o(j,"\\wedge ","&and;"),Ht.or=Ht.lor=Ht.vee=o(j,"\\vee ","&or;"),Ht.o=Ht.O=Ht.empty=Ht.emptyset=Ht.oslash=Ht.Oslash=Ht.nothing=Ht.varnothing=o(A,"\\varnothing ","&empty;"),Ht.cup=Ht.union=o(A,"\\cup ","&cup;"),Ht.cap=Ht.intersect=Ht.intersection=o(A,"\\cap ","&cap;"),Ht.deg=Ht.degree=o(j,"\\degree ","&deg;"),Ht.ang=Ht.angle=o(j,"\\angle ","&ang;"),Ht.measuredangle=o(j,"\\measuredangle ","&#8737;"),D=Bt(j,function(t,e){t.createLeftOf=function(t){t.options.autoSubscriptNumerals&&t.parent!==t.parent.parent.sub&&(t[-1]instanceof I&&!1!==t[-1].isItalic||t[-1]instanceof nt&&t[-1][-1]instanceof I&&!1!==t[-1][-1].isItalic)?(Ht._().createLeftOf(t),e.createLeftOf.call(this,t),t.insRightOf(t.parent.parent)):e.createLeftOf.call(this,t)}}),I=Bt(T,function(t,n){t.init=function(t,e){n.init.call(this,t,"<var>"+(e||t)+"</var>")},t.text=function(){var t=this.ctrlSeq;return!this[-1]||this[-1]instanceof I||this[-1]instanceof A||"\\ "===this[-1].ctrlSeq||(t="*"+t),!this[zt]||this[zt]instanceof A||this[zt]instanceof nt||(t+="*"),t}}),Kt.p.autoCommands={_maxLength:0},Xt.autoCommands=function(t){var e,n,i,o,r;if(!/^[a-z]+(?: [a-z]+)*$/i.test(t))throw'"'+t+'" not a space-delimited list of only letters';for(e=t.split(" "),n={},o=i=0;o<e.length;o+=1){if((r=e[o]).length<2)throw'autocommand "'+r+'" not minimum length of 2';if(Ht[r]===F)throw'"'+r+'" is a built-in operator name';n[r]=1,i=It(i,r.length)}return n._maxLength=i,n},R=Bt(I,function(t,a){function f(t){return!t||t instanceof A||t instanceof it}t.init=function(t){return a.init.call(this,this.letter=t)},t.createLeftOf=function(t){var e,n,i,o,r;if(a.createLeftOf.apply(this,arguments),0<(n=(e=t.options.autoCommands)._maxLength)){for(i="",o=this,r=0;o instanceof R&&o.ctrlSeq===o.letter&&r<n;)i=o.letter+i,o=o[-1],r+=1;for(;i.length;){if(e.hasOwnProperty(i)){for(r=1,o=this;r<i.length;r+=1,o=o[-1]);return $t(o,this).remove(),t[-1]=o[-1],Ht[i](i).createLeftOf(t)}i=i.slice(1)}}},t.italicize=function(t){return this.isItalic=t,this.jQ.toggleClass("mq-operator-name",!t),this},t.finalizeTree=t.siblingDeleted=t.siblingCreated=function(t,e){-1!==e&&this[zt]instanceof R||this.autoUnItalicize(t)},t.autoUnItalicize=function(t){var e,n,i,o,r,a,s,l,c,d,u,p,h=t.autoOperatorNames;if(0!==h._maxLength){for(e=this.letter,n=this[-1];n instanceof R;n=n[-1])e=n.letter+e;for(i=this[zt];i instanceof R;i=i[zt])e+=i.letter;$t(n[zt]||this.parent.ends[-1],i[-1]||this.parent.ends[zt]).each(function(t){t.italicize(!0).jQ.removeClass("mq-first mq-last mq-followed-by-supsub"),t.ctrlSeq=t.letter});t:for(o=0,r=n[zt]||this.parent.ends[-1];o<e.length;o+=1,r=r[zt])for(a=Dt(h._maxLength,e.length-o);0<a;a-=1)if(s=e.slice(o,o+a),h.hasOwnProperty(s)){for(l=0,c=r;l<a;l+=1,c=c[zt])c.italicize(!1),d=c;u=Q.hasOwnProperty(s),r.ctrlSeq=(u?"\\":"\\operatorname{")+r.ctrlSeq,d.ctrlSeq+=u?" ":"}",z.hasOwnProperty(s)&&d[-1][-1][-1].jQ.addClass("mq-last"),f(r[-1])||r.jQ.addClass("mq-first"),f(d[zt])||(d[zt]instanceof nt?((p=d[zt]).siblingCreated=p.siblingDeleted=function(){p.jQ.toggleClass("mq-after-operator-name",!(p[zt]instanceof lt))})():d.jQ.toggleClass("mq-last",!(d[zt]instanceof lt))),o+=a-1,r=d;continue t}}}}),Q={},B=Kt.p.autoOperatorNames={_maxLength:9},z={limsup:1,liminf:1,projlim:1,injlim:1},function(){var t,e,n,i,o="arg deg det dim exp gcd hom inf ker lg lim ln log max min sup limsup liminf injlim projlim Pr".split(" ");for(t=0;t<o.length;t+=1)Q[o[t]]=B[o[t]]=1;for(e="sin cos tan arcsin arccos arctan sinh cosh tanh sec csc cot coth".split(" "),t=0;t<e.length;t+=1)Q[e[t]]=1;for(n="sin cos tan sec cosec csc cotan cot ctg".split(" "),t=0;t<n.length;t+=1)B[n[t]]=B["arc"+n[t]]=B[n[t]+"h"]=B["ar"+n[t]+"h"]=B["arc"+n[t]+"h"]=1;for(i="gcf hcf lcm proj span".split(" "),t=0;t<i.length;t+=1)B[i[t]]=1}(),Xt.autoOperatorNames=function(t){var e,n,i,o,r;if(!/^[a-z]+(?: [a-z]+)*$/i.test(t))throw'"'+t+'" not a space-delimited list of only letters';for(e=t.split(" "),n={},o=i=0;o<e.length;o+=1){if((r=e[o]).length<2)throw'"'+r+'" not minimum length of 2';n[r]=1,i=It(i,r.length)}return n._maxLength=i,n},F=Bt(T,function(t,e){t.init=function(t){this.ctrlSeq=t},t.createLeftOf=function(t){var e,n=this.ctrlSeq;for(e=0;e<n.length;e+=1)R(n.charAt(e)).createLeftOf(t)},t.parser=function(){var t,e=this.ctrlSeq,n=O();for(t=0;t<e.length;t+=1)R(e.charAt(t)).adopt(n,n.ends[zt],0);return w.succeed(n.children())}}),B)B.hasOwnProperty(U)&&(Ht[U]=F);for(tt in Ht.operatorname=Bt(E,function(t){t.createLeftOf=h,t.numBlocks=function(){return 1},t.parser=function(){return C.block.map(function(t){return t.children()})}}),Ht.f=Bt(R,function(t,e){t.init=function(){T.p.init.call(this,this.letter="f",'<var class="mq-f">f</var>')},t.italicize=function(t){return this.jQ.html("f").toggleClass("mq-f",t),e.italicize.apply(this,arguments)}}),Ht[" "]=Ht.space=o(j,"\\ ","&nbsp;"),Ht["'"]=Ht.prime=o(j,"'","&prime;"),Ht.backslash=o(j,"\\backslash ","\\"),Wt["\\"]||(Wt["\\"]=Ht.backslash),Ht.$=o(j,"\\$","$"),P=Bt(T,function(t,n){t.init=function(t,e){n.init.call(this,t,'<span class="mq-nonSymbola">'+(e||t)+"</span>")}}),Ht["@"]=P,Ht["&"]=o(P,"\\&","&amp;"),Ht["%"]=o(P,"\\%","%"),Ht.alpha=Ht.beta=Ht.gamma=Ht.delta=Ht.zeta=Ht.eta=Ht.theta=Ht.iota=Ht.kappa=Ht.mu=Ht.nu=Ht.xi=Ht.rho=Ht.sigma=Ht.tau=Ht.chi=Ht.psi=Ht.omega=Bt(I,function(t,e){t.init=function(t){e.init.call(this,"\\"+t+" ","&"+t+";")}}),Ht.phi=o(I,"\\phi ","&#981;"),Ht.phiv=Ht.varphi=o(I,"\\varphi ","&phi;"),Ht.epsilon=o(I,"\\epsilon ","&#1013;"),Ht.epsiv=Ht.varepsilon=o(I,"\\varepsilon ","&epsilon;"),Ht.piv=Ht.varpi=o(I,"\\varpi ","&piv;"),Ht.sigmaf=Ht.sigmav=Ht.varsigma=o(I,"\\varsigma ","&sigmaf;"),Ht.thetav=Ht.vartheta=Ht.thetasym=o(I,"\\vartheta ","&thetasym;"),Ht.upsilon=Ht.upsi=o(I,"\\upsilon ","&upsilon;"),Ht.gammad=Ht.Gammad=Ht.digamma=o(I,"\\digamma ","&#989;"),Ht.kappav=Ht.varkappa=o(I,"\\varkappa ","&#1008;"),Ht.rhov=Ht.varrho=o(I,"\\varrho ","&#1009;"),Ht.pi=Ht["π"]=o(P,"\\pi ","&pi;"),Ht.lambda=o(P,"\\lambda ","&lambda;"),Ht.Upsilon=Ht.Upsi=Ht.upsih=Ht.Upsih=o(T,"\\Upsilon ",'<var style="font-family: serif">&upsih;</var>'),Ht.Gamma=Ht.Delta=Ht.Theta=Ht.Lambda=Ht.Xi=Ht.Pi=Ht.Sigma=Ht.Phi=Ht.Psi=Ht.Omega=Ht.forall=Bt(j,function(t,e){t.init=function(t){e.init.call(this,"\\"+t+" ","&"+t+";")}}),$=Bt(E,function(t){t.init=function(t){this.latex=t},t.createLeftOf=function(t){var e=C.parse(this.latex);e.children().adopt(t.parent,t[-1],t[zt]),t[-1]=e.ends[zt],e.jQize().insertBefore(t.jQ),e.finalizeInsert(t.options,t),e.ends[zt][zt].siblingCreated&&e.ends[zt][zt].siblingCreated(t.options,-1),e.ends[-1][-1].siblingCreated&&e.ends[-1][-1].siblingCreated(t.options,zt),t.parent.bubble("reflow")},t.parser=function(){var t=C.parse(this.latex).children();return w.succeed(t)}}),Ht["¹"]=o($,"^1"),Ht["²"]=o($,"^2"),Ht["³"]=o($,"^3"),Ht["¼"]=o($,"\\frac14"),Ht["½"]=o($,"\\frac12"),Ht["¾"]=o($,"\\frac34"),H=Bt(A,function(t){t.init=j.prototype.init,t.contactWeld=t.siblingCreated=t.siblingDeleted=function(t,e){return e!==zt?(this.jQ[0].className=!this[-1]||this[-1]instanceof A||/^[,;:\(\[]$/.test(this[-1].ctrlSeq)?"":"mq-binary-operator",this):void 0}}),Ht["+"]=o(H,"+","+"),Ht["–"]=Ht["-"]=o(H,"-","&minus;"),Ht["±"]=Ht.pm=Ht.plusmn=Ht.plusminus=o(H,"\\pm ","&plusmn;"),Ht.mp=Ht.mnplus=Ht.minusplus=o(H,"\\mp ","&#8723;"),Wt["*"]=Ht.sdot=Ht.cdot=o(A,"\\cdot ","&middot;","*"),W=Bt(A,function(t,i){t.init=function(t,e){this.data=t;var n=(this.strict=e)?"Strict":"";i.init.call(this,t["ctrlSeq"+n],t["html"+n],t["text"+n])},t.swap=function(t){var e=(this.strict=t)?"Strict":"";this.ctrlSeq=this.data["ctrlSeq"+e],this.jQ.html(this.data["html"+e]),this.textTemplate=[this.data["text"+e]]},t.deleteTowards=function(t,e){return-1!==t||this.strict?void i.deleteTowards.apply(this,arguments):(this.swap(!0),void this.bubble("reflow"))}}),V={ctrlSeq:"\\le ",html:"&le;",text:"≤",ctrlSeqStrict:"<",htmlStrict:"&lt;",textStrict:"<"},G={ctrlSeq:"\\ge ",html:"&ge;",text:"≥",ctrlSeqStrict:">",htmlStrict:"&gt;",textStrict:">"},Ht["<"]=Ht.lt=o(W,V,!0),Ht[">"]=Ht.gt=o(W,G,!0),Ht["≤"]=Ht.le=Ht.leq=o(W,V,!1),Ht["≥"]=Ht.ge=Ht.geq=o(W,G,!1),Y=Bt(A,function(t,e){t.init=function(){e.init.call(this,"=","=")},t.createLeftOf=function(t){return t[-1]instanceof W&&t[-1].strict?(t[-1].swap(!1),void t[-1].bubble("reflow")):void e.createLeftOf.apply(this,arguments)}}),Ht["="]=Y,Ht["×"]=Ht.times=o(A,"\\times ","&times;","[x]"),Ht["÷"]=Ht.div=Ht.divide=Ht.divides=o(A,"\\div ","&divide;","[/]"),Wt["~"]=Ht.sim=o(A,"\\sim ","~","~"),K=h,X=d.createElement("div").style,{transform:1,WebkitTransform:1,MozTransform:1,OTransform:1,msTransform:1})if(tt in X){Z=tt;break}for(ht in J=Z?function(t,e,n){console.log(n),t.css(Z,"scale("+e+","+(n+.3)+")")}:"filter"in X?(K=function(t){t.className=t.className},function(t,e,n){function i(){t.css("marginRight",(o.width()-1)*(e-1)/e+"px")}var o,r;e/=1+(n-1)/2,t.css("fontSize",n+"em"),t.hasClass("mq-matrixed-container")||t.addClass("mq-matrixed-container").wrapInner('<span class="mq-matrixed"></span>'),o=t.children().css("filter","progid:DXImageTransform.Microsoft.Matrix(M11="+e+",SizingMethod='auto expand')"),i(),r=setInterval(i),Ft(c).load(function(){clearTimeout(r),i()})}):function(t,e,n){t.css("fontSize",n+"em")},et=Bt(E,function(t,i){t.init=function(t,e,n){i.init.call(this,t,"<"+e+" "+n+">&0</"+e+">")}}),Ht.mathrm=o(et,"\\mathrm","span",'class="mq-roman mq-font"'),Ht.mathit=o(et,"\\mathit","i",'class="mq-font"'),Ht.mathbf=o(et,"\\mathbf","b",'class="mq-font"'),Ht.mathsf=o(et,"\\mathsf","span",'class="mq-sans-serif mq-font"'),Ht.mathtt=o(et,"\\mathtt","span",'class="mq-monospace mq-font"'),Ht.underline=o(et,"\\underline","span",'class="mq-non-leaf mq-underline"'),Ht.overline=Ht.bar=o(et,"\\overline","span",'class="mq-non-leaf mq-overline"'),Ht.overrightarrow=o(et,"\\overrightarrow","span",'class="mq-non-leaf mq-overarrow mq-arrow-right"'),Ht.overleftarrow=o(et,"\\overleftarrow","span",'class="mq-non-leaf mq-overarrow mq-arrow-left"'),Ht.textcolor=Bt(E,function(t,o){t.setColor=function(t){this.color=t,this.htmlTemplate='<span class="mq-textcolor" style="color:'+t+'">&0</span>'},t.latex=function(){return"\\textcolor{"+this.color+"}{"+this.blocks[0].latex()+"}"},t.parser=function(){var e=this,t=w.optWhitespace,n=w.string,i=w.regex;return t.then(n("{")).then(i(/^[#\w\s.,()%-]*/)).skip(n("}")).then(function(t){return e.setColor(t),o.parser.call(e)})}}),Ht.class=Bt(E,function(t,i){t.parser=function(){var e=this,t=w.string,n=w.regex;return w.optWhitespace.then(t("{")).then(n(/^[-\w\s\\\xA0-\xFF]*/)).skip(t("}")).then(function(t){return e.htmlTemplate='<span class="mq-class '+t+'">&0</span>',i.parser.call(e)})}}),nt=Bt(E,function(t,i){t.ctrlSeq="_{...}^{...}",t.createLeftOf=function(t){return t[-1]||!t.options.supSubsRequireOperand?i.createLeftOf.apply(this,arguments):void 0},t.contactWeld=function(t){var i,e,n,o,r,a;for(i=-1;i;i=-1===i&&zt)if(this[i]instanceof nt){for(e="sub";e;e="sub"===e&&"sup")n=this[e],o=this[i][e],n&&(o?n.isEmpty()?a=Ut(o,0,o.ends[-1]):(n.jQ.children().insAtDirEnd(-i,o.jQ),r=n.children().disown(),a=Ut(o,r.ends[zt],o.ends[-1]),-1===i?r.adopt(o,o.ends[zt],0):r.adopt(o,0,o.ends[-1])):this[i].addBlock(n.disown()),this.placeCursor=function(e,n){return function(t){t.insAtDirEnd(-i,e||n)}}(o,n));this.remove(),t&&t[-1]===this&&(i===zt&&a?a[-1]?t.insRightOf(a[-1]):t.insAtLeftEnd(a.parent):t.insRightOf(this[i]));break}},Kt.p.charsThatBreakOutOfSupSub="",t.finalizeTree=function(){this.ends[-1].write=function(t,e){if(t.options.autoSubscriptNumerals&&this===this.parent.sub){if("_"===e)return;var n=this.chToCmd(e);return n instanceof T?t.deleteSelection():t.clearSelection().insRightOf(this.parent),n.createLeftOf(t.show())}t[-1]&&!t[zt]&&!t.selection&&-1<t.options.charsThatBreakOutOfSupSub.indexOf(e)&&t.insRightOf(this.parent),O.p.write.apply(this,arguments)}},t.moveTowards=function(t,e,n){e.options.autoSubscriptNumerals&&!this.sup?e.insDirOf(t,this):i.moveTowards.apply(this,arguments)},t.deleteTowards=function(t,e){if(e.options.autoSubscriptNumerals&&this.sub){var n=this.sub.ends[-t];n instanceof T?n.remove():n&&n.deleteTowards(t,e.insAtDirEnd(-t,this.sub)),this.sub.isEmpty()&&(this.sub.deleteOutOf(-1,e.insAtLeftEnd(this.sub)),this.sup&&e.insDirOf(-t,this))}else i.deleteTowards.apply(this,arguments)},t.latex=function(){function t(t,e){var n=e&&e.latex();return e?t+(1===n.length?n:"{"+(n||" ")+"}"):""}return t("_",this.sub)+t("^",this.sup)},t.addBlock=function(t){"sub"===this.supsub?(this.sup=this.upInto=this.sub.upOutOf=t,t.adopt(this,this.sub,0).downOutOf=this.sub,t.jQ=Ft('<span class="mq-sup"/>').append(t.jQ.children()).attr(Lt,t.id).prependTo(this.jQ)):(this.sub=this.downInto=this.sup.downOutOf=t,t.adopt(this,0,this.sup).upOutOf=this.sup,t.jQ=Ft('<span class="mq-sub"></span>').append(t.jQ.children()).attr(Lt,t.id).appendTo(this.jQ.removeClass("mq-sup-only")),this.jQ.append('<span style="display:inline-block;width:0">&#8203;</span>'));for(var e=0;e<2;e+=1)!function(i,o,r,a){i[o].deleteOutOf=function(t,e){if(e.insDirOf(this[t]?-t:t,this.parent),!this.isEmpty()){var n=this.ends[t];this.children().disown().withDirAdopt(t,e.parent,e[t],e[-t]).jQ.insDirOf(-t,e.jQ),e[-t]=n}i.supsub=r,delete i[o],delete i[a+"Into"],i[r][a+"OutOf"]=f,delete i[r].deleteOutOf,"sub"===o&&Ft(i.jQ.addClass("mq-sup-only")[0].lastChild).remove(),this.remove()}}(this,"sub sup".split(" ")[e],"sup sub".split(" ")[e],"down up".split(" ")[e])}}),Ht.subscript=Ht._=Bt(nt,function(t,e){t.supsub="sub",t.htmlTemplate='<span class="mq-supsub mq-non-leaf"><span class="mq-sub">&0</span><span style="display:inline-block;width:0">&#8203;</span></span>',t.textTemplate=["_"],t.finalizeTree=function(){this.downInto=this.sub=this.ends[-1],this.sub.upOutOf=f,e.finalizeTree.call(this)}}),Ht.superscript=Ht.supscript=Ht["^"]=Bt(nt,function(t,e){t.supsub="sup",t.htmlTemplate='<span class="mq-supsub mq-non-leaf mq-sup-only"><span class="mq-sup">&0</span></span>',t.textTemplate=["^"],t.finalizeTree=function(){this.upInto=this.sup=this.ends[zt],this.sup.downOutOf=f,e.finalizeTree.call(this)}}),it=Bt(E,function(t,e){t.init=function(t,e){var n='<span class="mq-large-operator mq-non-leaf"><span class="mq-to"><span>&1</span></span><big>'+e+'</big><span class="mq-from"><span>&0</span></span></span>';T.prototype.init.call(this,t,n)},t.createLeftOf=function(t){e.createLeftOf.apply(this,arguments),t.options.sumStartsWithNEquals&&(R("n").createLeftOf(t),Y().createLeftOf(t))},t.latex=function(){function t(t){return 1===t.length?t:"{"+(t||" ")+"}"}return this.ctrlSeq+"_"+t(this.ends[-1].latex())+"^"+t(this.ends[zt].latex())},t.parser=function(){var t,e=w.string,n=w.optWhitespace,i=w.succeed,o=C.block,r=this,a=r.blocks=[O(),O()];for(t=0;t<a.length;t+=1)a[t].adopt(r,r.ends[zt],0);return n.then(e("_").or(e("^"))).then(function(t){var e=a["_"===t?0:1];return o.then(function(t){return t.children().adopt(e,e.ends[zt],0),i(r)})}).many().result(r)},t.finalizeTree=function(){this.downInto=this.ends[-1],this.upInto=this.ends[zt],this.ends[-1].upOutOf=this.ends[zt],this.ends[zt].downOutOf=this.ends[-1]}}),Ht["∑"]=Ht.sum=Ht.summation=o(it,"\\sum ","&sum;"),Ht["∏"]=Ht.prod=Ht.product=o(it,"\\prod ","&prod;"),Ht.coprod=Ht.coproduct=o(it,"\\coprod ","&#8720;"),Ht["∫"]=Ht.int=Ht.integral=Bt(it,function(t,e){t.init=function(){T.prototype.init.call(this,"\\int ",'<span class="mq-int mq-non-leaf"><big>&int;</big><span class="mq-supsub mq-non-leaf"><span class="mq-sup"><span class="mq-sup-inner">&1</span></span><span class="mq-sub">&0</span><span style="display:inline-block;width:0">&#8203</span></span></span>')},t.createLeftOf=E.p.createLeftOf}),ot=Ht.frac=Ht.dfrac=Ht.cfrac=Ht.fraction=Bt(E,function(t,e){t.ctrlSeq="\\frac",t.htmlTemplate='<span class="mq-fraction mq-non-leaf"><span class="mq-numerator">&0</span><span class="mq-denominator">&1</span><span style="display:inline-block;width:0">&#8203;</span></span>',t.textTemplate=["(",")/(",")"],t.finalizeTree=function(){this.upInto=this.ends[zt].upOutOf=this.ends[-1],this.downInto=this.ends[-1].downOutOf=this.ends[zt]}}),rt=Ht.over=Wt["/"]=Bt(ot,function(t,n){t.createLeftOf=function(t){if(!this.replacedFragment){for(var e=t[-1];e&&!(e instanceof A||e instanceof(Ht.text||h)||e instanceof it||"\\ "===e.ctrlSeq||/^[,;:]$/.test(e.ctrlSeq));)e=e[-1];e instanceof it&&e[zt]instanceof nt&&((e=e[zt])[zt]instanceof nt&&e[zt].ctrlSeq!=e.ctrlSeq&&(e=e[zt])),e!==t[-1]&&(this.replaces($t(e[zt]||t.parent.ends[-1],t[-1])),t[-1]=e)}n.createLeftOf.call(this,t)}}),at=Ht.sqrt=Ht["√"]=Bt(E,function(t,e){t.ctrlSeq="\\sqrt",t.htmlTemplate='<span class="mq-non-leaf"><span class="mq-scaled mq-sqrt-prefix">&radic;</span><span class="mq-non-leaf mq-sqrt-stem">&0</span></span>',t.textTemplate=["sqrt(",")"],t.parser=function(){return C.optBlock.then(function(n){return C.block.map(function(t){var e=st();return e.blocks=[n,t],n.adopt(e,0,0),t.adopt(e,n,0),e})}).or(e.parser.call(this))},t.reflow=function(){var t=this.ends[zt].jQ;J(t.prev(),1,t.innerHeight()/+t.css("fontSize").slice(0,-2)-.1)}}),Ht.vec=Bt(E,function(t,e){t.ctrlSeq="\\vec",t.htmlTemplate='<span class="mq-non-leaf"><span class="mq-vector-prefix">&rarr;</span><span class="mq-vector-stem">&0</span></span>',t.textTemplate=["vec(",")"]}),st=Ht.nthroot=Bt(at,function(t,e){t.htmlTemplate='<sup class="mq-nthroot mq-non-leaf">&0</sup><span class="mq-scaled"><span class="mq-sqrt-prefix mq-scaled">&radic;</span><span class="mq-sqrt-stem mq-non-leaf">&1</span></span>',t.textTemplate=["sqrt[","](",")"],t.latex=function(){return"\\sqrt["+this.ends[-1].latex()+"]{"+this.ends[zt].latex()+"}"}}),lt=Bt(Bt(E,m),function(t,r){t.init=function(t,e,n,i,o){r.init.call(this,"\\left"+i,b,[e,n]),this.side=t,this.sides={},this.sides[-1]={ch:e,ctrlSeq:i},this.sides[zt]={ch:n,ctrlSeq:o}},t.numBlocks=function(){return 1},t.html=function(){return this.htmlTemplate='<span class="mq-non-leaf"><span class="mq-scaled mq-paren'+(this.side===zt?" mq-ghost":"")+'">'+this.sides[-1].ch+'</span><span class="mq-non-leaf">&0</span><span class="mq-scaled mq-paren'+(-1===this.side?" mq-ghost":"")+'">'+this.sides[zt].ch+"</span></span>",r.html.call(this)},t.latex=function(){return"\\left"+this.sides[-1].ctrlSeq+this.ends[-1].latex()+"\\right"+this.sides[zt].ctrlSeq},t.oppBrack=function(t,e,n){return e instanceof lt&&e.side&&e.side!==-n&&("|"===this.sides[this.side].ch||e.side===-this.side)&&(!t.restrictMismatchedBrackets||ct[this.sides[this.side].ch]===e.sides[e.side].ch||{"(":"]","[":")"}[this.sides[-1].ch]===e.sides[zt].ch)&&e},t.closeOpposing=function(t){t.side=0,t.sides[this.side]=this.sides[this.side],t.delimjQs.eq(-1===this.side?0:1).removeClass("mq-ghost").html(this.sides[this.side].ch)},t.createLeftOf=function(t){var e,n,i;this.replacedFragment||(e=t.options,n=this.oppBrack(e,t[-1],-1)||this.oppBrack(e,t[zt],zt)||this.oppBrack(e,t.parent.parent)),n?(i=this.side=-n.side,this.closeOpposing(n),n===t.parent.parent&&t[i]&&($t(t[i],t.parent.ends[i],-i).disown().withDirAdopt(-i,n.parent,n,n[i]).jQ.insDirOf(i,n.jQ),n.bubble("reflow"))):(i=(n=this).side,n.replacedFragment?n.side=0:t[-i]&&(n.replaces($t(t[-i],t.parent.ends[-i],i)),t[-i]=0),r.createLeftOf.call(n,t)),-1===i?t.insAtLeftEnd(n.ends[-1]):t.insRightOf(n)},t.placeCursor=h,t.unwrap=function(){this.ends[-1].children().disown().adopt(this.parent,this,this[zt]).jQ.insertAfter(this.jQ),this.remove()},t.deleteSide=function(t,e,n){var i,o,r,a=this.parent,s=this[t],l=a.ends[t];if(t===this.side)return this.unwrap(),void(s?n.insDirOf(-t,s):n.insAtDirEnd(t,a));if(i=n.options,o=!this.side,this.side=-t,this.oppBrack(i,this.ends[-1].ends[this.side],t))this.closeOpposing(this.ends[-1].ends[this.side]),r=this.ends[-1].ends[t],this.unwrap(),r.siblingCreated&&r.siblingCreated(n.options,t),s?n.insDirOf(-t,s):n.insAtDirEnd(t,a);else{if(this.oppBrack(i,this.parent.parent,t))this.parent.parent.closeOpposing(this),this.parent.parent.unwrap();else{if(e&&o)return this.unwrap(),void(s?n.insDirOf(-t,s):n.insAtDirEnd(t,a));this.sides[t]={ch:ct[this.sides[this.side].ch],ctrlSeq:ct[this.sides[this.side].ctrlSeq]},this.delimjQs.removeClass("mq-ghost").eq(-1===t?0:1).addClass("mq-ghost").html(this.sides[t].ch)}s?(r=this.ends[-1].ends[t],$t(s,l,-t).disown().withDirAdopt(-t,this.ends[-1],r,0).jQ.insAtDirEnd(t,this.ends[-1].jQ.removeClass("mq-empty")),r.siblingCreated&&r.siblingCreated(n.options,t),n.insDirOf(-t,s)):e?n.insDirOf(t,this):n.insAtDirEnd(t,this.ends[-1])}},t.deleteTowards=function(t,e){this.deleteSide(-t,!1,e)},t.finalizeTree=function(){this.ends[-1].deleteOutOf=function(t,e){this.parent.deleteSide(t,!0,e)},this.finalizeTree=this.intentionalBlur=function(){this.delimjQs.eq(-1===this.side?1:0).removeClass("mq-ghost"),this.side=0}},t.siblingCreated=function(t,e){e===-this.side&&this.finalizeTree()}}),ct={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{","\\{":"\\}","\\}":"\\{","&lang;":"&rang;","&rang;":"&lang;","\\langle ":"\\rangle ","\\rangle ":"\\langle ","|":"|"},g("("),g("["),g("{","\\{"),Ht.langle=o(lt,-1,"&lang;","&rang;","\\langle ","\\rangle "),Ht.rangle=o(lt,zt,"&lang;","&rang;","\\langle ","\\rangle "),Wt["|"]=o(lt,-1,"|","|","|","|"),Ht.left=Bt(E,function(t){t.parser=function(){var t=w.regex,e=w.string,n=(w.succeed,w.optWhitespace);return n.then(t(/^(?:[([|]|\\\{)/)).then(function(o){var r="\\"===o.charAt(0)?o.slice(1):o;return C.then(function(i){return e("\\right").skip(n).then(t(/^(?:[\])|]|\\\})/)).map(function(t){var e="\\"===t.charAt(0)?t.slice(1):t,n=lt(0,r,e,o,t);return n.blocks=[i],i.adopt(n,0,0),n})})})}}),Ht.right=Bt(E,function(t){t.parser=function(){return w.fail("unmatched \\right")}}),dt=Ht.binom=Ht.binomial=Bt(Bt(E,m),function(t,e){t.ctrlSeq="\\binom",t.htmlTemplate='<span class="mq-non-leaf"><span class="mq-paren mq-scaled">(</span><span class="mq-non-leaf"><span class="mq-array mq-non-leaf"><span>&0</span><span>&1</span><span>&2</span></span></span><span class="mq-paren mq-scaled">)</span></span>',t.textTemplate=["choose(",",",")"]}),Ht.choose=Bt(dt,function(t){t.createLeftOf=rt.prototype.createLeftOf}),dt=Ht.matrix=Bt(Bt(E,m),function(t,e){t.ctrlSeq="\\matrix",t.htmlTemplate='<span class="mq-non-leaf"><span class="mq-paren mq-scaled">[</span><span class="mq-non-leaf"><span class="mq-array mq-non-leaf"><span>&0</span><span>&1</span><span>&2</span></span></span><span class="mq-paren mq-scaled">]</span></span>',t.textTemplate=["choose(",",",")"]}),Ht.choose=Bt(dt,function(t){t.createLeftOf=rt.prototype.createLeftOf}),dt=Ht.matrixTwo=Bt(Bt(E,m),function(t,e){t.ctrlSeq="\\matrixTwo",t.htmlTemplate='<span class="mq-non-leaf"><span class="mq-paren mq-scaled">[</span><span class="mq-non-leaf"><span class="mq-array mq-non-leaf"><span>&0</span><span>&1</span></span></span><span class="mq-paren mq-scaled">]</span></span>',t.textTemplate=["choose(",",",")"]}),Ht.choose=Bt(dt,function(t){t.createLeftOf=rt.prototype.createLeftOf}),dt=Ht.matrixFour=Bt(Bt(E,m),function(t,e){t.ctrlSeq="\\matrixFour",t.htmlTemplate='<span class="mq-non-leaf"><span class="mq-paren mq-scaled">[</span><span class="mq-non-leaf"><span class="mq-array mq-non-leaf"><span>&0</span><span>&1</span><span>&2</span><span>&3</span></span></span><span class="mq-paren mq-scaled">]</span></span>',t.textTemplate=["choose(",",",")"]}),dt=Ht.matrixFive=Bt(Bt(E,m),function(t,e){t.ctrlSeq="\\matrixFive",t.htmlTemplate='<span class="mq-non-leaf"><span class="mq-paren mq-scaled">[</span><span class="mq-non-leaf"><span class="mq-array mq-non-leaf"><span>&0</span><span>&1</span><span>&2</span><span>&3</span><span>&4</span></span></span><span class="mq-paren mq-scaled">]</span></span>',t.textTemplate=["choose(",",",")"]}),dt=Ht.matrixSix=Bt(Bt(E,m),function(t,e){t.ctrlSeq="\\matrixSix",t.htmlTemplate='<span class="mq-non-leaf"><span class="mq-paren mq-scaled">[</span><span class="mq-non-leaf"><span class="mq-array mq-non-leaf"><span>&0</span><span>&1</span><span>&2</span><span>&3</span><span>&4</span><span>&5</span></span></span><span class="mq-paren mq-scaled">]</span></span>',t.textTemplate=["choose(",",",")"]}),dt=Ht.matrixSeven=Bt(Bt(E,m),function(t,e){t.ctrlSeq="\\matrixSeven",t.htmlTemplate='<span class="mq-non-leaf"><span class="mq-paren mq-scaled">[</span><span class="mq-non-leaf"><span class="mq-array mq-non-leaf"><span>&0</span><span>&1</span><span>&2</span><span>&3</span><span>&4</span><span>&5</span><span>&6</span></span></span><span class="mq-paren mq-scaled">]</span></span>',t.textTemplate=["choose(",",",")"]}),Ht.choose=Bt(dt,function(t){t.createLeftOf=rt.prototype.createLeftOf}),Ht.choose=Bt(dt,function(t){t.createLeftOf=rt.prototype.createLeftOf}),Ht.choose=Bt(dt,function(t){t.createLeftOf=rt.prototype.createLeftOf}),Ht.choose=Bt(dt,function(t){t.createLeftOf=rt.prototype.createLeftOf}),Ht.editable=Ht.MathQuillMathField=Bt(E,function(t,o){t.ctrlSeq="\\MathQuillMathField",t.htmlTemplate='<span class="mq-editable-field"><span class="mq-root-block">&0</span></span>',t.parser=function(){var e=this,t=w.string,n=w.regex,i=w.succeed;return t("[").then(n(/^[a-z][a-z0-9]*/i)).skip(t("]")).map(function(t){e.name=t}).or(i()).then(o.parser.call(e))},t.finalizeTree=function(){var t=Yt(this.ends[-1],this.jQ,Kt());t.KIND_OF_MQ="MathField",t.editable=!0,t.createTextarea(),t.editablesTextareaEvents(),t.cursor.insAtRightEnd(t.root),u(t.root)},t.registerInnerField=function(t,e){t.push(t[this.name]=e(this.ends[-1].controller))},t.latex=function(){return this.ends[-1].latex()},t.text=function(){return this.ends[-1].text()}}),pt=Ht.embed=Bt(T,function(t,e){t.setOptions=function(t){function e(){return""}return this.text=t.text||e,this.htmlTemplate=t.htmlString||"",this.latex=t.latex||e,this},t.parser=function(){var n=this;return string=w.string,regex=w.regex,succeed=w.succeed,string("{").then(regex(/^[a-z][a-z0-9]*/i)).skip(string("}")).then(function(e){return string("[").then(regex(/^[-\w\s]*/)).skip(string("]")).or(succeed()).map(function(t){return n.setOptions(te[e](t))})})}}),Wt["\\"]=Bt(E,function(t,i){t.ctrlSeq="\\",t.replaces=function(t){this._replacedFragment=t.disown(),this.isEmpty=function(){return!1}},t.htmlTemplate='<span class="mq-latex-command-input mq-non-leaf">\\<span>&0</span></span>',t.textTemplate=["\\"],t.createBlocks=function(){i.createBlocks.call(this),this.ends[-1].focus=function(){return this.parent.jQ.addClass("mq-hasCursor"),this.isEmpty()&&this.parent.jQ.removeClass("mq-empty"),this},this.ends[-1].blur=function(){return this.parent.jQ.removeClass("mq-hasCursor"),this.isEmpty()&&this.parent.jQ.addClass("mq-empty"),this},this.ends[-1].write=function(t,e){t.show().deleteSelection(),e.match(/[a-z]/i)?j(e).createLeftOf(t):(this.parent.renderCommand(t),"\\"===e&&this.isEmpty()||this.parent.parent.write(t,e))},this.ends[-1].keystroke=function(t,e,n){return"Tab"===t||"Enter"===t||"Spacebar"===t?(this.parent.renderCommand(n.cursor),void e.preventDefault()):i.keystroke.apply(this,arguments)}},t.createLeftOf=function(t){if(i.createLeftOf.call(this,t),this._replacedFragment){var e=this.jQ[0];this.jQ=this._replacedFragment.jQ.addClass("mq-blur").bind("mousedown mousemove",function(t){return Ft(t.target=e).trigger(t),!1}).insertBefore(this.jQ).add(this.jQ)}},t.latex=function(){return"\\"+this.ends[-1].latex()+" "},t.renderCommand=function(t){var e,n;this.jQ=this.jQ.last(),this.remove(),this[zt]?t.insLeftOf(this[zt]):t.insAtRightEnd(this.parent),e=this.ends[-1].latex(),(n=Ht[e=e||" "])?(n=n(e),this._replacedFragment&&n.replaces(this._replacedFragment),n.createLeftOf(t)):((n=N()).replaces(e),n.createLeftOf(t),t.insRightOf(n),this._replacedFragment&&this._replacedFragment.remove())}}),ut=t(1))!function(t,e){"function"==typeof e?(r[t]=function(){return i(),e.apply(this,arguments)}).prototype=e.prototype:r[t]=e}(ht,ut[ht])}()},333:function(t,e,n){var i=n(334);"string"==typeof i&&(i=[[t.i,i,""]]);var o={attributes:{class:"webpack-style"},insert:"head",singleton:!1};n(29)(i,o);i.locals&&(t.exports=i.locals)},334:function(t,e,n){(t.exports=n(28)(!1)).push([t.i,".edui-dialog-code .code-type{height:35px;width:100%;line-height:35px;border-bottom:1px solid #eee}.edui-dialog-code .code-type select{outline:transparent}.edui-dialog-code .code-content{margin:2px auto 0;padding-top:7px;width:90%}.edui-dialog-code .code-content textarea{width:98%;height:320px;margin:12px auto;border:1px solid #c6c6c6;outline:transparent}.edui-editor-body pre{background-color:#f5f5f5;padding:7px 3px;border-radius:5px}\n",""])},335:function(t,e,n){var i=n(336);"string"==typeof i&&(i=[[t.i,i,""]]);var o={attributes:{class:"webpack-style"},insert:"head",singleton:!1};n(29)(i,o);i.locals&&(t.exports=i.locals)},336:function(t,e,n){e=t.exports=n(28)(!1);var i=n(62),o=i(n(337)),r=i(n(338)),a=i(n(339)),s=i(n(340)),l=i(n(341)),c=i(n(342)),d=i(n(343));e.push([t.i,".edui-popup-emotion .edui-emotion-jd img{background:transparent url("+o+") no-repeat scroll left top;cursor:pointer;width:35px;height:35px;display:block}.edui-popup-emotion .edui-emotion-pp img{background:transparent url("+r+") no-repeat scroll left top;cursor:pointer;width:25px;height:25px;display:block}.edui-popup-emotion .edui-emotion-ldw img{background:transparent url("+a+") no-repeat scroll left top;cursor:pointer;width:35px;height:35px;display:block}.edui-popup-emotion .edui-emotion-tsj img{background:transparent url("+s+") no-repeat scroll left top;cursor:pointer;width:35px;height:35px;display:block}.edui-popup-emotion .edui-emotion-cat img{background:transparent url("+l+") no-repeat scroll left top;cursor:pointer;width:35px;height:35px;display:block}.edui-popup-emotion .edui-emotion-bb img{background:transparent url("+c+") no-repeat scroll left top;cursor:pointer;width:35px;height:35px;display:block}.edui-popup-emotion .edui-emotion-youa img{background:transparent url("+d+") no-repeat scroll left top;cursor:pointer;width:35px;height:35px;display:block}.edui-popup-emotion .edui-emotion-smileytable{width:100%;border-spacing:0;border-collapse:collapse;table-layout:fixed}.edui-popup-emotion .edui-emotion-smileytable tr td{padding:0}.edui-popup-emotion .edui-emotion-wrapper{padding:15px}.edui-popup-emotion .edui-tab-nav{height:auto;*height:31px}.edui-popup-emotion .edui-emotion-tabs{clear:both;width:0;height:0}.edui-popup-emotion .edui-tab-content{padding:15px 0}.edui-popup-emotion .edui-emotion-preview-box{width:90px;height:76px;border:2px solid #9cb945;background:#FFFFFF;background-position:center;background-repeat:no-repeat;position:absolute;top:67px;left:494px;display:none}.edui-popup-emotion .edui-tab-text{font-size:12px}.edui-popup-emotion .edui-emotion-preview-left{left:15px}.edui-popup-emotion .edui-emotion-preview-img{width:100%;height:100%;display:block;background-repeat:no-repeat;background-position:center center}\n",""])},337:function(t,e,n){t.exports="/img/jxface2.gif"},338:function(t,e,n){t.exports="/img/fface.gif"},339:function(t,e,n){t.exports="/img/wface.gif"},340:function(t,e,n){t.exports="/img/tface.gif"},341:function(t,e,n){t.exports="/img/cface.gif"},342:function(t,e,n){t.exports="/img/bface.gif"},343:function(t,e,n){t.exports="/img/yface.gif"},344:function(t,e,n){var i=n(345);"string"==typeof i&&(i=[[t.i,i,""]]);var o={attributes:{class:"webpack-style"},insert:"head",singleton:!1};n(29)(i,o);i.locals&&(t.exports=i.locals)},345:function(t,e,n){e=t.exports=n(28)(!1);var i=n(62)(n(346));e.push([t.i,".edui-popup-formula .edui-formula-wrapper{padding:15px}.edui-popup-formula .edui-formula-wrapper .edui-tab-nav{height:auto;*height:31px}.edui-popup-formula .edui-formula-wrapper .edui-tab-text{font-size:12px}.edui-popup-formula .edui-formula-wrapper .edui-formula-clearboth{clear:both;width:0;height:0}.edui-popup-formula .edui-formula-wrapper .edui-tab-pane ul{margin:0px;padding:0px}.edui-popup-formula .edui-formula-wrapper .edui-tab-content{padding:5px 0px 0px 0px}.edui-popup-formula .edui-formula-wrapper .edui-tab-pane .edui-formula-latex-item{display:block;float:left;margin:0px 3px 3px 0px;width:30px;height:30px;border:1px solid #cccccc;background-image:url("+i+");cursor:pointer}\n",""])},346:function(t,e,n){t.exports="/img/formula.png"},347:function(t,e,n){var i=n(348);"string"==typeof i&&(i=[[t.i,i,""]]);var o={attributes:{class:"webpack-style"},insert:"head",singleton:!1};n(29)(i,o);i.locals&&(t.exports=i.locals)},348:function(t,e,n){e=t.exports=n(28)(!1);var i=n(62),o=i(n(349)),r=i(n(350)),a=i(n(351));e.push([t.i,".edui-dialog-image .edui-image-wrapper{font-size:12px;margin:15px}.edui-dialog-image .edui-image-upload1{position:absolute;top:50%;left:50%;width:44px;height:38px;margin-top:-19px;margin-left:-22px}.edui-dialog-image .edui-image-upload2{position:relative;float:left;width:120px;height:120px;margin:5px 0 0 5px}.edui-dialog-image .edui-image-form{position:absolute;left:0px;top:0px;width:100%;height:100%;opacity:0;cursor:pointer}.edui-dialog-image .edui-image-form .edui-image-file{width:100%;height:100%;filter:alpha(opacity=0)}.edui-dialog-image .edui-image-upload1 .edui-image-icon{display:inline-block;width:44px;height:38px;background-image:url("+o+")}.edui-dialog-image .edui-image-upload1 .edui-image-icon.hover{background-position:-50px 0}.edui-dialog-image .edui-image-upload2 .edui-image-icon{display:inline-block;width:120px;height:120px;background-image:url("+r+")}.edui-dialog-image .edui-image-dragTip{position:absolute;display:none;top:50%;left:50%;margin-top:30px;margin-left:-60px;color:#222;font-size:14px;text-shadow:0px 2px 3px #555}.edui-dialog-image .edui-image-content{height:330px;width:100%;position:relative}.edui-dialog-image .edui-image-mask{display:none;position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff;text-align:center;line-height:300px;color:#000;font-size:14px;font-weight:bold;opacity:0.6;filter:alpha(opacity=60)}.edui-dialog-image .edui-image-mask.edui-active{display:block}.edui-dialog-image .edui-image-searchBar{margin:10px}.edui-dialog-image .edui-image-searchBar .edui-image-searchTxt{display:inline-block !important;*display:inline !important;*zoom:1;width:400px;border:1px solid #c5d2ff;height:20px;line-height:18px;font-size:14px;padding:3px;margin:0;outline:0}.edui-dialog-image .edui-image-searchBar .edui-image-searchAdd{display:inline-block !important;*display:inline !important;*zoom:1;width:60px;text-align:center;height:25px;text-align:center;line-height:25px;background-color:#ffffff;padding:0;border:1px solid #ababab;margin-left:20px;cursor:pointer}.edui-dialog-image .edui-image-searchBar .edui-image-searchAdd.hover{background-color:#d5e1f2;padding:0;border:1px solid #a3bde3}.edui-dialog-image .edui-image-searchRes{height:280px;overflow:auto}.edui-dialog-image .edui-image-item{position:relative;float:left;width:120px;height:120px;border:1px solid #CCC;cursor:default;margin:5px 0 0 5px}.edui-dialog-image .edui-image-item .edui-image-pic{position:absolute;left:-9999px}.edui-dialog-image .edui-image-item .edui-image-close{position:absolute;right:0;background:url("+a+");width:17px;height:17px;cursor:pointer;z-index:1;background-repeat:no-repeat;background-position:center center}.edui-dialog-image .edui-image-item.hover .edui-image-close{display:block}\n",""])},349:function(t,e,n){t.exports="/img/upload1.png"},350:function(t,e,n){t.exports="/img/upload2.png"},351:function(t,e,n){t.exports="/img/close.png"},352:function(t,e){var i;i=UM.utils,UM.registerWidget("link",{tpl:'<style type="text/css">.edui-dialog-link .edui-link-table{font-size: 12px;margin: 10px;line-height: 30px}.edui-dialog-link .edui-link-txt{width:300px;height:21px;line-height:21px;border:1px solid #d7d7d7;}</style><table class="edui-link-table"><tr><td><label for="href"><%=lang_input_url%></label></td><td><input class="edui-link-txt" id="edui-link-Jhref" type="text" /></td></tr><tr><td><label for="title"><%=lang_input_title%></label></td><td><input class="edui-link-txt" id="edui-link-Jtitle" type="text"/></td></tr><tr><td colspan="2"><label for="target"><%=lang_input_target%></label><input id="edui-link-Jtarget" type="checkbox"/></td></tr></table>',initContent:function(t){var e=t.getLang("link");if(e)var n=$.parseTmpl(this.tpl,e.static);this.root().html(n)},initEvent:function(t,e){var n=t.queryCommandValue("link");n&&($("#edui-link-Jhref",e).val(i.html($(n).attr("href"))),$("#edui-link-Jtitle",e).val($(n).attr("title")),"_blank"==$(n).attr("target")&&$("#edui-link-Jtarget").attr("checked",!0)),$("#edui-link-Jhref",e).focus()},buttons:{ok:{exec:function(t,e){var n=$("#edui-link-Jhref").val().replace(/^\s+|\s+$/g,"");n&&t.execCommand("link",{href:n,target:$("#edui-link-Jtarget:checked").length?"_blank":"_self",title:$("#edui-link-Jtitle").val().replace(/^\s+|\s+$/g,""),_href:n})}},cancel:{}},width:400})},353:function(t,e,n){var i=n(354);"string"==typeof i&&(i=[[t.i,i,""]]);var o={attributes:{class:"webpack-style"},insert:"head",singleton:!1};n(29)(i,o);i.locals&&(t.exports=i.locals)},354:function(t,e,n){(t.exports=n(28)(!1)).push([t.i,".edui-dialog-video .edui-video-wrapper{width:570px;_width:575px;margin:10px auto;zoom:1;position:relative}.edui-dialog-video .edui-video-tabbody{height:335px}.edui-dialog-video .edui-video-panel{position:absolute;width:100%;height:100%;background:#fff}.edui-dialog-video .edui-video-panel table td{vertical-align:middle}.edui-dialog-video #eduiVideoUrl{width:470px;height:21px;line-height:21px;margin:8px 5px;background:#FFF;border:1px solid #d7d7d7}.edui-dialog-video #eduiVideoSearchTxt{margin-left:15px;background:#FFF;width:200px;height:21px;line-height:21px;border:1px solid #d7d7d7}.edui-dialog-video #searchList{width:570px;overflow:auto;zoom:1;height:270px}.edui-dialog-video #searchList div{float:left;width:120px;height:135px;margin:5px 15px}.edui-dialog-video #searchList img{margin:2px 8px;cursor:pointer;border:2px solid #fff}.edui-dialog-video #searchList p{margin-left:10px}.edui-dialog-video #eduiVideoType{width:65px;height:23px;line-height:22px;border:1px solid #d7d7d7}.edui-dialog-video #eduiVideoSearchBtn,.edui-dialog-video #eduiVideoSearchReset{height:25px;line-height:25px;background:#eee;border:1px solid #d7d7d7;cursor:pointer;padding:0 5px}.edui-dialog-video #eduiVideoPreview{width:420px;margin-left:10px;_margin-left:5px;height:280px;background-color:#ddd;float:left}.edui-dialog-video #eduiVideoInfo{width:120px;float:left;margin-left:10px;_margin-left:7px}.edui-dialog-video .edui-video-wrapper fieldset{border:1px solid #ddd;padding-left:5px;margin-bottom:20px;padding-bottom:5px;width:115px}.edui-dialog-video .edui-video-wrapper fieldset legend{font-weight:bold}.edui-dialog-video .edui-video-wrapper fieldset p{line-height:30px}.edui-dialog-video .edui-video-wrapper fieldset input.edui-video-txt{width:65px;height:21px;line-height:21px;margin:8px 5px;background:#FFF;border:1px solid #d7d7d7}.edui-dialog-video .edui-video-wrapper label.edui-video-url{font-weight:bold;margin-left:5px;color:#06c}.edui-dialog-video #eduiVideoFloat div{cursor:pointer;opacity:0.5;filter:alpha(opacity=50);margin:9px;_margin:5px;width:38px;height:36px;float:left}.edui-dialog-video #eduiVideoFloat .edui-video-focus{opacity:1;filter:alpha(opacity=100)}.edui-dialog-video .edui-video-wrapper span.edui-video-view{display:inline-block;width:30px;float:right;cursor:pointer;color:blue}\n",""])},63:function(t,e,n){"use strict";var o="/*\n * MathQuill v0.10.1               http://mathquill.com\n * by Han, Jeanine, and Mary  maintainers@mathquill.com\n *\n * This Source Code Form is subject to the terms of the\n * Mozilla Public License, v. 2.0. If a copy of the MPL\n * was not distributed with this file, You can obtain\n * one at http://mozilla.org/MPL/2.0/.\n */\n/* @font-face {\n  font-family: Symbola;\n  src: url('./font/Symbola.eot');\n  src: local(\"Symbola Regular\"), local(\"Symbola\"), url(font/Symbola.woff2) format(\"woff2\"), url(font/Symbola.woff) format(\"woff\"), url(font/Symbola.ttf) format(\"truetype\"), url(font/Symbola.otf) format(\"opentype\"), url(font/Symbola.svg#Symbola) format(\"svg\");\n} */\n.mq-editable-field {\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-editable-field .mq-cursor {\n  border-left: 1px solid black;\n  margin-left: -1px;\n  position: relative;\n  z-index: 1;\n  padding: 0;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-editable-field .mq-cursor.mq-blink {\n  visibility: hidden;\n}\n.mq-editable-field,\n.mq-math-mode .mq-editable-field {\n  border: 1px solid gray;\n}\n.mq-editable-field.mq-focused,\n.mq-math-mode .mq-editable-field.mq-focused {\n  -webkit-box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;\n  -moz-box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;\n  box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;\n  border-color: #709AC0;\n  border-radius: 1px;\n}\n.mq-math-mode .mq-editable-field {\n  margin: 1px;\n}\n.mq-editable-field .mq-latex-command-input {\n  color: inherit;\n  font-family: \"楷体\", monospace;\n  border: 1px solid gray;\n  padding-right: 1px;\n  margin-right: 1px;\n  margin-left: 2px;\n}\n.mq-editable-field .mq-latex-command-input.mq-empty {\n  background: transparent;\n}\n.mq-editable-field .mq-latex-command-input.mq-hasCursor {\n  border-color: ActiveBorder;\n}\n.mq-editable-field.mq-empty:after,\n.mq-editable-field.mq-text-mode:after,\n.mq-math-mode .mq-empty:after {\n  visibility: hidden;\n  content: 'c';\n}\n.mq-editable-field .mq-cursor:only-child:after,\n.mq-editable-field .mq-textarea + .mq-cursor:last-child:after {\n  visibility: hidden;\n  content: 'c';\n}\n.mq-editable-field .mq-text-mode .mq-cursor:only-child:after {\n  content: '';\n}\n.mq-editable-field.mq-text-mode {\n  overflow-x: auto;\n  overflow-y: hidden;\n}\n.mq-root-block,\n.mq-math-mode .mq-root-block {\n  display: -moz-inline-box;\n  display: inline-block;\n  width: 100%;\n  padding: 2px;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  white-space: nowrap;\n  overflow: hidden;\n  vertical-align: middle;\n}\n.mq-math-mode {\n  font-variant: normal;\n  font-weight: normal;\n  font-style: normal;\n  font-size: 115%;\n  line-height: 1;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-math-mode .mq-non-leaf,\n.mq-math-mode .mq-scaled {\n  display: -moz-inline-box;\n  display: inline-block;\n}\n\n.mq-math-mode var,\n.mq-math-mode .mq-text-mode,\n.mq-math-mode .mq-nonSymbola {\n  font-family: \"楷体\", Symbola, serif;\n  line-height: .9;\n}\n.mq-math-mode * {\n  font-size: inherit;\n  line-height: inherit;\n  margin: 0;\n  padding: 0;\n  border-color: black;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  box-sizing: border-box;\n}\n.mq-math-mode .mq-empty {\n  background: #ccc;\n}\n.mq-math-mode .mq-empty.mq-root-block {\n  background: transparent;\n}\n.mq-math-mode.mq-empty {\n  background: transparent;\n}\n.mq-math-mode .mq-text-mode {\n  font-size: 87%;\n}\n.mq-math-mode .mq-font {\n  font: 1em \"Times New Roman\", Symbola, serif;\n}\n.mq-math-mode .mq-font * {\n  font-family: inherit;\n  font-style: inherit;\n}\n.mq-math-mode b,\n.mq-math-mode b.mq-font {\n  font-weight: bolder;\n}\n.mq-math-mode var,\n.mq-math-mode i,\n.mq-math-mode i.mq-font {\n  font-style: italic;\n}\n.mq-math-mode var.mq-f {\n  margin-right: 0.2em;\n  margin-left: 0.1em;\n}\n.mq-math-mode .mq-roman var.mq-f {\n  margin: 0;\n}\n.mq-math-mode big {\n  font-size: 125%;\n}\n.mq-math-mode .mq-roman {\n  font-style: normal;\n}\n.mq-math-mode .mq-sans-serif {\n  font-family: '楷体', Symbola, serif;\n}\n.mq-math-mode .mq-monospace {\n  font-family: '楷体', Symbola, serif;\n}\n.mq-math-mode .mq-overline {\n  border-top: 1px solid black;\n  margin-top: 1px;\n}\n.mq-math-mode .mq-underline {\n  border-bottom: 1px solid black;\n  margin-bottom: 1px;\n}\n.mathquill-editable,\n.mathquill-rendered-math{\n    border: 0px;\n    padding: 0px;\n    margin:4px;\n}\n.mq-math-mode .mq-binary-operator {\n  padding: 0 0.2em;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-math-mode .mq-supsub {\n  font-size: 90%;\n  vertical-align: -0.5em;\n  /* float: right; */\n}\n.mq-math-mode .mq-lim-sub {\n  font-size: 80%;\n  vertical-align: .5em;\n  float: right;\n}\n.mq-math-mode .mq-supsub.mq-limit {\n  font-size: 80%;\n  vertical-align: -0.4em;\n}\n.mq-math-mode .mq-supsub.mq-sup-only {\n  vertical-align: .5em;\n}\n.mq-math-mode .mq-supsub.mq-sup-only .mq-sup {\n  display: inline-block;\n  vertical-align: text-bottom;\n}\n.mq-math-mode .mq-supsub .mq-sup {\n  display: block;\n}\n.mq-math-mode .mq-supsub .mq-sub {\n  display: block;\n  float: left;\n}\n.mq-math-mode .mq-supsub.mq-limit .mq-sub {\n  margin-left: -0.25em;\n}\n.mq-math-mode .mq-supsub .mq-binary-operator {\n  padding: 0 .1em;\n}\n.mq-math-mode .mq-supsub .mq-fraction {\n  font-size: 70%;\n}\n.mq-math-mode sup.mq-nthroot {\n  font-size: 80%;\n  vertical-align: 0.8em;\n  margin-right: -0.6em;\n  margin-left: .2em;\n  min-width: .5em;\n}\n.mq-math-mode .mq-paren {\n  padding: 0 .1em;\n  vertical-align: top;\n  -webkit-transform-origin: center .06em;\n  -moz-transform-origin: center .06em;\n  -ms-transform-origin: center .06em;\n  -o-transform-origin: center .06em;\n  transform-origin: center .06em;\n}\n.mq-math-mode .mq-paren.mq-ghost {\n  color: silver;\n}\n.mq-scaled{\n  font-family: '宋体';\n}\n.mq-math-mode .mq-paren + span {\n  margin-top: .1em;\n  margin-bottom: .1em;\n}\n.mq-math-mode .mq-array {\n  vertical-align: middle;\n  text-align: center;\n}\n.mq-math-mode .mq-array > span {\n  display: block;\n}\n.mq-math-mode .mq-operator-name {\n  font-family: '楷体', \"Times New Roman\", serif;\n  line-height: .9;\n  font-style: normal;\n}\n.mq-math-mode var.mq-operator-name.mq-first {\n  padding-left: .2em;\n}\n.mq-math-mode var.mq-operator-name.mq-last {\n  padding-right: .2em;\n}\n.mq-math-mode .mq-fraction {\n  font-size: 90%;\n  text-align: center;\n  vertical-align: -0.4em;\n  padding: 0 .2em;\n}\n.mq-math-mode .mq-fraction,\n.mq-math-mode .mq-large-operator,\n.mq-math-mode x:-moz-any-link {\n  display: -moz-groupbox;\n}\n.mq-math-mode .mq-fraction,\n.mq-math-mode .mq-large-operator,\n.mq-math-mode x:-moz-any-link,\n.mq-math-mode x:default {\n  display: inline-block;\n}\n.mq-math-mode .mq-numerator,\n.mq-math-mode .mq-denominator {\n  display: block;\n}\n.mq-math-mode .mq-numerator {\n  padding: 0 0.1em;\n}\n.mq-math-mode .mq-denominator {\n  border-top: 1px solid;\n  float: right;\n  width: 100%;\n  padding: 0.1em;\n}\n.mq-math-mode .mq-sqrt-prefix {\n  padding-top: 0;\n  position: relative;\n  top: 0em;\n  left: 5px;\n  vertical-align: top;\n  -webkit-transform-origin: top;\n  -moz-transform-origin: top;\n  -ms-transform-origin: top;\n  -o-transform-origin: top;\n  transform-origin: top;\n}\n.mq-math-mode .mq-sqrt-stem {\n  border-top: 1px solid;\n  margin-top: 1px;\n  padding-left: .15em;\n  padding-right: .2em;\n  margin-right: .1em;\n  padding-top: 1px;\n}\n.mq-math-mode .mq-vector-prefix {\n  display: block;\n  text-align: center;\n  line-height: .25em;\n  margin-bottom: -0.1em;\n  font-size: 0.75em;\n}\n.mq-math-mode .mq-vector-stem {\n  display: block;\n}\n.mq-math-mode .mq-large-operator {\n  text-align: center;\n}\n.mq-math-mode .mq-large-operator .mq-from,\n.mq-math-mode .mq-large-operator big,\n.mq-math-mode .mq-large-operator .mq-to {\n  display: block;\n}\n.mq-math-mode .mq-large-operator .mq-from,\n.mq-math-mode .mq-large-operator .mq-to {\n  font-size: 80%;\n}\n.mq-math-mode .mq-large-operator .mq-from {\n  float: right;\n  /* take out of normal flow to manipulate baseline */\n  width: 100%;\n}\n.mq-math-mode,\n.mq-math-mode .mq-editable-field {\n  cursor: text;\n  font-family: '楷体', \"Times New Roman\", serif;\n}\n.mq-math-mode .mq-overarrow {\n  border-top: 1px solid black;\n  margin-top: 1px;\n  padding-top: 0.2em;\n}\n.mq-math-mode .mq-overarrow:before {\n  display: block;\n  position: relative;\n  top: -0.34em;\n  font-size: 0.5em;\n  line-height: 0em;\n  content: '\\27A4';\n  text-align: right;\n}\n.mq-math-mode .mq-overarrow.mq-arrow-left:before {\n  -moz-transform: scaleX(-1);\n  -o-transform: scaleX(-1);\n  -webkit-transform: scaleX(-1);\n  transform: scaleX(-1);\n  filter: FlipH;\n  -ms-filter: \"FlipH\";\n}\n.mq-math-mode .mq-selection,\n.mq-editable-field .mq-selection,\n.mq-math-mode .mq-selection .mq-non-leaf,\n.mq-editable-field .mq-selection .mq-non-leaf,\n.mq-math-mode .mq-selection .mq-scaled,\n.mq-editable-field .mq-selection .mq-scaled {\n  background: #B4D5FE !important;\n  background: Highlight !important;\n  color: HighlightText;\n  border-color: HighlightText;\n}\n.mq-math-mode .mq-selection .mq-matrixed,\n.mq-editable-field .mq-selection .mq-matrixed {\n  background: #39F !important;\n}\n.mq-math-mode .mq-selection .mq-matrixed-container,\n.mq-editable-field .mq-selection .mq-matrixed-container {\n  filter: progid:DXImageTransform.Microsoft.Chroma(color='#3399FF') !important;\n}\n.mq-math-mode .mq-selection.mq-blur,\n.mq-editable-field .mq-selection.mq-blur,\n.mq-math-mode .mq-selection.mq-blur .mq-non-leaf,\n.mq-editable-field .mq-selection.mq-blur .mq-non-leaf,\n.mq-math-mode .mq-selection.mq-blur .mq-scaled,\n.mq-editable-field .mq-selection.mq-blur .mq-scaled,\n.mq-math-mode .mq-selection.mq-blur .mq-matrixed,\n.mq-editable-field .mq-selection.mq-blur .mq-matrixed {\n  background: #D4D4D4 !important;\n  color: black;\n  border-color: black;\n}\n.mq-math-mode .mq-selection.mq-blur .mq-matrixed-container,\n.mq-editable-field .mq-selection.mq-blur .mq-matrixed-container {\n  filter: progid:DXImageTransform.Microsoft.Chroma(color='#D4D4D4') !important;\n}\n.mq-editable-field .mq-textarea,\n.mq-math-mode .mq-textarea {\n  position: relative;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  user-select: text;\n}\n.mq-editable-field .mq-textarea *,\n.mq-math-mode .mq-textarea *,\n.mq-editable-field .mq-selectable,\n.mq-math-mode .mq-selectable {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  user-select: text;\n  position: absolute;\n  clip: rect(1em 1em 1em 1em);\n  -webkit-transform: scale(0);\n  -moz-transform: scale(0);\n  -ms-transform: scale(0);\n  -o-transform: scale(0);\n  transform: scale(0);\n  resize: none;\n  width: 1px;\n  height: 1px;\n}\n.mq-math-mode .mq-matrixed {\n  background: white;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-math-mode .mq-matrixed-container {\n  filter: progid:DXImageTransform.Microsoft.Chroma(color='white');\n  margin-top: -0.1em;\n}\n";function r(){var t=document.createElement("style");t.innerHTML="html, body, .main{\n      margin: 0;\n      padding: 0;\n      overflow: hidden;\n  }\n  ".concat(o,"\n");var e=document.createElement("div");e.innerHTML='\n    <div class="main">\n        <div class="mathquill-editable"></div>\n    </div>\n';var n=document.createElement("script");n.innerHTML="\n        window.$ = parent.$\n        window.MQ = parent.MQ\n\n        $(function(){\n            var UM = parent.UM,\n                $iframe = $(getSelfIframe()),\n                editorId = $iframe.parents('.edui-body-container').attr('id'),\n                editor = UM.getEditor(editorId),\n                timer;\n\n            /* 获得当前公式所在的iframe节点 */\n            function getSelfIframe(){\n                var iframes = parent.document.getElementsByTagName('iframe');\n                for (var key in iframes) {\n                    if (iframes[key].contentWindow == window) {\n                        return iframes[key];\n                    }\n                }\n                return null;\n            }\n            /* 获得当前url上的hash存储的参数值 */\n            function getLatex() {\n                return $iframe.attr('data-latex') || '';\n            }\n            /* 保存场景 */\n            function saveScene(){\n                timer && clearTimeout(timer);\n                timer = setTimeout(function(){\n                    editor.fireEvent('savescene');\n                    editor.fireEvent('contentchange');\n                    editor.fireEvent('selectionchange');\n                    timer = null;\n                }, 300);\n            }\n            /* 设置编辑器可编辑 */\n            function enableEditor(){\n                if(editor.body.contentEditable == 'false') {\n                    editor.setEnabled();\n                }\n            }\n            /* 设置编辑器不可编辑 */\n            function disableEditor(){\n                if(editor.body.contentEditable == 'true') {\n                    editor.setDisabled(['undo', 'redo', 'preview', 'formula'], true);\n                }\n            }\n\n            /* 公式 */\n            var Formula = function(){\n                var _this = this,\n                    latex = getLatex();\n\n                this.isFocus = false;\n                this.isDisabled = false;\n\n                $(document).find('div.mathquill-editable').html(latex)\n                /* 加载公式内容 */\n                this.$mathquill = MQ.MathField($(document).find('div.mathquill-editable')[0], {\n                  substituteTextarea: function() {\n                    return document.createElement('textarea');\n                  },\n                  handlers: {\n                    enter: function (mathField) {\n                    }\n                  }\n                });\n                this.$el = $(this.$mathquill.el())\n\n                /* 设置活动状态的公式iframe */\n                this.$el.on('mousedown', function(){\n                    /* 编辑器不可用时,公式也不可用 */\n                    if(_this.disabled) return false;\n\n                    /* 第一次点击当前公式,设置公式活动 */\n                    if(!$iframe.hasClass('edui-formula-active')) {\n                        disableEditor();\n                        editor.blur();\n                        editor.$body.find('iframe').not($iframe).each(function(k, v){\n                          try{\n                            v.contentWindow.formula.blur();\n                          } catch (e) {\n                            \n                          }\n                        });\n                        if(_this.$el.find('.cursor').css('display') == 'none') {\n                            _this.refresh();\n                            _this.$mathquill.addClass('hasCursor');\n                        }\n                    }\n                    _this.focus();\n                });\n                editor.addListener('click', function(){\n                    _this.blur();\n                    enableEditor();\n                });\n\n                /* 里面focus,编辑器也判断为focus */\n                editor.addListener('isFocus', function(){\n                    return _this.isFocus;\n                });\n                /* um不可用,公式也不可编辑 */\n                editor.addListener('setDisabled', function(type, except){\n                    if (!(except && except.join(' ').indexOf('formula') != -1) && _this.isDisabled != true ) {\n                        _this.setDisabled();\n                    }\n                });\n                editor.addListener('setEnabled', function(){\n                    if (_this.isDisabled != false) {\n                        _this.setEnabled();\n                    }\n                });\n\n                /* 设置更新外层iframe的大小和属性 */\n                $(document.body).on('keydown', function(){\n                    _this.updateIframe();\n                }).on('keyup', function(){\n                    _this.updateIframe();\n                });\n\n                /* 清除初始化的高亮状态 */\n                this.$el.removeClass('hasCursor');\n\n                /* 初始化后延迟刷新外层iframe大小 */\n                setTimeout(function(){\n                    _this.updateIframe();\n                }, 300);\n            };\n\n            Formula.prototype = {\n                focus:function(){\n                    $iframe.addClass('edui-formula-active');\n                    this.isFocus = true;\n                },\n                blur:function(){\n                    $iframe.removeClass('edui-formula-active');\n                    this.removeCursor();\n                    this.isFocus = false;\n                },\n                removeCursor: function(){\n                    this.$el.find('span.cursor').hide();\n                    this.$el.parent().find('.hasCursor').removeClass('hasCursor');\n                },\n                updateIframe: function(){\n                    $iframe.width(this.$el.width()+8).height(this.$el.height()+8);\n                    var latex = $iframe.attr('data-latex'),\n                        newLatex = this.getLatex();\n                    if(latex != newLatex) {\n                        $iframe.attr('data-latex', this.getLatex());\n                        saveScene();\n                    }\n                },\n                insertLatex: function(latex){\n                    this.$mathquill.write(latex);\n                    this.updateIframe();\n                    this.removeCursor();\n                },\n                setLatex: function(latex){\n                    this.$mathquill.latex(latex);\n                    this.updateIframe();\n                },\n                getLatex: function(){\n                    return this.$mathquill.latex();\n                },\n                redraw: function(){\n                    this.$mathquill.mathquill('redraw');\n                },\n                setDisabled: function(){\n                    this.blur();\n                    var latex = this.getLatex();\n                    this.$mathquill.revert().text(latex).mathquill();\n                    this.updateIframe();\n                    this.isDisabled = true;\n                },\n                setEnabled: function(){\n                    this.$mathquill.removeClass('mathquill-rendered-math');\n                    this.refresh();\n                    this.isDisabled = false;\n                },\n                refresh: function(){\n                    var latex = this.getLatex();\n                    this.$mathquill.revert().text(latex).mathquill('editable');\n                    this.updateIframe();\n                }\n            };\n\n            /* 绑定到window上，给上级window调用 */\n            window.formula = new Formula();\n        });";var i=document.createDocumentFragment();return i.appendChild(t),i.appendChild(e),i.appendChild(n),i}n.d(e,"b",function(){return o});e.a=function t(e){var n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=e.contentWindow.document||e.contentDocument;if(i.body){if($(i.body).find("script").length)return;if(!i.body&&n)return void setTimeout(function(){t(e,!1)},256);i.body.appendChild(r())}else e.onload=function(){var t=e.contentWindow.document||e.contentDocument;$(t.body).find("script").length||t.body.appendChild(r())}}},92:function(t,e,n){"use strict";n.r(e);var i={name:"umeditor",props:{nameAttr:{type:String,default:function(){return"xy_um_editor"}},initMessage:{type:String,default:function(){return"@blog1997/um-editor"}},height:{type:String,default:function(){return"300px"}},width:{type:String,default:function(){return"100%"}},toolbar:{type:[Array,String],default:function(){return""}},uploadUrl:{type:String,default:function(){return""}}},data:function(){return{umId:"um_editor_"+Math.random().toFixed(3).toString().replace(".","_"),UM:void 0}},render:function(t){return t("script",{domProps:{type:"text/plain",id:this.umId},attrs:{class:"um_editor",name:this.nameAttr},style:{height:this.height}})},mounted:function(){window.UMEDITOR_CONFIG||(window.UMEDITOR_CONFIG={}),window.UMEDITOR_CONFIG.imagePath="/",window.UMEDITOR_CONFIG.imageUrl=this.uploadUrl;var t={initialFrameWidth:this.width,autoHeightEnabled:!0,autoFloatEnabled:!0};this.toolbar&&(t.toolbar=this.toolbar),this.UM=UM.getEditor(this.umId,t),UM.umId=this.umId,UM.areaName=this.nameAttr,this.UM.setContent(this.initMessage),this.$emit("receiveUM",this.UM)}},o=n(126),r=n.n(o);window.jQuery=window.$=r.a;var a;n(315),n(321),n(322),n(324),n(325),n(327),n(328),n(330),n(332),n(333);a={type:null,patternLt:/</gm,patternGt:/>/gm,dealWithChar:function(t){return t.replace(this.patternLt,"&lt;").replace(this.patternGt,"&gt;")},init:function(t){this.inited=!0,t.find("select").on("change",function(){a.type=this.options[this.selectedIndex].text})},insertCode:function(t,e){var n=e.find("textarea")[0].value||"";n&&(this.type=this.type?this.type:e.find("select option:selected")[0].text,n='<pre><code class="'+this.type+'">'+n+" \n</code></pre>",t.execCommand("insertHTML",n,!0))}},UM.registerWidget("code",{tpl:'<div class="code-type">&nbsp;&nbsp;&nbsp;&nbsp;<select name="codeType"><option>apache</option><option>bash</option><option>cpp</option><option>cs</option><option>css</option><option>coffeescript</option><option>java</option><option>javascript</option><option>json</option><option>http</option><option>php</option><option>makefile</option><option>markdown</option><option>nginx</option><option>objectivec</option><option>perl</option><option>properties</option><option>python</option><option>xml</option><option>sql</option></select></div><div class="code-content"><textarea></textarea></div>',initContent:function(t,e){var n=t.getLang("image").static,i=$.extend({},n,{code_url:UMEDITOR_CONFIG.UMEDITOR_HOME_URL+"dialogs/code/"});if(n)var o=$.parseTmpl(this.tpl,i);this.root().html(o)},initEvent:function(t,e){var n=a.type;a.init(e),n&&e.find("select option").filter(function(){return this.text==n}).attr("selected",!0)},buttons:{ok:{exec:function(t,e){a.insertCode(t,e)}},cancel:{}},width:520,height:408});var b;n(335);b=null,UM.registerWidget("emotion",{tpl:'<div class="edui-emotion-tab-Jpanel edui-emotion-wrapper"><ul class="edui-emotion-Jtabnav edui-tab-nav"><li class="edui-tab-item"><a data-context=".edui-emotion-Jtab0" hideFocus="true" class="edui-tab-text"><%=lang_input_choice%></a></li><li class="edui-tab-item"><a data-context=".edui-emotion-Jtab1" class="edui-tab-text"><%=lang_input_Tuzki%></a></li><li class="edui-tab-item"><a data-context=".edui-emotion-Jtab2" hideFocus="true" class="edui-tab-text"><%=lang_input_lvdouwa%></a></li><li class="edui-tab-item"><a data-context=".edui-emotion-Jtab3" hideFocus="true" class="edui-tab-text"><%=lang_input_BOBO%></a></li><li class="edui-tab-item"><a data-context=".edui-emotion-Jtab4" hideFocus="true" class="edui-tab-text"><%=lang_input_babyCat%></a></li><li class="edui-tab-item"><a data-context=".edui-emotion-Jtab5" hideFocus="true" class="edui-tab-text"><%=lang_input_bubble%></a></li><li class="edui-tab-item"><a data-context=".edui-emotion-Jtab6" hideFocus="true" class="edui-tab-text"><%=lang_input_youa%></a></li><li class="edui-emotion-tabs"></li></ul><div class="edui-tab-content edui-emotion-JtabBodys"><div class="edui-emotion-Jtab0 edui-tab-pane"></div><div class="edui-emotion-Jtab1 edui-tab-pane"></div><div class="edui-emotion-Jtab2 edui-tab-pane"></div><div class="edui-emotion-Jtab3 edui-tab-pane"></div><div class="edui-emotion-Jtab4 edui-tab-pane"></div><div class="edui-emotion-Jtab5 edui-tab-pane"></div><div class="edui-emotion-Jtab6 edui-tab-pane"></div></div><div class="edui-emotion-JtabIconReview edui-emotion-preview-box"><img src="<%=cover_img%>" class=\'edui-emotion-JfaceReview edui-emotion-preview-img\'/></div>',sourceData:{emotion:{tabNum:7,SmilmgName:{"edui-emotion-Jtab0":["j_00",84],"edui-emotion-Jtab1":["t_00",40],"edui-emotion-Jtab2":["w_00",52],"edui-emotion-Jtab3":["B_00",63],"edui-emotion-Jtab4":["C_00",20],"edui-emotion-Jtab5":["i_f",50],"edui-emotion-Jtab6":["y_00",40]},imageFolders:{"edui-emotion-Jtab0":"jx2/","edui-emotion-Jtab1":"tsj/","edui-emotion-Jtab2":"ldw/","edui-emotion-Jtab3":"bobo/","edui-emotion-Jtab4":"babycat/","edui-emotion-Jtab5":"face/","edui-emotion-Jtab6":"youa/"},imageCss:{"edui-emotion-Jtab0":"jd","edui-emotion-Jtab1":"tsj","edui-emotion-Jtab2":"ldw","edui-emotion-Jtab3":"bb","edui-emotion-Jtab4":"cat","edui-emotion-Jtab5":"pp","edui-emotion-Jtab6":"youa"},imageCssOffset:{"edui-emotion-Jtab0":35,"edui-emotion-Jtab1":35,"edui-emotion-Jtab2":35,"edui-emotion-Jtab3":35,"edui-emotion-Jtab4":35,"edui-emotion-Jtab5":25,"edui-emotion-Jtab6":35},SmileyInfor:{"edui-emotion-Jtab0":["Kiss","Love","Yeah","啊！","背扭","顶","抖胸","88","汗","瞌睡","鲁拉","拍砖","揉脸","生日快乐","大笑","瀑布汗~","惊讶","臭美","傻笑","抛媚眼","发怒","打酱油","俯卧撑","气愤","?","吻","怒","胜利","HI","KISS","不说","不要","扯花","大心","顶","大惊","飞吻","鬼脸","害羞","口水","狂哭","来","发财了","吃西瓜","套牢","害羞","庆祝","我来了","敲打","晕了","胜利","臭美","被打了","贪吃","迎接","酷","微笑","亲吻","调皮","惊恐","耍酷","发火","害羞","汗水","大哭","","加油","困","你NB","晕倒","开心","偷笑","大哭","滴汗","叹气","超赞","??","飞吻","天使","撒花","生气","被砸","吓傻","随意吐"],"edui-emotion-Jtab1":["Kiss","Love","Yeah","啊！","背扭","顶","抖胸","88","汗","瞌睡","鲁拉","拍砖","揉脸","生日快乐","摊手","睡觉","瘫坐","无聊","星星闪","旋转","也不行","郁闷","正Music","抓墙","撞墙至死","歪头","戳眼","飘过","互相拍砖","砍死你","扔桌子","少林寺","什么？","转头","我爱牛奶","我踢","摇晃","晕厥","在笼子里","震荡"],"edui-emotion-Jtab2":["大笑","瀑布汗~","惊讶","臭美","傻笑","抛媚眼","发怒","我错了","money","气愤","挑逗","吻","怒","胜利","委屈","受伤","说啥呢？","闭嘴","不","逗你玩儿","飞吻","眩晕","魔法","我来了","睡了","我打","闭嘴","打","打晕了","刷牙","爆揍","炸弹","倒立","刮胡子","邪恶的笑","不要不要","爱恋中","放大仔细看","偷窥","超高兴","晕","松口气","我跑","享受","修养","哭","汗","啊~","热烈欢迎","打酱油","俯卧撑","?"],"edui-emotion-Jtab3":["HI","KISS","不说","不要","扯花","大心","顶","大惊","飞吻","鬼脸","害羞","口水","狂哭","来","泪眼","流泪","生气","吐舌","喜欢","旋转","再见","抓狂","汗","鄙视","拜","吐血","嘘","打人","蹦跳","变脸","扯肉","吃To","吃花","吹泡泡糖","大变身","飞天舞","回眸","可怜","猛抽","泡泡","苹果","亲","","骚舞","烧香","睡","套娃娃","捅捅","舞倒","西红柿","爱慕","摇","摇摆","杂耍","招财","被殴","被球闷","大惊","理想","欧打","呕吐","碎","吐痰"],"edui-emotion-Jtab4":["发财了","吃西瓜","套牢","害羞","庆祝","我来了","敲打","晕了","胜利","臭美","被打了","贪吃","迎接","酷","顶","幸运","爱心","躲","送花","选择"],"edui-emotion-Jtab5":["微笑","亲吻","调皮","惊讶","耍酷","发火","害羞","汗水","大哭","得意","鄙视","困","夸奖","晕倒","疑问","媒婆","狂吐","青蛙","发愁","亲吻","","爱心","心碎","玫瑰","礼物","哭","奸笑","可爱","得意","呲牙","暴汗","楚楚可怜","困","哭","生气","惊讶","口水","彩虹","夜空","太阳","钱钱","灯泡","咖啡","蛋糕","音乐","爱","胜利","赞","鄙视","OK"],"edui-emotion-Jtab6":["男兜","女兜","开心","乖乖","偷笑","大笑","抽泣","大哭","无奈","滴汗","叹气","狂晕","委屈","超赞","??","疑问","飞吻","天使","撒花","生气","被砸","口水","泪奔","吓傻","吐舌头","点头","随意吐","旋转","困困","鄙视","狂顶","篮球","再见","欢迎光临","恭喜发财","稍等","我在线","恕不议价","库房有货","货在路上"]}}},initContent:function(t,e){var n=this,i=n.sourceData.emotion,o=t.getLang("emotion").static,r=UMEDITOR_CONFIG.UMEDITOR_HOME_URL+"dialogs/emotion/",a=$.extend({},o,{emotion_url:r}),s=n.root();if(n.inited)return n.preventDefault(),void this.switchToFirst();n.inited=!0,b=t,this.widget=e,i.SmileyPath=!0===t.options.emotionLocalization?r+"images/":"http://img.baidu.com/hi/",i.SmileyBox=n.createTabList(i.tabNum),i.tabExist=n.createArr(i.tabNum),a.cover_img=i.SmileyPath+(b.options.emotionLocalization?"0.gif":"default/0.gif"),s.html($.parseTmpl(n.tpl,a)),n.tabs=$.eduitab({selector:".edui-emotion-tab-Jpanel"}),n.previewBox=s.find(".edui-emotion-JtabIconReview"),n.previewImg=s.find(".edui-emotion-JfaceReview"),n.initImgName()},initEvent:function(){var i=this;i.root().on("click",function(t){return!1}),i.root().delegate("td","mouseover mouseout",function(t){var e=$(this),n=e.attr("data-surl")||null;return n&&i[t.type](this,n,e.attr("data-posflag")),!1}),i.root().delegate("td","click",function(t){var e=$(this).attr("data-realurl")||null;return e&&i.insertSmiley(e.replace(/'/g,"\\'"),t),!1}),i.tabs.edui().on("beforeshow",function(t){var e=$(t.target).attr("data-context").replace(/^.*\.(?=[^\s]*$)/,"");t.stopPropagation(),i.updateTab(e)}),this.switchToFirst()},initImgName:function(){var t=this.sourceData.emotion;for(var e in t.SmilmgName){var n=t.SmilmgName[e],i=t.SmileyBox[e],o="";if(i.length)return;for(var r=1;r<=n[1];r++)o=n[0],r<10&&(o+="0"),o=o+r+".gif",i.push(o)}},switchToFirst:function(){this.root().find(".edui-emotion-Jtabnav .edui-tab-text:first").trigger("click")},updateTab:function(t){var e=this.sourceData.emotion;this.autoHeight(t),e.tabExist[t]||(e.tabExist[t]=!0,this.createTab(t))},autoHeight:function(){this.widget.height(this.root()+2)},createTabList:function(t){for(var e={},n=0;n<t;n++)e["edui-emotion-Jtab"+n]=[];return e},mouseover:function(t,e,n){n-=0,$(t).css("backgroundColor","#ACCD3C"),this.previewImg.css("backgroundImage","url("+e+")"),n&&this.previewBox.addClass("edui-emotion-preview-left"),this.previewBox.show()},mouseout:function(t){$(t).css("backgroundColor","transparent"),this.previewBox.removeClass("edui-emotion-preview-left").hide()},insertSmiley:function(t,e){var n={src:t};n._src=n.src,b.execCommand("insertimage",n),e.ctrlKey||(this.previewBox.removeClass("edui-emotion-preview-left").hide(),this.widget.edui().hide())},createTab:function(t){for(var e,n,i,o,r,a,s=this.root().find("."+t),l=this.sourceData.emotion,c=l.SmileyPath+l.imageFolders[t],d=35,u=l.imageCss[t],p=l.imageCssOffset[t],h=['<table border="1" class="edui-emotion-smileytable">'],f=0,m=l.SmileyBox[t].length;f<m;){h.push("<tr>");for(var g=0;g<11;g++,f++)(e=l.SmileyBox[t][f])?(n=c+e+"?v=1.1",i=c+e,o=g<5.5?0:1,r=p*f*-1-1,a=l.SmileyInfor[t][f],h.push('<td  class="edui-emotion-'+u+'" data-surl="'+n+'" data-realurl="'+i+'" data-posflag="'+o+'" align="center">'),h.push("<span>"),h.push('<img  style="background-position:left '+r+'px;" title="'+a+'" src="'+l.SmileyPath+(b.options.emotionLocalization?'0.gif" width="':'default/0.gif" width="')+d+'" height="35"></img>'),h.push("</span>")):h.push('<td bgcolor="#FFFFFF">'),h.push("</td>");h.push("</tr>")}h.push("</table>"),h=h.join(""),s.html(h)},createArr:function(t){for(var e=[],n=0;n<t;n++)e[n]=0;return e},width:603,height:400});var p;n(344);p=null,UM.registerWidget("formula",{tpl:'<div class="edui-formula-wrapper"><ul class="edui-tab-nav"></ul><div class="edui-tab-content"></div></div>',sourceData:{formula:{common:["{/}frac{ }{ }","^{ }/_{ }","x^{ }","x_{ }","x^{ }_{ }","{/}bar{ }","{/}sqrt{ }","{/}nthroot{ }{ }","{/}sum^{ }_{n=}","{/}sum","{/}log_{ }","{/}ln{ }","{/}int_{ }^{ }","{/}oint_{ }^{ }","{/}overrightarrow{ab}","{/}overleftarrow{ab}","^{{/}lim}_{n \\to \\infty}","\\matrix { }{ }{ }","{ }"],symbol:["+","-","{/}pm","{/}times","{/}ast","{/}div","/","{/}bigtriangleup","=","{/}ne","{/}approx",">","<","{/}ge","{/}le","\\infty","{/}cap","{/}cup","{/}because","{/}therefore","{/}subset","{/}supset","{/}subseteq","{/}supseteq","{/}nsubseteq","{/}nsupseteq","{/}in","{/}ni","{/}notin","{/}mapsto","{/}leftarrow","{/}rightarrow","{/}Leftarrow","{/}Rightarrow","{/}leftrightarrow","{/}Leftrightarrow","\\left({ }\\right)","\\left\\{\\right\\}"],letter:["{/}alpha","{/}beta","{/}gamma","{/}delta","{/}varepsilon","{/}varphi","{/}lambda","{/}mu","{/}rho","{/}sigma","{/}omega","{/}Gamma","{/}Delta","{/}Theta","{/}Lambda","{/}Xi","{/}Pi","{/}Sigma","{/}Upsilon","{/}Phi","{/}Psi","{/}Omega"]}},initContent:function(t,e){var n=this,i=n.sourceData.formula,o=t.getLang("formula").static,r=UMEDITOR_CONFIG.UMEDITOR_HOME_URL+"dialogs/formula/",a=$.extend({},o,{formula_url:r}),s=n.root();if(n.inited)n.preventDefault();else{n.inited=!0,p=t,n.$widget=e,s.html($.parseTmpl(n.tpl,a)),n.tabs=$.eduitab({selector:"#edui-formula-tab-Jpanel"});var l=[],c=0,d=0,u=n.root().find(".edui-tab-content");$.each(i,function(t,e){var n=[];$.each(e,function(t,e){n.push('<li class="edui-formula-latex-item" data-latex="'+e+'" style="background-position:-'+30*c+"px -"+30*d+'px"></li>'),8<=++c&&(++d,c=0)}),0!==c&&++d,c=0,u.append('<div class="edui-tab-pane"><ul>'+n.join("")+"</ul>"),l.push('<li class="edui-tab-item"><a href="javascript:void(0);" class="edui-tab-text">'+o["lang_tab_"+t]+"</a></li>")}),l.push('<li class="edui-formula-clearboth"></li>'),s.find(".edui-tab-nav").html(l.join("")),s.find(".edui-tab-content").append('<div class="edui-formula-clearboth"></div>'),n.switchTab(0)}},initEvent:function(){var n=this;n.root().on("click",function(t){return!1}),n.root().find(".edui-tab-nav").delegate(".edui-tab-item","click",function(t){return n.switchTab(this),!1}),n.root().find(".edui-tab-pane").delegate(".edui-formula-latex-item","click",function(t){var e=$(this).attr("data-latex")||"";return e&&n.insertLatex(e.replace("{/}","\\")),n.$widget.edui().hide(),!1})},switchTab:function(t){var e=this.root();t=$.isNumeric(t)?t:$.inArray(t,e.find(".edui-tab-nav .edui-tab-item")),e.find(".edui-tab-nav .edui-tab-item").removeClass("edui-active").eq(t).addClass("edui-active"),e.find(".edui-tab-content .edui-tab-pane").removeClass("edui-active").eq(t).addClass("edui-active"),this.autoHeight(0)},autoHeight:function(){this.$widget.height(this.root()+2)},insertLatex:function(t){p.execCommand("formula",t)},width:350,height:400});n(347);!function(){var e=UM.utils,p=(UM.browser,{supportPreview:ImgPreview.prototype.supportPreview,allowAsyn:!0,imgPreView:null,fileList:[],tmpFileInput:[],inputs:[],checkURL:function(t){return!!t&&(!((t=e.trim(t)).length<=0)&&(0!==t.search(/http:\/\/|https:\/\//)&&(t+="http://"),t=t.replace(/\?[\s\S]*$/,""),!!/(.gif|.jpg|.jpeg|.png)$/i.test(t)&&t))},getAllPic:function(t,e,n){var i=[],o=$(t,e);return $.each(o,function(t,e){return $(e).removeAttr("width").removeAttr("height"),i.push({width:200,src:e.src,data_id:e.getAttribute("data-id")})}),i},scale:function(t,e,n,i){var o,r=0,a=0,s=t.width||n,l=t.height||i;return(e<s||e<l)&&(l<=s?(r=s-e)&&(o=(r/s).toFixed(2),t.height=l-l*o,t.width=e):(a=l-e)&&(o=(a/l).toFixed(2),t.width=s-s*o,t.height=e)),this},close:function(t){return t.css({top:(t.parent().height()-t.height())/2,left:(t.parent().width()-t.width())/2}).prev().on("click",function(){var t=this.getAttribute("id");if($(this).parent().remove().hasClass("edui-image-upload-item")){var e=$(".edui-image-close");p.tmpFileInput.splice(t,1);for(var n=0,i=e.length;n<i;n++)e[n].setAttribute("id",n);h.showCount--,h.updateView()}}),this},generatePreView:function(t){this.imgPreView=ImgPreview(t,this.callback)},preView:function(t){var e=$("#edui-dialog-image"),n=$("<img src='"+t+"' class='edui-image-pic' data-id='"+h.showCount+"' />"),i=$("<div class='edui-image-item edui-image-upload-item'><div class='edui-image-close'></div></div>").append(n);h.showCount++,$(".edui-image-upload2",e).length<1?($(".edui-image-content",e).append(i),h.render(".edui-image-content",2).config(".edui-image-upload2")):$(".edui-image-upload2",e).before(i).show(),n.on("load",function(){p.scale(this,120),p.close($(this)),$(".edui-image-content",e).focus()}),h.toggleMask()},callback:function(t){var e=t;h.toggleMask("Loading...."),"[object File]"===Object.prototype.toString.call(t)?(p.tmpFileInput.push(t),e=ImgPreview.prototype.createObjectURL(t)):"string"==typeof t&&p.tmpFileInput.push(this.fileList),e?p.preView(e):(h.toggleMask(),a.showTip("FALSE"),window.setTimeout(function(){a.hideTip(),h.toggleMask()},3e3)),h.updateInput()},pushFiles:function(){var t=this.tmpFileInput,e=this.fileList,n=0,i=t.length;if(i)for(n=0,i=t.length;n<i;n++)e.push(t[n])}}),h={isInit:!1,showCount:0,uploadTpl:'<div class="edui-image-upload%%"><span class="edui-image-icon"></span><form class="edui-image-form" method="post" enctype="multipart/form-data" target="up"><input style="filter: alpha(opacity=0);" class="edui-image-file" type="file" hidefocus name="upfile[]" accept="image/gif,image/jpeg,image/png,image/jpg,image/bmp"/></form></div>',init:function(t,e){return p.inputs.length=0,this.editor=t,this.dialog=e,this.render(".edui-image-local",1),this.config(".edui-image-local"),this.submit(),this.drag(),$(".edui-image-upload1").hover(function(){$(".edui-image-icon",this).toggleClass("hover")}),UM.browser.ie&&UM.browser.version<=9||$(".edui-image-dragTip",this.dialog).css("display","block"),this},render:function(t,e){return $(t,this.dialog).append($(this.uploadTpl.replace(/%%/g,e))),p.generatePreView($(".edui-image-file")[0]),this},config:function(t){var e=this.editor.options.imageUrl;return e=e+(-1==e.indexOf("?")?"?":"&")+"editorid="+this.editor.id,window.UMEDITOR_CONFIG.allowSyn&&!p.supportPreview&&$(t).find(".edui-image-form").attr("action",window.UMEDITOR_CONFIG.imageUrl+"?"+encodeURI("callback=window.parent.imgBase.imgPreView.asynCallback")),this},getFileFormDate:function(){for(var t,e=new FormData,n=$("#"+UM.umId).find("img"),i=0,o=n.length,r=!1;i<o;i++)n[i].id&&(t=n[i].id.toString(),e.append("upfile[]",p.fileList[t]),e.append("id[]",t),!0!==r&&(r=!0));return r?e:null},replaceImageUrl:function(t){var e=$("#"+UM.umId).find("img"),n=0,i=e.length;for(h.editor.textarea;n<i;n++)""!==e[n].id&&(e[n].src=t[e[n].id],e[n].removeAttribute("id"))},uploadFile:function(e){var t=$("#"+UM.umId).find("img"),n=window.UMEDITOR_CONFIG.imageUrl;if(0!=t.length){var i=h.getFileFormDate();i&&$.ajax({url:n,data:i,type:"POST",dataType:"json",processData:!1,contentType:!1,cache:!1,success:function(t){if(t.data){h.editor.textarea;h.replaceImageUrl(t.data),e.setAttribute("data-hook","1"),e.submit()}else e.setAttribute("data-hook","0"),alert("图片上传失败");p.fileList.length=0}})}},submit:function(){$('<input style="filter: alpha(opacity=0);" class="edui-image-file" type="file" hidefocus="" name="upfile[]" accept="image/gif,image/jpeg,image/png,image/jpg,image/bmp">')[0];if(!this.isInit){this.isInit=!0;for(var t=$(".edui-image-file")[0].parentElement;(t=t.parentElement)&&"FORM"!=t.tagName;);if(!t)return this;t.setAttribute("data-hook","0"),p.supportPreview?$(t).on("submit",function(t){"0"==this.getAttribute("data-hook")&&(t.preventDefault(),h.uploadFile(this))}):$(t).on("submit",function(t){$("#umeditor_textarea_myEditor")[0].innerText=$("#myEditor").html(),this.submit()})}return this},updateInput:function(){var t=$(".edui-image-upload1"),e=$(".edui-image-upload2"),n=$('<input style="filter: alpha(opacity=0);" type="file" hidefocus="" name="upfile[]" class="edui-image-file"  accept="image/gif,image/jpeg,image/png,image/jpg,image/bmp">'),i=$('<input style="filter: alpha(opacity=0);" type="file" hidefocus="" name="upfile[]" class="edui-image-file"  accept="image/gif,image/jpeg,image/png,image/jpg,image/bmp">');t.find(".edui-image-file").replaceWith(n),e.find(".edui-image-file").replaceWith(i),"none"!=t[0].style.display?p.generatePreView(n[0]):p.generatePreView(i[0])},updateView:function(){0===h.showCount&&(p.generatePreView($(".edui-image-file")[1]),$(".edui-image-upload2",this.dialog).hide(),$(".edui-image-dragTip",this.dialog).show(),$(".edui-image-upload1",this.dialog).show())},drag:function(){p.supportPreview&&this.dialog.find(".edui-image-content,.edui-image-file").on("drop",function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1;var e=t.originalEvent.dataTransfer.files;$.each(e,function(t,e){/^image/.test(e.type)?p.callback(e):p.callback(null)})}).on("dragover",function(t){t.preventDefault()}).on("dragenter",function(t){t.preventDefault()})},toggleMask:function(t){var e=$(".edui-image-mask",this.dialog);if(t)$(".edui-image-dragTip",this.dialog).css("display","none"),$(".edui-image-upload1",this.dialog).css("display","none"),e.addClass("edui-active").html(t);else{if(e.removeClass("edui-active").html(),0<h.showCount)return this;p.supportPreview&&$(".edui-image-dragTip",this.dialog).css("display","block"),$(".edui-image-upload1",this.dialog).css("display","block")}return this}};window.UM.getFileFormDate=h.getFileFormDate,window.UM.replaceImageUrl=h.replaceImageUrl;var n={init:function(t,e){this.editor=t,this.dialog=e,this.initEvt()},initEvt:function(){var t,e=this,n=$(".edui-image-searchTxt",e.dialog);$(".edui-image-searchAdd",e.dialog).on("click",function(){(t=$(".edui-image-searchTxt").val())&&$("<img src='"+t+"' class='edui-image-pic' />").on("load",function(){var t=$("<div class='edui-image-item'><div class='edui-image-close'></div></div>").append(this);$(".edui-image-searchRes",e.dialog).append(t),p.scale(this,120),t.width($(this).width()),p.close($(this)),n.val("")})}).hover(function(){$(this).toggleClass("hover")})}},r=null,a=null;UM.registerWidget("image",{tpl:'<div class="edui-image-wrapper"><ul class="edui-tab-nav"><li class="edui-tab-item edui-active"><a data-context=".edui-image-local" class="edui-tab-text"><%=lang_tab_local%></a></li><li  class="edui-tab-item"><a data-context=".edui-image-JimgSearch" class="edui-tab-text"><%=lang_tab_imgSearch%></a></li></ul><div class="edui-tab-content"><div class="edui-image-local edui-tab-pane edui-active"><div class="edui-image-content"></div><div class="edui-image-mask"></div>'+(p.supportPreview?'<div class="edui-image-dragTip"><%=lang_input_dragTip%></div>':"")+'</div><div class="edui-image-JimgSearch edui-tab-pane"><div class="edui-image-searchBar"><table><tr><td><input class="edui-image-searchTxt" type="text"></td><td><div class="edui-image-searchAdd"><%=lang_btn_add%></div></td></tr></table></div><div class="edui-image-searchRes"></div></div></div></div>',initContent:function(t,e){var n=t.getLang("image").static,i=$.extend({},n,{image_url:UMEDITOR_CONFIG.UMEDITOR_HOME_URL+"dialogs/image/"});if(n)var o=$.parseTmpl(this.tpl,i);a=e.edui(),this.root().html(o)},initEvent:function(t,e){r=$.eduitab({selector:".edui-image-wrapper"}).edui().on("beforeshow",function(t){t.stopPropagation()}),h.init(t,e),n.init(t,e)},buttons:{ok:{exec:function(t,e){var n="",i=r.activate();0==i?n=".edui-image-content .edui-image-pic":1==i&&(n=".edui-image-searchRes .edui-image-pic");var o=p.getAllPic(n,e,t);-1!=i&&t.execCommand("insertimage",o),p.pushFiles()}},cancel:{exec:function(){p.tmpFileInput.length=0}}},width:700,height:408}),p.supportPreview&&$("#myEditor").on("drop",function(t){var e,n,i,o=t||window.event,r=o.originalEvent.dataTransfer.files,a=0,s=r.length,l=($(this),""),c=/^image/;for(o.preventDefault?o.preventDefault():o.returnValue=!1;a<s;a++)e=r[a],c.test(e.type)&&(l+='<img src="'+ImgPreview.prototype.createObjectURL(e)+'" width="200" id="'+h.showCount+++'"></img>',p.fileList.push(e));if(this.focus(),window.getSelection&&""!==l&&(i=window.getSelection()).rangeCount&&i.getRangeAt(0)){var d=document.createElement("div"),u=document.createDocumentFragment();for((n=i.getRangeAt(0)).deleteContents(),d.innerHTML=l,a=0,s=d.childNodes.length;a<s;a++)u.appendChild(d.childNodes[a].cloneNode());n.insertNode(u)}}).on("dragover",function(t){var e=t||window.event;e.preventDefault?e.preventDefault():e.returnValue=!1}).on("dragenter",function(t){var e=t||window.event;e.preventDefault?e.preventDefault():e.returnValue=!1}),window.imgBase=p}();n(352);function s(t){var e=t.createElement("div");e.innerHTML='<div style="border:#ccc solid 1px;" id="dituContent"></div>';var n=t.createElement("script");n.innerHTML="\n        function getParam(name) {\n            // return location.href.match(new RegExp('[?#&]' + name + '=([^?#&]+)', 'i')) ? RegExp.$1 : '';\n            return iframe.getAttribute('_src').match(new RegExp('[?#&]' + name + '=([^?#&]+)', 'i')) ? RegExp.$1 : '';\n        }\n        var map, marker;\n        var iframe = getSelfIframe();\n        var centerParam = getParam('center');\n        var zoomParam = getParam('zoom');\n        var widthParam = getParam('width');\n        var heightParam = getParam('height');\n        var markersParam = getParam('markers');\n        var markerStylesParam = getParam('markerStyles');\n        var UM = parent.UM;\n        var editor = getEditor();\n\n        // 设置iframe的大小\n        iframe.style.width = parseInt(widthParam) + 20 + 'px'\n        iframe.style.height = parseInt(heightParam) + 'px'\n        iframe.style.overflow = 'hidden'\n\n        //创建和初始化地图函数：\n        function initMap() {\n            // [FF]切换模式后报错\n            if (!window.BMap) {\n                return;\n            }\n            var dituContent = document.getElementById('dituContent');\n            dituContent.style.width = widthParam + 'px';\n            dituContent.style.height = heightParam + 'px';\n\n            createMap();//创建地图\n            setMapEvent();//设置地图事件\n            addMapControl();//向地图添加控件\n\n            // 创建标注\n            var markersArr = markersParam.split(',');\n            var point = new BMap.Point(markersArr[0], markersArr[1]);\n            marker = new BMap.Marker(point);\n            marker.enableDragging();\n            map.addOverlay(marker); // 将标注添加到地图中\n            marker.setAnimation(BMAP_ANIMATION_BOUNCE)\n            if(iframe && UM && editor) { //在编辑状态下\n                setMapListener();//地图改变修改外层的iframe标签src属性\n            } else {\n                document.focus();\n            }\n        }\n\n        //创建地图函数：\n        function createMap() {\n            map = new BMap.Map(\"dituContent\");//在百度地图容器中创建一个地图\n            var centerArr = centerParam.split(',');\n            var point = new BMap.Point(parseFloat(centerArr[0]), parseFloat(centerArr[1]));//定义一个中心点坐标\n            map.centerAndZoom(point, parseInt(zoomParam));//设定地图的中心点和坐标并将地图显示在地图容器中\n        }\n\n        //地图事件设置函数：\n        function setMapEvent() {\n            map.enableDragging();//启用地图拖拽事件，默认启用(可不写)\n            map.enableScrollWheelZoom();//启用地图滚轮放大缩小\n            map.enableDoubleClickZoom();//启用鼠标双击放大，默认启用(可不写)\n            map.enableKeyboard();//启用键盘上下左右键移动地图\n        }\n\n        //地图控件添加函数：\n        function addMapControl() {\n            //向地图中添加缩放控件\n            var ctrl_nav = new BMap.NavigationControl({anchor: BMAP_ANCHOR_TOP_LEFT, type: BMAP_NAVIGATION_CONTROL_LARGE});\n            map.addControl(ctrl_nav);\n            //向地图中添加缩略图控件\n            var ctrl_ove = new BMap.OverviewMapControl({anchor: BMAP_ANCHOR_BOTTOM_RIGHT, isOpen: 1});\n            map.addControl(ctrl_ove);\n            //向地图中添加比例尺控件\n            var ctrl_sca = new BMap.ScaleControl({anchor: BMAP_ANCHOR_BOTTOM_LEFT});\n            map.addControl(ctrl_sca);\n        }\n\n        function setMapListener() {\n            var timer;\n\n            map.addEventListener('moveend', mapListenerHandler);\n            map.addEventListener('zoomend', mapListenerHandler);\n            marker.addEventListener('dragend', mapListenerHandler);\n\n            function mapListenerHandler() {\n                var zoom = map.getZoom(),\n                    center = map.getCenter(),\n                    marker = window.marker.P;\n\n                iframe.setAttribute('_src', iframe.getAttribute('_src').\n                    replace(new RegExp('([?#&])center=([^?#&]+)', 'i'), '$1center=' + center.lng + ',' + center.lat).\n                    replace(new RegExp('([?#&])markers=([^?#&]+)', 'i'), '$1markers=' + center.lng + ',' + center.lat).\n                    replace(new RegExp('([?#&])zoom=([^?#&]+)', 'i'), '$1zoom=' + zoom));\n                editor.fireEvent('saveScene');\n                saveScene(editor);\n            }\n\n            function saveScene(){\n                if(!timer) {\n                    timer = setTimeout(function(){\n                        editor.fireEvent('savescene');\n                        editor.fireEvent('contentchange');\n                        timer = null;\n                    }, 1000);\n                }\n            }\n        }\n\n        function getSelfIframe(){\n            var iframes = parent.document.getElementsByTagName('iframe');\n            for (var key in iframes) {\n                if (iframes[key].contentWindow == window) {\n                    return iframes[key];\n                }\n            }\n            return null;\n        }\n\n        function getEditor(){\n            var parentNode = iframe.parentNode;\n            while (parentNode && parentNode.tagName && parentNode.tagName.toLowerCase() != 'body') {\n                if (parentNode.className && parentNode.className.indexOf('edui-body-container')!=-1) {\n                    return UM.getEditor(parentNode.id);\n                }\n                parentNode = parentNode.parentNode;\n            }\n            return null;\n        }\n        window.initMap = initMap\n    ";var i=t.createDocumentFragment();return i.appendChild(e),i.appendChild(n),i}function l(t){var e,n;if(e=t.contentWindow.document||t.contentDocument,!(n=t.contentWindow).init&&(n.init=!0,!e.querySelector("script"))){n.BMap_loadScriptTime=(new Date).getTime();var i=e.createElement("script");i.type="text/javascript",i.src=parent.document.location.protocol+"//api.map.baidu.com/getscript?v=2.0&ak=6b6c1a67eaa7db1ca6d6da28e590e343&services=true&t=20200103103842",i.onload=function(){try{n.initMap()}catch(t){}};var o=e.createElement("style");o.innerHTML="\nhtml, body {\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n}";try{e.head.appendChild(o),e.body.appendChild(s(e)),e.body.appendChild(i)}catch(t){n.onload=function(){e.head.appendChild(o),e.body.appendChild(s(e)),e.body.appendChild(i)}}}}UM.registerWidget("map",{tpl:'<style type="text/css">.edui-dialog-map .edui-map-content{width:530px; height: 350px;margin: 10px auto;}.edui-dialog-map .edui-map-content table{width: 100%}.edui-dialog-map .edui-map-content table td{vertical-align: middle;}.edui-dialog-map .edui-map-button { border: 1px solid #ccc; float: left; cursor: default; height: 23px; width: 70px; cursor: pointer; margin: 0; font-size: 12px; line-height: 24px; text-align: center; }.edui-dialog-map .edui-map-button:hover {background:#eee;}.edui-dialog-map .edui-map-city,.edui-dialog-map .edui-map-address{height:21px;background: #FFF;border:1px solid #d7d7d7; line-height: 21px;}.edui-dialog-map .edui-map-city{width:90px}.edui-dialog-map .edui-map-address{width:150px}.edui-dialog-map .edui-map-dynamic-label span{vertical-align:middle;margin: 3px 0px 3px 3px;}.edui-dialog-map .edui-map-dynamic-label input{vertical-align:middle;margin: 3px;}</style><div class="edui-map-content"><table><tr><td><%=lang_city%>:</td><td><input class="edui-map-city" type="text" value="<%=city.value%>"/></td><td><%=lang_address%>:</td><td><input class="edui-map-address" type="text" value="" /></td><td><a class="edui-map-button"><%=lang_search%></a></td><td><label class="edui-map-dynamic-label"><input class="edui-map-dynamic" type="checkbox" checked="checked" name="edui-map-dynamic" /><span><%=lang_dynamicmap%></span></label></td></tr></table><div style="width:100%;height:340px;margin:5px auto;border:1px solid gray" class="edui-map-container"></div></div><script class="edui-tpl-container" type="text/plain"><!DOCTYPE html><html><head><title></title></head><body><scr_ipt>window.onload = function(){var scripts = document.scripts || document.getElementsByTagName("script"),src = [];for( var i = 1, len = scripts.length; i<len; i++ ) {src.push( scripts[i].src );}parent.UM.getEditor(<<id>>).getWidgetData(\'map\').requestMapApi( src );};function mapReadyStateChange ( state ) { '+" if ( state === 'complete' || state === 'loaded' ) { document.close();  } }</scr_ipt><scr_ipt onreadystatechange='mapReadyStateChange(this.readyState);' onload='mapReadyStateChange(\"loaded\");' src=\""+parent.document.location.protocol+'//api.map.baidu.com/api?v=2.0&ak=6b6c1a67eaa7db1ca6d6da28e590e343&services=true"></scr_ipt></body></html><\/script>',initContent:function(t,e){var n=t.getLang("map"),i=t.options.themePath+t.options.theme;if(this.inited)return this.preventDefault(),!1;this.inited=!0,this.lang=n,this.editor=t,this.root().html($.parseTmpl(this.tpl,$.extend({},n.static,{theme_url:i}))),this.initRequestApi()},initRequestApi:function(){var t=null;window.BMap&&window.BMap.Map?this.initBaiduMap():((t=$('<iframe style="display: none;"></iframe>')).appendTo(this.root()),(t=t[0].contentWindow.document).open(),t.write(this.root().find(".edui-tpl-container").html().replace(/scr_ipt/g,"script").replace("<<id>>","'"+this.editor.id+"'")))},requestMapApi:function(t){var e=this;if(t.length){var n=t[0];t=t.slice(1),n?$.getScript(n,function(){e.requestMapApi(t)}):e.requestMapApi(t)}else e.initBaiduMap()},initBaiduMap:function(){var t,e,n,i=this.root(),o=new BMap.Map(i.find(".edui-map-container")[0]),r=$(this.editor.selection.getRange().getClosedNode());if(o.enableInertialDragging(),o.enableScrollWheelZoom(),o.enableContinuousZoom(),r.length&&/api[.]map[.]baidu[.]com/gi.test(r.attr("src"))){var a=r.attr("src"),s=this.getPars(a,"center").split(","),l=this.getPars(a,"markers").split(",");e=new BMap.Point(Number(s[0]),Number(s[1])),t=new BMap.Marker(new BMap.Point(Number(l[0]),Number(l[1]))),o.addControl(new BMap.NavigationControl),o.centerAndZoom(e,Number(this.getPars(a,"zoom"))),n=r.attr("style")}else e=new BMap.Point(116.404,39.915),t=new BMap.Marker(e),o.addControl(new BMap.NavigationControl),o.centerAndZoom(e,10);t.enableDragging(),o.addOverlay(t),this.map=o,this.marker=t,this.imgcss=n,this.p=e},doSearch:function(){var o=this,t=o.root().find(".edui-map-city").val(),e=o.root().find(".edui-map-address").val();t?new BMap.LocalSearch(t,{onSearchComplete:function(t){if(t&&t.getNumPois()){for(var e,n=[],i=0;i<t.getCurrentNumPois();i++)n.push(t.getPoi(i).point);1<n.length?o.map.setViewport(n):o.map.centerAndZoom(n[0],13),e=o.map.getCenter(),o.map.centerAndZoom(e,15),o.marker.setPosition(e),o.p=new BMap.Point(e.lng,e.lat)}else alert(o.lang.errorMsg)}}).search(e||t):alert(o.lang.cityMsg)},getPars:function(t,e){return new RegExp(e+"=((\\d+|[.,])*)","g").exec(t)[1]},reset:function(){this.map&&this.map.reset()},initEvent:function(){var e=this,t=e.root();t.find(".edui-map-address").on("keydown",function(t){if(13==(t=t||event).keyCode)return e.doSearch(),!1}),t.find(".edui-map-button").on("click",function(t){e.doSearch()}),t.find(".edui-map-address").focus(),t.on("mousewheel DOMMouseScroll",function(t){return!1})},width:580,height:408,buttons:{ok:{exec:function(t){var e=t.getWidgetData("map"),n=e.map.getCenter(),i=e.map.getZoom(),o=e.map.getSize(),r=e.p;if(e.root().find(".edui-map-dynamic")[0].checked){t.getOpt("UMEDITOR_HOME_URL");var a=["about:blank;?#center="+n.lng+","+n.lat,"&zoom="+i,"&width="+o.width,"&height="+o.height,"&markers="+r.lng+","+r.lat].join("");t.execCommand("inserthtml",'<iframe class="ueditor_baidumap" _src="'+a+'" frameborder="0" width="'+(o.width+4)+'" height="'+(o.height+4)+'"></iframe>'),$(".ueditor_baidumap").each(function(t,e){l(e)})}else a=document.location.protocol+"//api.map.baidu.com/staticimage?center="+n.lng+","+n.lat+"&zoom="+i+"&width="+o.width+"&height="+o.height+"&markers="+r.lng+","+r.lat,t.execCommand("inserthtml",'<img width="'+o.width+'"height="'+o.height+'" src="'+a+'"'+(e.imgcss?' style="'+e.imgcss+'"':"")+"/>",!0);e.reset()}},cancel:{exec:function(t){t.getWidgetData("map").reset()}}}});var c;n(353);c=UM.dom.domUtils,UM.registerWidget("video",{tpl:'<div class="edui-video-wrapper"><div id="eduiVideoTab"><div id="eduiVideoTabHeads" class="edui-video-tabhead"><span tabSrc="video" class="edui-video-focus"><%=lang_tab_insertV%></span></div><div id="eduiVideoTabBodys" class="edui-video-tabbody"><div id="eduiVideoPanel" class="edui-video-panel"><table><tr><td><label for="eduiVideoUrl" class="edui-video-url"><%=lang_video_url%></label></td><td><input id="eduiVideoUrl" type="text"></td></tr></table><div id="eduiVideoPreview"></div><div id="eduiVideoInfo"><fieldset><legend><%=lang_video_size%></legend><table><tr><td><label for="eduiVideoWidth"><%=lang_videoW%></label></td><td><input class="edui-video-txt" id="eduiVideoWidth" type="text"/></td></tr><tr><td><label for="eduiVideoHeight"><%=lang_videoH%></label></td><td><input class="edui-video-txt" id="eduiVideoHeight" type="text"/></td></tr></table></fieldset><fieldset><legend><%=lang_alignment%></legend><div id="eduiVideoFloat"></div></fieldset></div></div></div></div></div>',initContent:function(t,e){var n=t.getLang("video"),i=UMEDITOR_CONFIG.UMEDITOR_HOME_URL+"dialogs/video/";this.lang=n,this.editor=t,this.$widget=e,this.root().html($.parseTmpl(this.tpl,$.extend({video_url:i},n.static))),this.initController(n)},initEvent:function(){var t=this,e=$("#eduiVideoUrl",t.$widget)[0];"oninput"in e?e.oninput=function(){t.createPreviewVideo(this.value)}:e.onpropertychange=function(){t.createPreviewVideo(this.value)}},initController:function(t){var e,n=this.editor.selection.getRange().getClosedNode();if(this.createAlignButton(["eduiVideoFloat"]),n&&"edui-faked-video"==n.className){$("#eduiVideoUrl",this.$widget)[0].value=e=n.getAttribute("_url"),$("#eduiVideoWidth",this.$widget)[0].value=n.width,$("#eduiVideoHeight",this.$widget)[0].value=n.height;var i=c.getComputedStyle(n,"float"),o=c.getComputedStyle(n.parentNode,"text-align");this.updateAlignButton("center"===o?"center":i)}this.createPreviewVideo(e)},createPreviewVideo:function(t){if(t){var e=this.lang,n=this.convert_url(t);this.endWith(n,[".swf",".flv",".wmv"])?$("#eduiVideoPreview",this.$widget)[0].innerHTML='<embed type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+t+'" width="420" height="280" wmode="transparent" play="true" loop="false" menu="false" allowscriptaccess="never" allowfullscreen="true" ></embed>':$("#eduiVideoPreview",this.$widget).html(e.urlError)}},insertSingle:function(){var t=$("#eduiVideoWidth",this.$widget)[0],e=$("#eduiVideoHeight",this.$widget)[0],n=$("#eduiVideoUrl",this.$widget)[0].value,i=this.findFocus("eduiVideoFloat","name");return!!n&&!!this.checkNum([t,e])&&void this.editor.execCommand("insertvideo",{url:this.convert_url(n),width:t.value,height:e.value,align:i})},convert_url:function(t){if(!t)return"";var e=t.match(/youtu.be\/(\w+)$/)||t.match(/youtube\.com\/watch\?v=(\w+)/)||t.match(/youtube.com\/v\/(\w+)/),n=t.match(/youku\.com\/v_show\/id_(\w+)/);return t=/player\.youku\.com/gi.test(t)?t.replace(/\?f=.*/,""):e?"https://www.youtube.com/v/"+e[1]+"?version=3&feature=player_embedded":n?"http://player.youku.com/player.php/sid/"+n[1]+"/v.swf":t.replace(/http:\/\/www\.tudou\.com\/programs\/view\/([\w\-]+)\/?/i,"http://www.tudou.com/v/$1").replace(/http:\/\/www\.youtube\.com\/watch\?v=([\w\-]+)/i,"http://www.youtube.com/v/$1").replace(/http:\/\/v\.youku\.com\/v_show\/id_([\w\-=]+)\.html/i,"http://player.youku.com/player.php/sid/$1").replace(/http:\/\/www\.56\.com\/u\d+\/v_([\w\-]+)\.html/i,"http://player.56.com/v_$1.swf").replace(/http:\/\/www.56.com\/w\d+\/play_album\-aid\-\d+_vid\-([^.]+)\.html/i,"http://player.56.com/v_$1.swf").replace(/http:\/\/v\.ku6\.com\/.+\/([^.]+)\.html/i,"http://player.ku6.com/refer/$1/v.swf").replace(/\?f=.*/,"")},checkNum:function(t){for(var e,n=0;e=t[n++];){var i=e.value;if(!this.isNumber(i)&&i)return alert(this.lang.numError),e.value="",e.focus(),!1}return!0},isNumber:function(t){return/(0|^[1-9]\d*$)/.test(t)},updateAlignButton:function(t){for(var e,n=$("#eduiVideoFloat",this.$widget)[0].children,i=0;e=n[i++];)e.getAttribute("name")==t?"edui-video-focus"!=e.className&&(e.className="edui-video-focus"):"edui-video-focus"==e.className&&(e.className="")},createAlignButton:function(t){for(var e,n=this.lang,i=UMEDITOR_CONFIG.UMEDITOR_HOME_URL+"dialogs/video/",o=0;e=t[o++];){var r=$("#"+e,this.$widget)[0],a={none:n.default,left:n.floatLeft,right:n.floatRight};for(var s in a){var l=document.createElement("div");l.setAttribute("name",s),"none"==s&&(l.className="edui-video-focus"),l.style.cssText="background:url("+i+"images/"+s+"_focus.jpg);",l.setAttribute("title",a[s]),r.appendChild(l)}this.switchSelect(e)}},switchSelect:function(t){for(var e,n=$("#"+t,this.$widget)[0].children,i=0;e=n[i++];)$(e).on("click",function(){for(var t,e=0;t=n[e++];)t.className="",t.removeAttribute&&t.removeAttribute("class");this.className="edui-video-focus"})},findFocus:function(t,e){for(var n,i,o=$("#"+t,this.$widget)[0].children,r=0;i=o[r++];)if("edui-video-focus"==i.className){n=i.getAttribute(e);break}return n},endWith:function(t,e){for(var n=0,i=e.length;n<i;n++){var o=e[n];if(t.length-o.length<0)return!1;if(t.substring(t.length-o.length)==o)return!0}return!1},width:610,height:498,buttons:{ok:{exec:function(t,e){$("#eduiVideoPreview",e).html(""),t.getWidgetData("video").insertSingle()}},cancel:{exec:function(){$("#eduiVideoPreview").html("")}}}});var d=MathQuill.getInterface(2);function u(t){t=t||document,$(function(){$(t).find(".ueditor_baidumap").each(function(t,e){l(e)})})}function h(t){t=t||document,$(function(){$(t).find(".mathquill-embedded-latex").each(function(t,e){MQ.StaticMath(e)})})}window.MQ=d,n.d(e,"initMap",function(){return u}),n.d(e,"initFormula",function(){return h}),Vue.use({install:function(t,e){t.component("umeditor",i)}}),window.initMap=u,(window.initFormula=h)(),u();e.default={install:function(t,e){t.component("umeditor",i)}}}});